(()=>{var e={8875:(e,t,a)=>{var n;!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(n=function(){return i}.call(t,a,t,e))||(e.exports=n)}()},8679:(e,t,a)=>{"use strict";var n=a(9864),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return n.isMemo(e)?s:o[e.$$typeof]||r}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,a,n){if("string"!=typeof a){if(f){var r=p(a);r&&r!==f&&e(t,r,n)}var s=u(a);d&&(s=s.concat(d(a)));for(var o=l(t),h=l(a),y=0;y<s.length;++y){var _=s[y];if(!(i[_]||n&&n[_]||h&&h[_]||o&&o[_])){var g=m(a,_);try{c(t,_,g)}catch(e){}}}}return t}},1143:e=>{"use strict";e.exports=function(e,t,a,n,r,i,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,n,r,i,s,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},8552:(e,t,a)=>{var n=a(852)(a(5639),"DataView");e.exports=n},1989:(e,t,a)=>{var n=a(1789),r=a(401),i=a(7667),s=a(1327),o=a(1866);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},8407:(e,t,a)=>{var n=a(7040),r=a(4125),i=a(2117),s=a(7518),o=a(4705);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},7071:(e,t,a)=>{var n=a(852)(a(5639),"Map");e.exports=n},3369:(e,t,a)=>{var n=a(4785),r=a(1285),i=a(6e3),s=a(9916),o=a(5265);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=i,l.prototype.has=s,l.prototype.set=o,e.exports=l},3818:(e,t,a)=>{var n=a(852)(a(5639),"Promise");e.exports=n},8525:(e,t,a)=>{var n=a(852)(a(5639),"Set");e.exports=n},8668:(e,t,a)=>{var n=a(3369),r=a(619),i=a(2385);function s(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new n;++t<a;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=i,e.exports=s},6384:(e,t,a)=>{var n=a(8407),r=a(7465),i=a(3779),s=a(7599),o=a(4758),l=a(4309);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,e.exports=c},2705:(e,t,a)=>{var n=a(5639).Symbol;e.exports=n},1149:(e,t,a)=>{var n=a(5639).Uint8Array;e.exports=n},577:(e,t,a)=>{var n=a(852)(a(5639),"WeakMap");e.exports=n},7412:e=>{e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););return e}},4963:e=>{e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length,r=0,i=[];++a<n;){var s=e[a];t(s,a,e)&&(i[r++]=s)}return i}},4636:(e,t,a)=>{var n=a(2545),r=a(5694),i=a(1469),s=a(4144),o=a(5776),l=a(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var a=i(e),u=!a&&r(e),d=!a&&!u&&s(e),m=!a&&!u&&!d&&l(e),p=a||u||d||m,f=p?n(e.length,String):[],h=f.length;for(var y in e)!t&&!c.call(e,y)||p&&("length"==y||d&&("offset"==y||"parent"==y)||m&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||o(y,h))||f.push(y);return f}},9932:e=>{e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}},2488:e=>{e.exports=function(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}},2908:e=>{e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}},4865:(e,t,a)=>{var n=a(9465),r=a(7813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,a){var s=e[t];i.call(e,t)&&r(s,a)&&(void 0!==a||t in e)||n(e,t,a)}},8470:(e,t,a)=>{var n=a(7813);e.exports=function(e,t){for(var a=e.length;a--;)if(n(e[a][0],t))return a;return-1}},4037:(e,t,a)=>{var n=a(8363),r=a(3674);e.exports=function(e,t){return e&&n(t,r(t),e)}},3886:(e,t,a)=>{var n=a(8363),r=a(1704);e.exports=function(e,t){return e&&n(t,r(t),e)}},9465:(e,t,a)=>{var n=a(8777);e.exports=function(e,t,a){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}},5990:(e,t,a)=>{var n=a(6384),r=a(7412),i=a(4865),s=a(4037),o=a(3886),l=a(4626),c=a(278),u=a(8805),d=a(1911),m=a(8234),p=a(6904),f=a(4160),h=a(3824),y=a(9148),_=a(8517),g=a(1469),b=a(4144),v=a(6688),E=a(3218),w=a(2928),x=a(3674),N=a(1704),k="[object Arguments]",S="[object Function]",C="[object Object]",O={};O[k]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[C]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[S]=O["[object WeakMap]"]=!1,e.exports=function e(t,a,I,A,T,P){var M,D=1&a,F=2&a,R=4&a;if(I&&(M=T?I(t,A,T,P):I(t)),void 0!==M)return M;if(!E(t))return t;var L=g(t);if(L){if(M=h(t),!D)return c(t,M)}else{var q=f(t),j=q==S||"[object GeneratorFunction]"==q;if(b(t))return l(t,D);if(q==C||q==k||j&&!T){if(M=F||j?{}:_(t),!D)return F?d(t,o(M,t)):u(t,s(M,t))}else{if(!O[q])return T?t:{};M=y(t,q,D)}}P||(P=new n);var z=P.get(t);if(z)return z;P.set(t,M),w(t)?t.forEach((function(n){M.add(e(n,a,I,n,t,P))})):v(t)&&t.forEach((function(n,r){M.set(r,e(n,a,I,r,t,P))}));var B=L?void 0:(R?F?p:m:F?N:x)(t);return r(B||t,(function(n,r){B&&(n=t[r=n]),i(M,r,e(n,a,I,r,t,P))})),M}},3118:(e,t,a)=>{var n=a(3218),r=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(r)return r(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();e.exports=i},8866:(e,t,a)=>{var n=a(2488),r=a(1469);e.exports=function(e,t,a){var i=t(e);return r(e)?i:n(i,a(e))}},4239:(e,t,a)=>{var n=a(2705),r=a(9607),i=a(2333),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):i(e)}},9454:(e,t,a)=>{var n=a(4239),r=a(7005);e.exports=function(e){return r(e)&&"[object Arguments]"==n(e)}},939:(e,t,a)=>{var n=a(2492),r=a(7005);e.exports=function e(t,a,i,s,o){return t===a||(null==t||null==a||!r(t)&&!r(a)?t!=t&&a!=a:n(t,a,i,s,e,o))}},2492:(e,t,a)=>{var n=a(6384),r=a(7114),i=a(8351),s=a(6096),o=a(4160),l=a(1469),c=a(4144),u=a(6719),d="[object Arguments]",m="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,h,y,_){var g=l(e),b=l(t),v=g?m:o(e),E=b?m:o(t),w=(v=v==d?p:v)==p,x=(E=E==d?p:E)==p,N=v==E;if(N&&c(e)){if(!c(t))return!1;g=!0,w=!1}if(N&&!w)return _||(_=new n),g||u(e)?r(e,t,a,h,y,_):i(e,t,v,a,h,y,_);if(!(1&a)){var k=w&&f.call(e,"__wrapped__"),S=x&&f.call(t,"__wrapped__");if(k||S){var C=k?e.value():e,O=S?t.value():t;return _||(_=new n),y(C,O,a,h,_)}}return!!N&&(_||(_=new n),s(e,t,a,h,y,_))}},5588:(e,t,a)=>{var n=a(4160),r=a(7005);e.exports=function(e){return r(e)&&"[object Map]"==n(e)}},8458:(e,t,a)=>{var n=a(3560),r=a(5346),i=a(3218),s=a(346),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,m=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||r(e))&&(n(e)?m:o).test(s(e))}},9221:(e,t,a)=>{var n=a(4160),r=a(7005);e.exports=function(e){return r(e)&&"[object Set]"==n(e)}},8749:(e,t,a)=>{var n=a(4239),r=a(1780),i=a(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&r(e.length)&&!!s[n(e)]}},280:(e,t,a)=>{var n=a(5726),r=a(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=[];for(var a in Object(e))i.call(e,a)&&"constructor"!=a&&t.push(a);return t}},313:(e,t,a)=>{var n=a(3218),r=a(5726),i=a(3498),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=r(e),a=[];for(var o in e)("constructor"!=o||!t&&s.call(e,o))&&a.push(o);return a}},2545:e=>{e.exports=function(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}},531:(e,t,a)=>{var n=a(2705),r=a(9932),i=a(1469),s=a(3448),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return r(t,e)+"";if(s(t))return l?l.call(t):"";var a=t+"";return"0"==a&&1/t==-1/0?"-0":a}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4318:(e,t,a)=>{var n=a(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},4626:(e,t,a)=>{e=a.nmd(e);var n=a(5639),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,s=i&&i.exports===r?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var a=e.length,n=o?o(a):new e.constructor(a);return e.copy(n),n}},7157:(e,t,a)=>{var n=a(4318);e.exports=function(e,t){var a=t?n(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var a=new e.constructor(e.source,t.exec(e));return a.lastIndex=e.lastIndex,a}},419:(e,t,a)=>{var n=a(2705),r=n?n.prototype:void 0,i=r?r.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},7133:(e,t,a)=>{var n=a(4318);e.exports=function(e,t){var a=t?n(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var a=-1,n=e.length;for(t||(t=Array(n));++a<n;)t[a]=e[a];return t}},8363:(e,t,a)=>{var n=a(4865),r=a(9465);e.exports=function(e,t,a,i){var s=!a;a||(a={});for(var o=-1,l=t.length;++o<l;){var c=t[o],u=i?i(a[c],e[c],c,a,e):void 0;void 0===u&&(u=e[c]),s?r(a,c,u):n(a,c,u)}return a}},8805:(e,t,a)=>{var n=a(8363),r=a(9551);e.exports=function(e,t){return n(e,r(e),t)}},1911:(e,t,a)=>{var n=a(8363),r=a(1442);e.exports=function(e,t){return n(e,r(e),t)}},4429:(e,t,a)=>{var n=a(5639)["__core-js_shared__"];e.exports=n},8777:(e,t,a)=>{var n=a(852),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},7114:(e,t,a)=>{var n=a(8668),r=a(2908),i=a(4757);e.exports=function(e,t,a,s,o,l){var c=1&a,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var m=l.get(e),p=l.get(t);if(m&&p)return m==t&&p==e;var f=-1,h=!0,y=2&a?new n:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var _=e[f],g=t[f];if(s)var b=c?s(g,_,f,t,e,l):s(_,g,f,e,t,l);if(void 0!==b){if(b)continue;h=!1;break}if(y){if(!r(t,(function(e,t){if(!i(y,t)&&(_===e||o(_,e,a,s,l)))return y.push(t)}))){h=!1;break}}else if(_!==g&&!o(_,g,a,s,l)){h=!1;break}}return l.delete(e),l.delete(t),h}},8351:(e,t,a)=>{var n=a(2705),r=a(1149),i=a(7813),s=a(7114),o=a(8776),l=a(1814),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,a,n,c,d,m){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=o;case"[object Set]":var f=1&n;if(p||(p=l),e.size!=t.size&&!f)return!1;var h=m.get(e);if(h)return h==t;n|=2,m.set(e,t);var y=s(p(e),p(t),n,c,d,m);return m.delete(e),y;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,a)=>{var n=a(8234),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,i,s,o){var l=1&a,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var m=c[d];if(!(l?m in t:r.call(t,m)))return!1}var p=o.get(e),f=o.get(t);if(p&&f)return p==t&&f==e;var h=!0;o.set(e,t),o.set(t,e);for(var y=l;++d<u;){var _=e[m=c[d]],g=t[m];if(i)var b=l?i(g,_,m,t,e,o):i(_,g,m,e,t,o);if(!(void 0===b?_===g||s(_,g,a,i,o):b)){h=!1;break}y||(y="constructor"==m)}if(h&&!y){var v=e.constructor,E=t.constructor;v==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof E&&E instanceof E||(h=!1)}return o.delete(e),o.delete(t),h}},1957:(e,t,a)=>{var n="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;e.exports=n},8234:(e,t,a)=>{var n=a(8866),r=a(9551),i=a(3674);e.exports=function(e){return n(e,i,r)}},6904:(e,t,a)=>{var n=a(8866),r=a(1442),i=a(1704);e.exports=function(e){return n(e,i,r)}},5050:(e,t,a)=>{var n=a(7019);e.exports=function(e,t){var a=e.__data__;return n(t)?a["string"==typeof t?"string":"hash"]:a.map}},852:(e,t,a)=>{var n=a(8458),r=a(7801);e.exports=function(e,t){var a=r(e,t);return n(a)?a:void 0}},5924:(e,t,a)=>{var n=a(5569)(Object.getPrototypeOf,Object);e.exports=n},9607:(e,t,a)=>{var n=a(2705),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),a=e[o];try{e[o]=void 0;var n=!0}catch(e){}var r=s.call(e);return n&&(t?e[o]=a:delete e[o]),r}},9551:(e,t,a)=>{var n=a(4963),r=a(479),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return i.call(e,t)})))}:r;e.exports=o},1442:(e,t,a)=>{var n=a(2488),r=a(5924),i=a(9551),s=a(479),o=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=r(e);return t}:s;e.exports=o},4160:(e,t,a)=>{var n=a(8552),r=a(7071),i=a(3818),s=a(8525),o=a(577),l=a(4239),c=a(346),u="[object Map]",d="[object Promise]",m="[object Set]",p="[object WeakMap]",f="[object DataView]",h=c(n),y=c(r),_=c(i),g=c(s),b=c(o),v=l;(n&&v(new n(new ArrayBuffer(1)))!=f||r&&v(new r)!=u||i&&v(i.resolve())!=d||s&&v(new s)!=m||o&&v(new o)!=p)&&(v=function(e){var t=l(e),a="[object Object]"==t?e.constructor:void 0,n=a?c(a):"";if(n)switch(n){case h:return f;case y:return u;case _:return d;case g:return m;case b:return p}return t}),e.exports=v},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,a)=>{var n=a(4536);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,a)=>{var n=a(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return r.call(t,e)?t[e]:void 0}},1327:(e,t,a)=>{var n=a(4536),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}},1866:(e,t,a)=>{var n=a(4536);e.exports=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var a=e.length,n=new e.constructor(a);return a&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},9148:(e,t,a)=>{var n=a(4318),r=a(7157),i=a(3147),s=a(419),o=a(7133);e.exports=function(e,t,a){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,a);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return s(e)}}},8517:(e,t,a)=>{var n=a(3118),r=a(5924),i=a(5726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(r(e))}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,a){var n=typeof e;return!!(a=null==a?9007199254740991:a)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<a}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,a)=>{var n,r=a(4429),i=(n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var a=e&&e.constructor;return e===("function"==typeof a&&a.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,a)=>{var n=a(8470),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,a=n(t,e);return!(a<0||(a==t.length-1?t.pop():r.call(t,a,1),--this.size,0))}},2117:(e,t,a)=>{var n=a(8470);e.exports=function(e){var t=this.__data__,a=n(t,e);return a<0?void 0:t[a][1]}},7518:(e,t,a)=>{var n=a(8470);e.exports=function(e){return n(this.__data__,e)>-1}},4705:(e,t,a)=>{var n=a(8470);e.exports=function(e,t){var a=this.__data__,r=n(a,e);return r<0?(++this.size,a.push([e,t])):a[r][1]=t,this}},4785:(e,t,a)=>{var n=a(1989),r=a(8407),i=a(7071);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||r),string:new n}}},1285:(e,t,a)=>{var n=a(5050);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,a)=>{var n=a(5050);e.exports=function(e){return n(this,e).get(e)}},9916:(e,t,a)=>{var n=a(5050);e.exports=function(e){return n(this,e).has(e)}},5265:(e,t,a)=>{var n=a(5050);e.exports=function(e,t){var a=n(this,e),r=a.size;return a.set(e,t),this.size+=a.size==r?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e,n){a[++t]=[n,e]})),a}},4523:(e,t,a)=>{var n=a(8306);e.exports=function(e){var t=n(e,(function(e){return 500===a.size&&a.clear(),e})),a=t.cache;return t}},4536:(e,t,a)=>{var n=a(852)(Object,"create");e.exports=n},6916:(e,t,a)=>{var n=a(5569)(Object.keys,Object);e.exports=n},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}},1167:(e,t,a)=>{e=a.nmd(e);var n=a(1957),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,s=i&&i.exports===r&&n.process,o=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=o},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(a){return e(t(a))}}},5639:(e,t,a)=>{var n=a(1957),r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();e.exports=i},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}},7465:(e,t,a)=>{var n=a(8407);e.exports=function(){this.__data__=new n,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,a)=>{var n=a(8407),r=a(7071),i=a(3369);e.exports=function(e,t){var a=this.__data__;if(a instanceof n){var s=a.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new i(s)}return a.set(e,t),this.size=a.size,this}},5514:(e,t,a)=>{var n=a(4523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,a,n,r){t.push(n?r.replace(i,"$1"):a||e)})),t}));e.exports=s},327:(e,t,a)=>{var n=a(3448);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},6678:(e,t,a)=>{var n=a(5990);e.exports=function(e){return n(e,4)}},361:(e,t,a)=>{var n=a(5990);e.exports=function(e){return n(e,5)}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,a)=>{var n=a(9454),r=a(7005),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return r(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,a)=>{var n=a(3560),r=a(1780);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},4144:(e,t,a)=>{e=a.nmd(e);var n=a(5639),r=a(5062),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,o=s&&s.exports===i?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||r;e.exports=l},8446:(e,t,a)=>{var n=a(939);e.exports=function(e,t){return n(e,t)}},3560:(e,t,a)=>{var n=a(4239),r=a(3218);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,a)=>{var n=a(5588),r=a(1717),i=a(1167),s=i&&i.isMap,o=s?r(s):n;e.exports=o},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,a)=>{var n=a(4239),r=a(5924),i=a(7005),s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=r(e);if(null===t)return!0;var a=c.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&l.call(a)==u}},2928:(e,t,a)=>{var n=a(9221),r=a(1717),i=a(1167),s=i&&i.isSet,o=s?r(s):n;e.exports=o},3448:(e,t,a)=>{var n=a(4239),r=a(7005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},6719:(e,t,a)=>{var n=a(8749),r=a(1717),i=a(1167),s=i&&i.isTypedArray,o=s?r(s):n;e.exports=o},3674:(e,t,a)=>{var n=a(4636),r=a(280),i=a(8612);e.exports=function(e){return i(e)?n(e):r(e)}},1704:(e,t,a)=>{var n=a(4636),r=a(313),i=a(8612);e.exports=function(e){return i(e)?n(e,!0):r(e)}},8306:(e,t,a)=>{var n=a(3369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var a=function(){var n=arguments,r=t?t.apply(this,n):n[0],i=a.cache;if(i.has(r))return i.get(r);var s=e.apply(this,n);return a.cache=i.set(r,s)||i,s};return a.cache=new(r.Cache||n),a}r.Cache=n,e.exports=r},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},84:(e,t,a)=>{var n=a(9932),r=a(278),i=a(1469),s=a(3448),o=a(5514),l=a(327),c=a(9833);e.exports=function(e){return i(e)?n(e,l):s(e)?[e]:r(o(c(e)))}},9833:(e,t,a)=>{var n=a(531);e.exports=function(e){return null==e?"":n(e)}},2703:(e,t,a)=>{"use strict";var n=a(414);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,a,r,i,s){if(s!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}},5697:(e,t,a)=>{e.exports=a(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5760:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var a=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,o=new t(512),l=new t(512),c=new t(512);function u(e){return o.get(e)||o.set(e,d(e).map((function(e){return e.replace(s,"$2")})))}function d(e){return e.match(a)||[""]}function m(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function p(e){return!m(e)&&(function(e){return e.match(r)&&!e.match(n)}(e)||function(e){return i.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:u,setter:function(e){var t=u(e);return l.get(e)||l.set(e,(function(e,a){for(var n=0,r=t.length,i=e;n<r-1;){var s=t[n];if("__proto__"===s||"constructor"===s||"prototype"===s)return e;i=i[t[n++]]}i[t[n]]=a}))},getter:function(e,t){var a=u(e);return c.get(e)||c.set(e,(function(e){for(var n=0,r=a.length;n<r;){if(null==e&&t)return;e=e[a[n++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(m(t)||n.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,a){!function(e,t,a){var n,r,i,s,o=e.length;for(r=0;r<o;r++)(n=e[r])&&(p(n)&&(n='"'+n+'"'),i=!(s=m(n))&&/^\d+$/.test(n),t.call(a,n,s,i,r,e))}(Array.isArray(e)?e:d(e),t,a)}}},6095:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=109)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(17),r=a(18),i=a(19),s=a(45),o=a(46),l=a(47),c=a(48),u=a(49),d=a(12),m=a(32),p=a(33),f=a(31),h=a(1),y={Scope:h.Scope,create:h.create,find:h.find,query:h.query,register:h.register,Container:n.default,Format:r.default,Leaf:i.default,Embed:c.default,Scroll:s.default,Block:l.default,Inline:o.default,Text:u.default,Attributor:{Attribute:d.default,Class:m.default,Style:p.default,Store:f.default}};t.default=y},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var a=this;return t="[Parchment] "+t,(a=e.call(this,t)||this).message=t,a.name=a.constructor.name,a}return r(t,e),t}(Error);t.ParchmentError=i;var s,o={},l={},c={},u={};function d(e,t){var a;if(void 0===t&&(t=s.ANY),"string"==typeof e)a=u[e]||o[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)a=u.text;else if("number"==typeof e)e&s.LEVEL&s.BLOCK?a=u.block:e&s.LEVEL&s.INLINE&&(a=u.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var r in n)if(a=l[n[r]])break;a=a||c[e.tagName]}return null==a?null:t&s.LEVEL&a.scope&&t&s.TYPE&a.scope?a:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(s=t.Scope||(t.Scope={})),t.create=function(e,t){var a=d(e);if(null==a)throw new i("Unable to create "+e+" blot");var n=a,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(r,t)},t.find=function e(a,n){return void 0===n&&(n=!1),null==a?null:null!=a[t.DATA_KEY]?a[t.DATA_KEY].blot:n?e(a.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return u[n.blotName||n.attrName]=n,"string"==typeof n.keyName?o[n.keyName]=n:(null!=n.className&&(l[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=c[e]&&null!=n.className||(c[e]=n)})))),n}},function(e,t,a){var n=a(51),r=a(11),i=a(3),s=a(20),o=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var a={};return 0===e.length?this:(a.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(a.attributes=t),this.push(a))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var a={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(a.attributes=t),this.push(a)},l.prototype.push=function(e){var t=this.ops.length,a=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof a){if("number"==typeof e.delete&&"number"==typeof a.delete)return this.ops[t-1]={delete:a.delete+e.delete},this;if("number"==typeof a.delete&&null!=e.insert&&(t-=1,"object"!=typeof(a=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,a.attributes)){if("string"==typeof e.insert&&"string"==typeof a.insert)return this.ops[t-1]={insert:a.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof a.retain)return this.ops[t-1]={retain:a.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],a=[];return this.forEach((function(n){(e(n)?t:a).push(n)})),[t,a]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+s.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var a=[],n=s.iterator(this.ops),r=0;r<t&&n.hasNext();){var i;r<e?i=n.next(e-r):(i=n.next(t-r),a.push(i)),r+=s.length(i)}return new l(a)},l.prototype.compose=function(e){var t=s.iterator(this.ops),a=s.iterator(e.ops),n=[],i=a.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var o=i.retain;"insert"===t.peekType()&&t.peekLength()<=o;)o-=t.peekLength(),n.push(t.next());i.retain-o>0&&a.next(i.retain-o)}for(var c=new l(n);t.hasNext()||a.hasNext();)if("insert"===a.peekType())c.push(a.next());else if("delete"===t.peekType())c.push(t.next());else{var u=Math.min(t.peekLength(),a.peekLength()),d=t.next(u),m=a.next(u);if("number"==typeof m.retain){var p={};"number"==typeof d.retain?p.retain=u:p.insert=d.insert;var f=s.attributes.compose(d.attributes,m.attributes,"number"==typeof d.retain);if(f&&(p.attributes=f),c.push(p),!a.hasNext()&&r(c.ops[c.ops.length-1],p)){var h=new l(t.rest());return c.concat(h).chop()}}else"number"==typeof m.delete&&"number"==typeof d.retain&&c.push(m)}return c.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var a=[this,e].map((function(t){return t.map((function(a){if(null!=a.insert)return"string"==typeof a.insert?a.insert:o;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new l,c=n(a[0],a[1],t),u=s.iterator(this.ops),d=s.iterator(e.ops);return c.forEach((function(e){for(var t=e[1].length;t>0;){var a=0;switch(e[0]){case n.INSERT:a=Math.min(d.peekLength(),t),i.push(d.next(a));break;case n.DELETE:a=Math.min(t,u.peekLength()),u.next(a),i.delete(a);break;case n.EQUAL:a=Math.min(u.peekLength(),d.peekLength(),t);var o=u.next(a),l=d.next(a);r(o.insert,l.insert)?i.retain(a,s.attributes.diff(o.attributes,l.attributes)):i.push(l).delete(a)}t-=a}})),i.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var a=s.iterator(this.ops),n=new l,r=0;a.hasNext();){if("insert"!==a.peekType())return;var i=a.peek(),o=s.length(i)-a.peekLength(),c="string"==typeof i.insert?i.insert.indexOf(t,o)-o:-1;if(c<0)n.push(a.next());else if(c>0)n.push(a.next(c));else{if(!1===e(n,a.next(1).attributes||{},r))return;r+=1,n=new l}}n.length()>0&&e(n,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var a=s.iterator(this.ops),n=s.iterator(e.ops),r=new l;a.hasNext()||n.hasNext();)if("insert"!==a.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())r.push(n.next());else{var i=Math.min(a.peekLength(),n.peekLength()),o=a.next(i),c=n.next(i);if(o.delete)continue;c.delete?r.push(c):r.retain(i,s.attributes.transform(o.attributes,c.attributes,t))}else r.retain(s.length(a.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var a=s.iterator(this.ops),n=0;a.hasNext()&&n<=e;){var r=a.peekLength(),i=a.peekType();a.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=r),n+=r):e-=Math.min(r,e-n)}return e},e.exports=l},function(e,t){"use strict";var a=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,r=a.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&a.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!i)return!1;for(t in e);return void 0===t||a.call(e,t)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},c=function(e,t){if("__proto__"===t){if(!a.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,a,n,r,i,u,d=arguments[0],m=1,p=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},m=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});m<p;++m)if(null!=(t=arguments[m]))for(a in t)n=c(d,a),d!==(r=c(t,a))&&(f&&r&&(o(r)||(i=s(r)))?(i?(i=!1,u=n&&s(n)?n:[]):u=n&&o(n)?n:{},l(d,{name:a,newValue:e(f,u,r)})):void 0!==r&&l(d,{name:a,newValue:r}));return d}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=d(a(3)),s=d(a(2)),o=d(a(0)),l=d(a(16)),c=d(a(6)),u=d(a(7));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return m(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),n(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new o.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var a=o.default.query(e,o.default.Scope.BLOCK_ATTRIBUTE);null!=a&&this.attributes.attribute(a,t)}},{key:"formatAt",value:function(e,t,a,n){this.format(a,n)}},{key:"insertAt",value:function(e,a,n){if("string"==typeof a&&a.endsWith("\n")){var i=o.default.create(y.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,a.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,a,n)}}]),t}(o.default.Embed);h.scope=o.default.Scope.BLOCK_BLOT;var y=function(e){function t(e){m(this,t);var a=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.cache={},a}return f(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(o.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),_(t))}),new s.default).insert("\n",_(this))),this.cache.delta}},{key:"deleteAt",value:function(e,a){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,a),this.cache={}}},{key:"formatAt",value:function(e,a,n,i){a<=0||(o.default.query(n,o.default.Scope.BLOCK)?e+a===this.length()&&this.format(n,i):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(a,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,a,n){if(null!=n)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,a,n);if(0!==a.length){var i=a.split("\n"),s=i.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var o=this;i.reduce((function(e,t){return(o=o.split(e,!0)).insertAt(0,t),t.length}),e+s.length)}}},{key:"insertBefore",value:function(e,a){var n=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,a),n instanceof l.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,a){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,a),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,a);return this.cache={},i}}]),t}(o.default.Block);function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:_(e.parent,t))}y.blotName="block",y.tagName="P",y.defaultChild="break",y.allowedChildren=[c.default,o.default.Embed,u.default],t.bubbleFormats=_,t.BlockEmbed=h,t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(50);var s=y(a(2)),o=y(a(14)),l=y(a(8)),c=y(a(9)),u=y(a(0)),d=a(15),m=y(d),p=y(a(3)),f=y(a(10)),h=y(a(34));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g=(0,f.default)("quill"),b=function(){function e(t){var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=v(t,n),this.container=this.options.container,null==this.container)return g.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new o.default(this.scroll),this.selection=new m.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&a.root.classList.toggle("ql-blank",a.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var n=a.selection.lastRange,r=n&&0===n.length?n.index:void 0;E.call(a,(function(){return a.editor.update(null,t,r)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||u.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&g.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(n){a.register(n,e[n],t)}))}else null==this.imports[e]||n||g.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?u.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var a=e;(e=document.createElement("div")).classList.add(a)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,a){var n=this,i=w(e,t,a),s=r(i,4);return e=s[0],t=s[1],a=s[3],E.call(this,(function(){return n.editor.deleteText(e,t)}),a,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return E.call(this,(function(){var n=a.getSelection(!0),r=new s.default;if(null==n)return r;if(u.default.query(e,u.default.Scope.BLOCK))r=a.editor.formatLine(n.index,n.length,_({},e,t));else{if(0===n.length)return a.selection.format(e,t),r;r=a.editor.formatText(n.index,n.length,_({},e,t))}return a.setSelection(n,l.default.sources.SILENT),r}),n)}},{key:"formatLine",value:function(e,t,a,n,i){var s,o=this,l=w(e,t,a,n,i),c=r(l,4);return e=c[0],t=c[1],s=c[2],i=c[3],E.call(this,(function(){return o.editor.formatLine(e,t,s)}),i,e,0)}},{key:"formatText",value:function(e,t,a,n,i){var s,o=this,l=w(e,t,a,n,i),c=r(l,4);return e=c[0],t=c[1],s=c[2],i=c[3],E.call(this,(function(){return o.editor.formatText(e,t,s)}),i,e,0)}},{key:"getBounds",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"==typeof e?this.selection.getBounds(e,a):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:t.bottom-n.top,height:t.height,left:t.left-n.left,right:t.right-n.left,top:t.top-n.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,a=w(e,t),n=r(a,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,a=w(e,t),n=r(a,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,a,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return E.call(this,(function(){return r.editor.insertEmbed(t,a,n)}),i,t)}},{key:"insertText",value:function(e,t,a,n,i){var s,o=this,l=w(e,0,a,n,i),c=r(l,4);return e=c[0],s=c[2],i=c[3],E.call(this,(function(){return o.editor.insertText(e,t,s)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,a){this.clipboard.dangerouslyPasteHTML(e,t,a)}},{key:"removeFormat",value:function(e,t,a){var n=this,i=w(e,t,a),s=r(i,4);return e=s[0],t=s[1],a=s[3],E.call(this,(function(){return n.editor.removeFormat(e,t)}),a,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return E.call(this,(function(){e=new s.default(e);var a=t.getLength(),n=t.editor.deleteText(0,a),r=t.editor.applyDelta(e),i=r.ops[r.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),n.compose(r)}),a)}},{key:"setSelection",value:function(t,a,n){if(null==t)this.selection.setRange(null,a||e.sources.API);else{var i=w(t,a,n),s=r(i,4);t=s[0],a=s[1],n=s[3],this.selection.setRange(new d.Range(t,a),n),n!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,a=(new s.default).insert(e);return this.setContents(a,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return E.call(this,(function(){return e=new s.default(e),t.editor.applyDelta(e,a)}),a,!0)}}]),e}();function v(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=h.default;var a=(0,p.default)(!0,{},t.theme.DEFAULTS);[a,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(a.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var a=b.import("modules/"+t);return null==a?g.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=a.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},b.DEFAULTS,{modules:n},a,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,a){return t.modules[a]&&(e[a]=t.modules[a]),e}),{}),t}function E(e,t,a,n){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new s.default;var r=null==a?null:this.getSelection(),i=this.editor.delta,o=e();if(null!=r&&(!0===a&&(a=r.index),null==n?r=x(r,o,t):0!==n&&(r=x(r,a,n,t)),this.setSelection(r,l.default.sources.SILENT)),o.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,o,i,t];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return o}function w(e,t,a,r,i){var s={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=a,a=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=a,a=t,t=0),"object"===(void 0===a?"undefined":n(a))?(s=a,i=r):"string"==typeof a&&(null!=r?s[a]=r:i=a),[e,t,s,i=i||l.default.sources.API]}function x(e,t,a,n){if(null==e)return null;var i=void 0,o=void 0;if(t instanceof s.default){var c=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==l.default.sources.USER)})),u=r(c,2);i=u[0],o=u[1]}else{var m=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===l.default.sources.USER?e:a>=0?e+a:Math.max(t,e+a)})),p=r(m,2);i=p[0],o=p[1]}return new d.Range(i,o-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=l.default.events,b.sources=l.default.sources,b.version="1.3.7",b.imports={delta:s.default,parchment:u.default,"core/module":c.default,"core/theme":h.default},t.expandConfig=v,t.overload=w,t.default=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=o(a(7)),s=o(a(0));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,a,n,i){if(t.compare(this.statics.blotName,n)<0&&s.default.query(n,s.default.Scope.BLOT)){var o=this.isolate(e,a);i&&o.wrap(n,i)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,a,n,i)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var a=this.parent.isolate(this.offset(),this.length());this.moveChildren(a),a.wrap(this)}}}],[{key:"compare",value:function(e,a){var n=t.order.indexOf(e),r=t.order.indexOf(a);return n>=0||r>=0?n-r:e===a?0:e<a?-1:1}}]),t}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,i.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a(0))&&n.__esModule?n:{default:n}).default.Text);t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=s(a(54));function s(e){return e&&e.__esModule?e:{default:e}}var o=(0,s(a(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var a;e.__quill&&e.__quill.emitter&&(a=e.__quill.emitter).handleDOM.apply(a,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",o.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){o.log.apply(o,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,r=t.handler;(e.target===n||n.contains(e.target))&&r.apply(void 0,[e].concat(a))}))}},{key:"listenDOM",value:function(e,t,a){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:a})}}]),t}(i.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=a};n.DEFAULTS={},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],r="warn";function i(e){if(n.indexOf(e)<=n.indexOf(r)){for(var t,a=arguments.length,i=Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];(t=console)[e].apply(t,i)}}function s(e){return n.reduce((function(t,a){return t[a]=i.bind(console,a,e),t}),{})}i.level=s.level=function(e){r=e},t.default=s},function(e,t,a){var n=Array.prototype.slice,r=a(52),i=a(53),s=e.exports=function(e,t,a){return a||(a={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?a.strict?e===t:e==t:function(e,t,a){var c,u;if(o(e)||o(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),s(e,t,a));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(c=0;c<e.length;c++)if(e[c]!==t[c])return!1;return!0}try{var d=r(e),m=r(t)}catch(e){return!1}if(d.length!=m.length)return!1;for(d.sort(),m.sort(),c=d.length-1;c>=0;c--)if(d[c]!=m[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!s(e[u],t[u],a))return!1;return typeof e==typeof t}(e,t,a))};function o(e){return null==e}function l(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=function(){function e(e,t,a){void 0===a&&(a={}),this.attrName=e,this.keyName=t;var r=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=a.scope?this.scope=a.scope&n.Scope.LEVEL|r:this.scope=n.Scope.ATTRIBUTE,null!=a.whitelist&&(this.whitelist=a.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=d(a(2)),o=d(a(0)),l=d(a(4)),c=d(a(6)),u=d(a(7));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return m(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(c.default);h.blotName="code",h.tagName="CODE";var y=function(e){function t(){return m(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,a){return t.insert(a).insert("\n",e.formats())}),new s.default)}},{key:"format",value:function(e,a){if(e!==this.statics.blotName||!a){var r=this.descendant(u.default,this.length()-1),s=n(r,1)[0];null!=s&&s.deleteAt(s.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,a)}}},{key:"formatAt",value:function(e,a,n,r){if(0!==a&&null!=o.default.query(n,o.default.Scope.BLOCK)&&(n!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+a)){var s=this.newlineIndex(e,!0)+1,l=i-s+1,c=this.isolate(s,l),u=c.next;c.format(n,r),u instanceof t&&u.formatAt(0,e-s+a-l,n,r)}}}},{key:"insertAt",value:function(e,t,a){if(null==a){var r=this.descendant(u.default,e),i=n(r,2),s=i[0],o=i[1];s.insertAt(o,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(o.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var a=this.next;null!=a&&a.prev===this&&a.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===a.statics.formats(a.domNode)&&(a.optimize(e),a.moveChildren(this),a.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=o.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof o.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var a=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return a.setAttribute("spellcheck",!1),a}},{key:"formats",value:function(){return!0}}]),t}(l.default);y.blotName="code-block",y.tagName="PRE",y.TAB="  ",t.Code=h,t.default=y},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=_(a(2)),o=_(a(20)),l=_(a(0)),c=_(a(13)),u=_(a(24)),d=a(4),m=_(d),p=_(a(16)),f=_(a(21)),h=_(a(11)),y=_(a(3));function _(e){return e&&e.__esModule?e:{default:e}}var g=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,a=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var a=(0,f.default)(t.attributes);return delete a.image,e.insert({image:t.attributes.image},a)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new s.default)}(e)).reduce((function(e,s){var c=s.retain||s.delete||s.insert.length||1,u=s.attributes||{};if(null!=s.insert){if("string"==typeof s.insert){var p=s.insert;p.endsWith("\n")&&a&&(a=!1,p=p.slice(0,-1)),e>=i&&!p.endsWith("\n")&&(a=!0),t.scroll.insertAt(e,p);var f=t.scroll.line(e),h=r(f,2),_=h[0],g=h[1],b=(0,y.default)({},(0,d.bubbleFormats)(_));if(_ instanceof m.default){var v=_.descendant(l.default.Leaf,g),E=r(v,1)[0];b=(0,y.default)(b,(0,d.bubbleFormats)(E))}u=o.default.attributes.diff(b,u)||{}}else if("object"===n(s.insert)){var w=Object.keys(s.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,s.insert[w])}i+=c}return Object.keys(u).forEach((function(a){t.scroll.formatAt(e,c,a,u[a])})),e+c}),0),e.reduce((function(e,a){return"number"==typeof a.delete?(t.scroll.deleteAt(e,a.delete),e):e+(a.retain||a.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new s.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(r){if(null==a.scroll.whitelist||a.scroll.whitelist[r]){var i=a.scroll.lines(e,Math.max(t,1)),s=t;i.forEach((function(t){var i=t.length();if(t instanceof c.default){var o=e-t.offset(a.scroll),l=t.newlineIndex(o+s)-o+1;t.formatAt(o,l,r,n[r])}else t.format(r,n[r]);s-=i}))}})),this.scroll.optimize(),this.update((new s.default).retain(e).retain(t,(0,f.default)(n)))}},{key:"formatText",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(r){a.scroll.formatAt(e,t,r,n[r])})),this.update((new s.default).retain(e).retain(t,(0,f.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new s.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof m.default?a.push(t):t instanceof l.default.Leaf&&n.push(t)})):(a=this.scroll.lines(e,t),n=this.scroll.descendants(l.default.Leaf,e,t));var i=[a,n].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var a=e.shift();if(null==a)return t;t=v((0,d.bubbleFormats)(a),t)}return t}));return y.default.apply(y.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,a){return this.scroll.insertAt(e,t,a),this.update((new s.default).retain(e).insert(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},t,a)))}},{key:"insertText",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(r){a.scroll.formatAt(e,t.length,r,n[r])})),this.update((new s.default).retain(e).insert(t,(0,f.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===m.default.blotName&&!(e.children.length>1)&&e.children.head instanceof p.default}},{key:"removeFormat",value:function(e,t){var a=this.getText(e,t),n=this.scroll.line(e+t),i=r(n,2),o=i[0],l=i[1],u=0,d=new s.default;null!=o&&(u=o instanceof c.default?o.newlineIndex(l)-l+1:o.length()-l,d=o.delta().slice(l,l+u-1).insert("\n"));var m=this.getContents(e,t+u).diff((new s.default).insert(a).concat(d)),p=(new s.default).retain(e).concat(m);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(g)&&l.default.find(t[0].target)){var r=l.default.find(t[0].target),i=(0,d.bubbleFormats)(r),o=r.offset(this.scroll),c=t[0].oldValue.replace(u.default.CONTENTS,""),m=(new s.default).insert(c),p=(new s.default).insert(r.value());e=(new s.default).retain(o).concat(m.diff(p,a)).reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new s.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,h.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,a));return e}}]),e}();function v(e,t){return Object.keys(t).reduce((function(a,n){return null==e[n]||(t[n]===e[n]?a[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(a[n]=t[n].concat([e[n]])):a[n]=[t[n],e[n]]),a}),{})}t.default=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=c(a(0)),s=c(a(21)),o=c(a(11)),l=c(a(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=(0,c(a(10)).default)("quill:selection"),p=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=a},f=function(){function e(t,a){var n=this;d(this,e),this.emitter=a,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&n.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var a=t.range,r=a.startNode,i=a.startOffset,s=a.endNode,o=a.endOffset;n.setNativeRange(r,i,s,o)}})),this.update(l.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var a=this.getNativeRange();if(null!=a&&a.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(a.start.node!==this.cursor.textNode){var n=i.default.find(a.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var r=n.split(a.start.offset);n.parent.insertBefore(this.cursor,r)}else n.insertBefore(this.cursor,a.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this.scroll.length();e=Math.min(e,a-1),t=Math.min(e+t,a-1)-e;var r=void 0,i=this.scroll.leaf(e),s=n(i,2),o=s[0],l=s[1];if(null==o)return null;var c=o.position(l,!0),u=n(c,2);r=u[0],l=u[1];var d=document.createRange();if(t>0){d.setStart(r,l);var m=this.scroll.leaf(e+t),p=n(m,2);if(o=p[0],l=p[1],null==o)return null;var f=o.position(l,!0),h=n(f,2);return r=h[0],l=h[1],d.setEnd(r,l),d.getBoundingClientRect()}var y="left",_=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),y="right"),_=d.getBoundingClientRect()):(_=o.domNode.getBoundingClientRect(),l>0&&(y="right")),{bottom:_.top+_.height,height:_.height,left:_[y],right:_[y],top:_.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var a=this.normalizeNative(t);return m.info("getNativeRange",a),a}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,a=[[e.start.node,e.start.offset]];e.native.collapsed||a.push([e.end.node,e.end.offset]);var r=a.map((function(e){var a=n(e,2),r=a[0],s=a[1],o=i.default.find(r,!0),l=o.offset(t.scroll);return 0===s?l:o instanceof i.default.Container?l+o.length():l+o.index(r,s)})),s=Math.min(Math.max.apply(Math,u(r)),this.scroll.length()-1),o=Math.min.apply(Math,[s].concat(u(r)));return new p(o,s-o)}},{key:"normalizeNative",value:function(e){if(!h(this.root,e.startContainer)||!e.collapsed&&!h(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,a=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>a)t=t.childNodes[a],a=0;else{if(t.childNodes.length!==a)break;a=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=a})),t}},{key:"rangeToNative",value:function(e){var t=this,a=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],i=this.scroll.length();return a.forEach((function(e,a){e=Math.min(i-1,e);var s,o=t.scroll.leaf(e),l=n(o,2),c=l[0],u=l[1],d=c.position(u,0!==a),m=n(d,2);s=m[0],u=m[1],r.push(s,u)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var a=this.getBounds(t.index,t.length);if(null!=a){var r=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,r)),s=n(i,1)[0],o=s;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,r));o=n(l,1)[0]}if(null!=s&&null!=o){var c=e.getBoundingClientRect();a.top<c.top?e.scrollTop-=c.top-a.top:a.bottom>c.bottom&&(e.scrollTop+=a.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.info("setNativeRange",e,t,a,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=a.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||r||e!==s.startContainer||t!==s.startOffset||a!==s.endContainer||n!==s.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==a.tagName&&(n=[].indexOf.call(a.parentNode.childNodes,a),a=a.parentNode);var o=document.createRange();o.setStart(e,t),o.setEnd(a,n),i.removeAllRanges(),i.addRange(o)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(a=t,t=!1),m.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,u(n).concat([t]))}else this.setNativeRange(null);this.update(a)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,a=this.getRange(),r=n(a,2),i=r[0],c=r[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,o.default)(t,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,m=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(t),e];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(m)),e!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,m)}}}]),e}();function h(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=p,t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,a){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,a):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=a(0))&&n.__esModule?n:{default:n}).default.Embed);s.blotName="break",s.tagName="BR",t.default=s},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=a(44),s=a(30),o=a(1),l=function(e){function t(t){var a=e.call(this,t)||this;return a.build(),a}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var a=c(t);e.insertBefore(a,e.children.head||void 0)}catch(e){if(e instanceof o.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,a){e.deleteAt(t,a)}))},t.prototype.descendant=function(e,a){var n=this.children.find(a),r=n[0],i=n[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,i]:r instanceof t?r.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,a,n){void 0===a&&(a=0),void 0===n&&(n=Number.MAX_VALUE);var r=[],i=n;return this.children.forEachAt(a,n,(function(a,n,s){(null==e.blotName&&e(a)||null!=e.blotName&&a instanceof e)&&r.push(a),a instanceof t&&(r=r.concat(a.descendants(e,n,i))),i-=s})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,a,n){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,a,n)}))},t.prototype.insertAt=function(e,t,a){var n=this.children.find(e),r=n[0],i=n[1];if(r)r.insertAt(i,t,a);else{var s=null==a?o.create("text",t):o.create(t,a);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new o.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(a){e.insertBefore(a,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var a=o.create(this.statics.defaultChild);this.appendChild(a),a.optimize(t)}else this.remove()},t.prototype.path=function(e,a){void 0===a&&(a=!1);var n=this.children.find(e,a),r=n[0],i=n[1],s=[[this,e]];return r instanceof t?s.concat(r.path(i,a)):(null!=r&&s.push([r,i]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(a){a instanceof t&&a.moveChildren(this),e.prototype.replace.call(this,a)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var a=this.clone();return this.parent.insertBefore(a,this.next),this.children.forEachAt(e,this.length(),(function(e,n,r){e=e.split(n,t),a.appendChild(e)})),a},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var a=this,n=[],r=[];e.forEach((function(e){e.target===a.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=o.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==a.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==a.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=o.find(e.nextSibling));var n=c(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(a),a.insertBefore(n,t||void 0))}))},t}(s.default);function c(e){var t=o.find(e);if(null==t)try{t=o.create(e)}catch(a){t=o.create(o.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=a(12),s=a(31),o=a(17),l=a(1),c=function(e){function t(t){var a=e.call(this,t)||this;return a.attributes=new s.default(a.domNode),a}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var a=l.query(e);a instanceof i.default?this.attributes.attribute(a,t):t&&(null==a||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,a){var n=e.prototype.replaceWith.call(this,t,a);return this.attributes.copy(n),n},t.prototype.update=function(t,a){var n=this;e.prototype.update.call(this,t,a),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(a,n){var r=e.prototype.wrap.call(this,a,n);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(o.default);t.default=c},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=a(30),s=a(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var a=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(a+=1),[this.parent.domNode,a]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.Scope.INLINE_BLOT,t}(i.default);t.default=o},function(e,t,a){var n=a(11),r=a(3),i={attributes:{compose:function(e,t,a){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=r(!0,{},t);for(var i in a||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var a=Object.keys(e).concat(Object.keys(t)).reduce((function(a,r){return n(e[r],t[r])||(a[r]=void 0===t[r]?null:t[r]),a}),{});return Object.keys(a).length>0?a:void 0},transform:function(e,t,a){if("object"!=typeof e)return t;if("object"==typeof t){if(!a)return t;var n=Object.keys(t).reduce((function(a,n){return void 0===e[n]&&(a[n]=t[n]),a}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var a=this.offset,n=i.length(t);if(e>=n-a?(e=n-a,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(a,e):r.insert=t.insert,r}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,a=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[a].concat(n)}return[]},e.exports=i},function(e,t){var a=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,a,n;try{t=Map}catch(e){t=function(){}}try{a=Set}catch(e){a=function(){}}try{n=Promise}catch(e){n=function(){}}function r(i,o,l,c,u){"object"==typeof o&&(l=o.depth,c=o.prototype,u=o.includeNonEnumerable,o=o.circular);var d=[],m=[],p="undefined"!=typeof Buffer;return void 0===o&&(o=!0),void 0===l&&(l=1/0),function i(l,f){if(null===l)return null;if(0===f)return l;var h,y;if("object"!=typeof l)return l;if(e(l,t))h=new t;else if(e(l,a))h=new a;else if(e(l,n))h=new n((function(e,t){l.then((function(t){e(i(t,f-1))}),(function(e){t(i(e,f-1))}))}));else if(r.__isArray(l))h=[];else if(r.__isRegExp(l))h=new RegExp(l.source,s(l)),l.lastIndex&&(h.lastIndex=l.lastIndex);else if(r.__isDate(l))h=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(h),h;e(l,Error)?h=Object.create(l):void 0===c?(y=Object.getPrototypeOf(l),h=Object.create(y)):(h=Object.create(c),y=c)}if(o){var _=d.indexOf(l);if(-1!=_)return m[_];d.push(l),m.push(h)}for(var g in e(l,t)&&l.forEach((function(e,t){var a=i(t,f-1),n=i(e,f-1);h.set(a,n)})),e(l,a)&&l.forEach((function(e){var t=i(e,f-1);h.add(t)})),l){var b;y&&(b=Object.getOwnPropertyDescriptor(y,g)),b&&null==b.set||(h[g]=i(l[g],f-1))}if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(l);for(g=0;g<v.length;g++){var E=v[g];(!(x=Object.getOwnPropertyDescriptor(l,E))||x.enumerable||u)&&(h[E]=i(l[E],f-1),x.enumerable||Object.defineProperty(h,E,{enumerable:!1}))}}if(u){var w=Object.getOwnPropertyNames(l);for(g=0;g<w.length;g++){var x,N=w[g];(x=Object.getOwnPropertyDescriptor(l,N))&&x.enumerable||(h[N]=i(l[N],f-1),Object.defineProperty(h,N,{enumerable:!1}))}}return h}(i,l)}function i(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=i,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},r.__getRegExpFlags=s,r}();"object"==typeof e&&e.exports&&(e.exports=a)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=p(a(0)),o=p(a(8)),l=a(4),c=p(l),u=p(a(16)),d=p(a(13)),m=p(a(25));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof c.default||e instanceof l.BlockEmbed}var h=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=a.emitter,Array.isArray(a.whitelist)&&(n.whitelist=a.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,a){var r=this.line(e),s=n(r,2),o=s[0],c=s[1],m=this.line(e+a),p=n(m,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,a),null!=p&&o!==p&&c>0){if(o instanceof l.BlockEmbed||p instanceof l.BlockEmbed)return void this.optimize();if(o instanceof d.default){var f=o.newlineIndex(o.length(),!0);if(f>-1&&(o=o.split(f+1))===p)return void this.optimize()}else if(p instanceof d.default){var h=p.newlineIndex(0);h>-1&&p.split(h+1)}var y=p.children.head instanceof u.default?null:p.children.head;o.moveChildren(p,y),o.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,a,n,r){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,a,n,r),this.optimize())}},{key:"insertAt",value:function(e,a,n){if(null==n||null==this.whitelist||this.whitelist[a]){if(e>=this.length())if(null==n||null==s.default.query(a,s.default.Scope.BLOCK)){var r=s.default.create(this.statics.defaultChild);this.appendChild(r),null==n&&a.endsWith("\n")&&(a=a.slice(0,-1)),r.insertAt(0,a,n)}else{var o=s.default.create(a,n);this.appendChild(o)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,a,n);this.optimize()}}},{key:"insertBefore",value:function(e,a){if(e.statics.scope===s.default.Scope.INLINE_BLOT){var n=s.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,a)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){return function e(t,a,n){var r=[],i=n;return t.children.forEachAt(a,n,(function(t,a,n){f(t)?r.push(t):t instanceof s.default.Container&&(r=r.concat(e(t,a,i))),i-=n})),r}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,a),e.length>0&&this.emitter.emit(o.default.events.SCROLL_OPTIMIZE,e,a))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var a=o.default.sources.USER;"string"==typeof e&&(a=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(o.default.events.SCROLL_BEFORE_UPDATE,a,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(o.default.events.SCROLL_UPDATE,a,e)}}}]),t}(s.default.Scroll);h.blotName="scroll",h.className="ql-editor",h.tagName="DIV",h.defaultChild="block",h.allowedChildren=[c.default,l.BlockEmbed,m.default],t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=h(a(21)),o=h(a(11)),l=h(a(3)),c=h(a(2)),u=h(a(20)),d=h(a(0)),m=h(a(5)),p=h(a(10)),f=h(a(9));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=(0,p.default)("quill:keyboard"),g=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},N),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},E),n.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},E),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},x),n.addBinding({key:t.keys.DELETE},{collapsed:!1},x),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},E),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=C(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(a){return!!t[a]!==e[a]&&null!==t[a]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=C(e);if(null==n||null==n.key)return _.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof a&&(a={handler:a}),n=(0,l.default)(n,t,a),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(a){if(!a.defaultPrevented){var i=a.which||a.keyCode,s=(e.bindings[i]||[]).filter((function(e){return t.match(a,e)}));if(0!==s.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var c=e.quill.getLine(l.index),u=r(c,2),m=u[0],p=u[1],f=e.quill.getLeaf(l.index),h=r(f,2),y=h[0],_=h[1],g=0===l.length?[y,_]:e.quill.getLeaf(l.index+l.length),b=r(g,2),v=b[0],E=b[1],w=y instanceof d.default.Text?y.value().slice(0,_):"",x=v instanceof d.default.Text?v.value().slice(E):"",N={collapsed:0===l.length,empty:0===l.length&&m.length()<=1,format:e.quill.getFormat(l),offset:p,prefix:w,suffix:x};s.some((function(t){if(null!=t.collapsed&&t.collapsed!==N.collapsed)return!1;if(null!=t.empty&&t.empty!==N.empty)return!1;if(null!=t.offset&&t.offset!==N.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==N.format[e]})))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=N.format[e]:!1===t.format[e]?null==N.format[e]:(0,o.default)(t.format[e],N.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(N.prefix)||null!=t.suffix&&!t.suffix.test(N.suffix)||!0===t.handler.call(e,l,N))}))&&a.preventDefault()}}}}))}}]),t}(f.default);function v(e,t){var a,n=e===b.keys.LEFT?"prefix":"suffix";return y(a={key:e,shiftKey:t,altKey:null},n,/^$/),y(a,"handler",(function(a){var n=a.index;e===b.keys.RIGHT&&(n+=a.length+1);var i=this.quill.getLeaf(n);return!(r(i,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(a.index-1,a.length+1,m.default.sources.USER):this.quill.setSelection(a.index-1,m.default.sources.USER):t?this.quill.setSelection(a.index,a.length+1,m.default.sources.USER):this.quill.setSelection(a.index+a.length+1,m.default.sources.USER),1))})),a}function E(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var a=this.quill.getLine(e.index),n=r(a,1)[0],i={};if(0===t.offset){var s=this.quill.getLine(e.index-1),o=r(s,1)[0];if(null!=o&&o.length()>1){var l=n.formats(),c=this.quill.getFormat(e.index-1,1);i=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,m.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,m.default.sources.USER),this.quill.focus()}}function w(e,t){var a=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-a)){var n={},i=0,s=this.quill.getLine(e.index),o=r(s,1)[0];if(t.offset>=o.length()-1){var l=this.quill.getLine(e.index+1),c=r(l,1)[0];if(c){var d=o.formats(),p=this.quill.getFormat(e.index,1);n=u.default.attributes.diff(d,p)||{},i=c.length()}}this.quill.deleteText(e.index,a,m.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,a,n,m.default.sources.USER)}}function x(e){var t=this.quill.getLines(e),a={};if(t.length>1){var n=t[0].formats(),r=t[t.length-1].formats();a=u.default.attributes.diff(r,n)||{}}this.quill.deleteText(e,m.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index,1,a,m.default.sources.USER),this.quill.setSelection(e.index,m.default.sources.SILENT),this.quill.focus()}function N(e,t){var a=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,a){return d.default.query(a,d.default.Scope.BLOCK)&&!Array.isArray(t.format[a])&&(e[a]=t.format[a]),e}),{});this.quill.insertText(e.index,"\n",n,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&a.quill.format(e,t.format[e],m.default.sources.USER))}))}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var a=d.default.query("code-block"),n=t.index,i=t.length,s=this.quill.scroll.descendant(a,n),o=r(s,2),l=o[0],c=o[1];if(null!=l){var u=this.quill.getIndex(l),p=l.newlineIndex(c,!0)+1,f=l.newlineIndex(u+c+i),h=l.domNode.textContent.slice(p,f).split("\n");c=0,h.forEach((function(t,r){e?(l.insertAt(p+c,a.TAB),c+=a.TAB.length,0===r?n+=a.TAB.length:i+=a.TAB.length):t.startsWith(a.TAB)&&(l.deleteAt(p+c,a.TAB.length),c-=a.TAB.length,0===r?n-=a.TAB.length:i-=a.TAB.length),c+=t.length+1})),this.quill.update(m.default.sources.USER),this.quill.setSelection(n,i,m.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,a){this.quill.format(e,!a.format[e],m.default.sources.USER)}}}function C(e){if("string"==typeof e||"number"==typeof e)return C({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,s.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[g]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",m.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",m.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",m.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,m.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,m.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new c.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,m.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,m.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,m.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),a=r(t,2),n=a[0],i=a[1],s=(0,l.default)({},n.formats(),{list:"checked"}),o=(new c.default).retain(e.index).insert("\n",s).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var a=this.quill.getLine(e.index),n=r(a,2),i=n[0],s=n[1],o=(new c.default).retain(e.index).insert("\n",t.format).retain(i.length()-s-1).retain(1,{header:null});this.quill.updateContents(o,m.default.sources.USER),this.quill.setSelection(e.index+1,m.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var a=t.prefix.length,n=this.quill.getLine(e.index),i=r(n,2),s=i[0],o=i[1];if(o>a)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",m.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(e.index-o).delete(a+1).retain(s.length()-2-o).retain(1,{list:l});this.quill.updateContents(u,m.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-a,m.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),a=r(t,2),n=a[0],i=a[1],s=(new c.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,m.default.sources.USER)}},"embed left":v(b.keys.LEFT,!1),"embed left shift":v(b.keys.LEFT,!0),"embed right":v(b.keys.RIGHT,!1),"embed right shift":v(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=o(a(0)),s=o(a(7));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=a,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"value",value:function(){}}]),r(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,a){if(0!==this._length)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,a);for(var r=this,s=0;null!=r&&r.statics.scope!==i.default.Scope.BLOCK_BLOT;)s+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(s,t.CONTENTS.length,e,a),this._length=0)}},{key:"index",value:function(e,a){return e===this.textNode?0:n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,a)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,a=this.selection.getNativeRange(),n=void 0,r=void 0,o=void 0;if(null!=a&&a.start.node===e&&a.end.node===e){var l=[e,a.start.offset,a.end.offset];n=l[0],r=l[1],o=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(n=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(i.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=r){var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([r,o].map((function(e){return Math.max(0,Math.min(n.data.length,e-1))})),2);return r=u[0],o=u[1],{startNode:n,startOffset:r,endNode:n,endOffset:o}}}}},{key:"update",value:function(e,t){var a=this;if(e.some((function(e){return"characterData"===e.type&&e.target===a.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(i.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(0)),r=a(4),i=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);o.allowedChildren=[i.default,r.BlockEmbed,o],t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=(n=a(0))&&n.__esModule?n:{default:n},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var a=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return a.startsWith("rgb(")?"#"+(a=a.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join(""):a}}]),t}(s.default.Attributor.Style),l=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),c=new o("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=o,t.ColorClass=l,t.ColorStyle=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,a){if(e!==this.statics.blotName||!a)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,a);a=this.constructor.sanitize(a),this.domNode.setAttribute("href",a)}}],[{key:"create",value:function(e){var a=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),a.setAttribute("href",e),a.setAttribute("rel","noopener noreferrer"),a.setAttribute("target","_blank"),a}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return o(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=a(6))&&n.__esModule?n:{default:n}).default);function o(e,t){var a=document.createElement("a");a.href=e;var n=a.href.slice(0,a.href.indexOf(":"));return t.indexOf(n)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=s,t.sanitize=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=o(a(23)),s=o(a(107));function o(e){return e&&e.__esModule?e:{default:e}}var l=0;function c(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var u=function(){function e(t){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){a.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:a.togglePicker();break;case i.default.keys.ESCAPE:a.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,a=document.createElement("span");return a.tabIndex="0",a.setAttribute("role","button"),a.classList.add("ql-picker-item"),e.hasAttribute("value")&&a.setAttribute("data-value",e.getAttribute("value")),e.textContent&&a.setAttribute("data-label",e.textContent),a.addEventListener("click",(function(){t.selectItem(a,!0)})),a.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(a,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),a}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(a){var n=e.buildItem(a);t.appendChild(n),!0===a.selected&&e.selectItem(n)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.container.querySelector(".ql-selected");if(e!==a&&(null!=a&&a.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var a=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",a)}}]),e}();t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(a(0)),r=_(a(5)),i=a(4),s=_(i),o=_(a(16)),l=_(a(25)),c=_(a(24)),u=_(a(35)),d=_(a(6)),m=_(a(22)),p=_(a(7)),f=_(a(55)),h=_(a(42)),y=_(a(23));function _(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":s.default,"blots/block/embed":i.BlockEmbed,"blots/break":o.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":m.default,"blots/text":p.default,"modules/clipboard":f.default,"modules/history":h.default,"modules/keyboard":y.default}),n.default.register(s.default,o.default,c.default,d.default,m.default,p.default),t.default=r.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,a,r){var i=this.isolate(e,t);if(null!=n.query(a,n.Scope.BLOT)&&r)i.wrap(a,r);else if(null!=n.query(a,n.Scope.ATTRIBUTE)){var s=n.create(this.statics.scope);i.wrap(s),s.format(a,r)}},e.prototype.insertAt=function(e,t,a){var r=null==a?n.create("text",t):n.create(t,a),i=this.split(e);this.parent.insertBefore(r,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var a=null;e.children.insertBefore(this,t),null!=t&&(a=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==a||e.domNode.insertBefore(this.domNode,a),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var a=this.split(e);return a.split(t),a},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var a="string"==typeof e?n.create(e,t):e;return a.replace(this),a},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var a="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(a,this.next),a.appendChild(this),a},e.blotName="abstract",e}();t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),r=a(32),i=a(33),s=a(1),o=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),a=r.default.keys(this.domNode),o=i.default.keys(this.domNode);t.concat(a).concat(o).forEach((function(t){var a=s.query(t,s.Scope.ATTRIBUTE);a instanceof n.default&&(e.attributes[a.attrName]=a)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(a){var n=t.attributes[a].value(t.domNode);e.format(a,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,a){return t[a]=e.attributes[a].value(e.domNode),t}),{})},e}();t.default=o},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(a(12).default);t.default=s},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});function i(e){var t=e.split("-"),a=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+a}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(a(12).default);t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=a,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=o(a(0)),s=o(a(7));function o(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.contentNode=document.createElement("span"),a.contentNode.setAttribute("contenteditable",!1),[].slice.call(a.domNode.childNodes).forEach((function(e){a.contentNode.appendChild(e)})),a.leftGuard=document.createTextNode(l),a.rightGuard=document.createTextNode(l),a.domNode.appendChild(a.leftGuard),a.domNode.appendChild(a.contentNode),a.domNode.appendChild(a.rightGuard),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,a){return e===this.leftGuard?0:e===this.rightGuard?1:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,a)}},{key:"restore",value:function(e){var t=void 0,a=void 0,n=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof s.default){var r=this.prev.length();this.prev.insertAt(r,n),t={startNode:this.prev.domNode,startOffset:r+n.length}}else a=document.createTextNode(n),this.parent.insertBefore(i.default.create(a),this),t={startNode:a,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(a=document.createTextNode(n),this.parent.insertBefore(i.default.create(a),this.next),t={startNode:a,startOffset:n.length}));return e.data=l,t}},{key:"update",value:function(e,t){var a=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===a.leftGuard||e.target===a.rightGuard)){var n=a.restore(e.target);n&&(t.range=n)}}))}}]),t}(i.default.Embed);t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,r=(n=a(0))&&n.__esModule?n:{default:n},i={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new r.default.Attributor.Attribute("align","align",i),o=new r.default.Attributor.Class("align","ql-align",i),l=new r.default.Attributor.Style("align","text-align",i);t.AlignAttribute=s,t.AlignClass=o,t.AlignStyle=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,r=(n=a(0))&&n.__esModule?n:{default:n},i=a(26),s=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),o=new i.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,r=(n=a(0))&&n.__esModule?n:{default:n},i={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},s=new r.default.Attributor.Attribute("direction","dir",i),o=new r.default.Attributor.Class("direction","ql-direction",i),l=new r.default.Attributor.Style("direction","direction",i);t.DirectionAttribute=s,t.DirectionClass=o,t.DirectionStyle=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=(n=a(0))&&n.__esModule?n:{default:n},o={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},l=new s.default.Attributor.Class("font","ql-font",o),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style),u=new c("font","font-family",o);t.FontStyle=u,t.FontClass=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,r=(n=a(0))&&n.__esModule?n:{default:n},i=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=i,t.SizeStyle=s},function(e,t,a){"use strict";e.exports={align:{"":a(76),center:a(77),right:a(78),justify:a(79)},background:a(80),blockquote:a(81),bold:a(82),clean:a(83),code:a(58),"code-block":a(58),color:a(84),direction:{"":a(85),rtl:a(86)},float:{center:a(87),full:a(88),left:a(89),right:a(90)},formula:a(91),header:{1:a(92),2:a(93)},italic:a(94),image:a(95),indent:{"+1":a(96),"-1":a(97)},link:a(98),list:{ordered:a(99),bullet:a(100),check:a(101)},script:{sub:a(102),super:a(103)},strike:a(104),underline:a(105),video:a(106)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(0)),i=s(a(5));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,a,r){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&r!==i.default.sources.USER?n.transform(t):n.record(t,a))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var a=this.stack[e].pop();this.stack[t].push(a),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(a[e],i.default.sources.USER),this.ignoreChange=!1;var n=l(a[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var a=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var r=this.stack.undo.pop();a=a.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(s(a(9)).default);function l(e){var t=e.reduce((function(e,t){return e+(t.delete||0)}),0),a=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(a-=1),a}o.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=o,t.getLastChangeIndex=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=f(a(3)),s=f(a(2)),o=f(a(8)),l=f(a(23)),c=f(a(34)),u=f(a(59)),d=f(a(60)),m=f(a(28)),p=f(a(61));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],v=[!1,"serif","monospace"],E=["1","2","3",!1],w=["small",!1,"large","huge"],x=function(e){function t(e,a){h(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return e.emitter.listenDOM("click",document.body,(function t(a){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(a.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach((function(e){e.container.contains(a.target)||e.close()}))})),n}return _(t,e),n(t,[{key:"addModule",value:function(e){var a=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(a),a}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(a){if(a.startsWith("ql-")&&(a=a.slice(3),null!=t[a]))if("direction"===a)e.innerHTML=t[a][""]+t[a].rtl;else if("string"==typeof t[a])e.innerHTML=t[a];else{var n=e.value||"";null!=n&&t[a][n]&&(e.innerHTML=t[a][n])}}))}))}},{key:"buildPickers",value:function(e,t){var a=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,g),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var a=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===a?"#ffffff":"#000000"),new u.default(e,t[a])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,v):e.classList.contains("ql-header")?k(e,E):e.classList.contains("ql-size")&&k(e,w)),new m.default(e)})),this.quill.on(o.default.events.EDITOR_CHANGE,(function(){a.pickers.forEach((function(e){e.update()}))}))}}]),t}(c.default);x.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var a=new FileReader;a.onload=function(a){var n=e.quill.getSelection(!0);e.quill.updateContents((new s.default).retain(n.index).delete(n.length).insert({image:a.target.result}),o.default.sources.USER),e.quill.setSelection(n.index+1,o.default.sources.SILENT),t.value=""},a.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var N=function(e){function t(e,a){h(this,t);var n=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return _(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,a=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var n=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",a,o.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",a,o.default.sources.USER)),this.quill.root.scrollTop=n;break;case"video":a=(t=(e=a).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!a)break;var r=this.quill.getSelection(!0);if(null!=r){var i=r.index+r.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),a,o.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",o.default.sources.USER),this.quill.setSelection(i+2,o.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function k(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var n=document.createElement("option");t===a?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)}))}t.BaseTooltip=N,t.default=x},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,a=this.iterator();t=a();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,a=this.head;null!=a;){if(a===e)return t;t+=a.length(),a=a.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var a,n=this.iterator();a=n();){var r=a.length();if(e<r||t&&e===r&&(null==a.next||0!==a.next.length()))return[a,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,a=this.iterator();t=a();)e(t)},e.prototype.forEachAt=function(e,t,a){if(!(t<=0))for(var n,r=this.find(e),i=r[0],s=e-r[1],o=this.iterator(i);(n=o())&&s<e+t;){var l=n.length();e>s?a(n,e-s,Math.min(t,s+l-e)):a(n,0,Math.min(l,e+t-s)),s+=l}},e.prototype.map=function(e){return this.reduce((function(t,a){return t.push(e(a)),t}),[])},e.prototype.reduce=function(e,t){for(var a,n=this.iterator();a=n();)t=e(t,a);return t},e}();t.default=n},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=a(17),s=a(1),o={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var a=e.call(this,t)||this;return a.scroll=a,a.observer=new MutationObserver((function(e){a.update(e)})),a.observer.observe(a.domNode,o),a.attach(),a}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,a){this.update(),0===t&&a===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,a)},t.prototype.formatAt=function(t,a,n,r){this.update(),e.prototype.formatAt.call(this,t,a,n,r)},t.prototype.insertAt=function(t,a,n){this.update(),e.prototype.insertAt.call(this,t,a,n)},t.prototype.optimize=function(t,a){var n=this;void 0===t&&(t=[]),void 0===a&&(a={}),e.prototype.optimize.call(this,a);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var o=function(e,t){void 0===t&&(t=!0),null!=e&&e!==n&&null!=e.domNode.parentNode&&(null==e.domNode[s.DATA_KEY].mutations&&(e.domNode[s.DATA_KEY].mutations=[]),t&&o(e.parent))},l=function(e){null!=e.domNode[s.DATA_KEY]&&null!=e.domNode[s.DATA_KEY].mutations&&(e instanceof i.default&&e.children.forEach(l),e.optimize(a))},c=t,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(e){var t=s.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(o(s.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=s.find(e,!1);o(t,!1),t instanceof i.default&&t.children.forEach((function(e){o(e,!1)}))}))):"attributes"===e.type&&o(t.prev)),o(t))})),this.children.forEach(l),r=(c=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,a){var n=this;void 0===a&&(a={}),(t=t||this.observer.takeRecords()).map((function(e){var t=s.find(e.target,!0);return null==t?null:null==t.domNode[s.DATA_KEY].mutations?(t.domNode[s.DATA_KEY].mutations=[e],t):(t.domNode[s.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[s.DATA_KEY]&&e.update(e.domNode[s.DATA_KEY].mutations||[],a)})),null!=this.domNode[s.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,a),this.optimize(t,a)},t.blotName="scroll",t.defaultChild="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=l},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=a(18),s=a(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(a){if(a.tagName!==t.tagName)return e.formats.call(this,a)},t.prototype.format=function(a,n){var r=this;a!==this.statics.blotName||n?e.prototype.format.call(this,a,n):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,a,n,r){null!=this.formats()[n]||s.query(n,s.Scope.ATTRIBUTE)?this.isolate(t,a).format(n,r):e.prototype.formatAt.call(this,t,a,n,r)},t.prototype.optimize=function(a){e.prototype.optimize.call(this,a);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e)if(e[a]!==t[a])return!1;return!0}(n,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=s.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=o},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=a(18),s=a(1),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(a){var n=s.query(t.blotName).tagName;if(a.tagName!==n)return e.formats.call(this,a)},t.prototype.format=function(a,n){null!=s.query(a,s.Scope.BLOCK)&&(a!==this.statics.blotName||n?e.prototype.format.call(this,a,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,a,n,r){null!=s.query(n,s.Scope.BLOCK)?this.format(n,r):e.prototype.formatAt.call(this,t,a,n,r)},t.prototype.insertAt=function(t,a,n){if(null==n||null!=s.query(a,s.Scope.INLINE))e.prototype.insertAt.call(this,t,a,n);else{var r=this.split(t),i=s.create(a,n);r.parent.insertBefore(i,r)}},t.prototype.update=function(t,a){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,a)},t.blotName="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=o},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,a){e.prototype.formatAt.call(this,0,this.length(),t,a)},t.prototype.formatAt=function(t,a,n,r){0===t&&a===this.length()?this.format(n,r):e.prototype.formatAt.call(this,t,a,n,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(a(19).default);t.default=i},function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var i=a(19),s=a(1),o=function(e){function t(t){var a=e.call(this,t)||this;return a.text=a.statics.value(a.domNode),a}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,a,n){null==n?(this.text=this.text.slice(0,t)+a+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,a,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(a){e.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var a=s.create(this.domNode.splitText(e));return this.parent.insertBefore(a,this.next),this.text=this.statics.value(this.domNode),a},t.prototype.update=function(e,t){var a=this;e.some((function(e){return"characterData"===e.type&&e.target===a.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.Scope.INLINE_BLOT,t}(i.default);t.default=o},function(e,t,a){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var a=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>a.length)&&(t=a.length),t-=e.length;var n=a.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,a=Object(this),n=a.length>>>0,r=arguments[1],i=0;i<n;i++)if(t=a[i],e.call(r,t,i,a))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var a=-1,n=1,r=0;function i(e,t,u){if(e==t)return e?[[r,e]]:[];(u<0||e.length<u)&&(u=null);var m=o(e,t),p=e.substring(0,m);m=l(e=e.substring(m),t=t.substring(m));var f=e.substring(e.length-m),h=function(e,t){var c;if(!e)return[[n,t]];if(!t)return[[a,e]];var u=e.length>t.length?e:t,d=e.length>t.length?t:e,m=u.indexOf(d);if(-1!=m)return c=[[n,u.substring(0,m)],[r,d],[n,u.substring(m+d.length)]],e.length>t.length&&(c[0][0]=c[2][0]=a),c;if(1==d.length)return[[a,e],[n,t]];var p=function(e,t){var a=e.length>t.length?e:t,n=e.length>t.length?t:e;if(a.length<4||2*n.length<a.length)return null;function r(e,t,a){for(var n,r,i,s,c=e.substring(a,a+Math.floor(e.length/4)),u=-1,d="";-1!=(u=t.indexOf(c,u+1));){var m=o(e.substring(a),t.substring(u)),p=l(e.substring(0,a),t.substring(0,u));d.length<p+m&&(d=t.substring(u-p,u)+t.substring(u,u+m),n=e.substring(0,a-p),r=e.substring(a+m),i=t.substring(0,u-p),s=t.substring(u+m))}return 2*d.length>=e.length?[n,r,i,s,d]:null}var i,s,c,u,d,m=r(a,n,Math.ceil(a.length/4)),p=r(a,n,Math.ceil(a.length/2));return m||p?(i=p?m&&m[4].length>p[4].length?m:p:m,e.length>t.length?(s=i[0],c=i[1],u=i[2],d=i[3]):(u=i[0],d=i[1],s=i[2],c=i[3]),[s,c,u,d,i[4]]):null}(e,t);if(p){var f=p[0],h=p[1],y=p[2],_=p[3],g=p[4],b=i(f,y),v=i(h,_);return b.concat([[r,g]],v)}return function(e,t){for(var r=e.length,i=t.length,o=Math.ceil((r+i)/2),l=o,c=2*o,u=new Array(c),d=new Array(c),m=0;m<c;m++)u[m]=-1,d[m]=-1;u[l+1]=0,d[l+1]=0;for(var p=r-i,f=p%2!=0,h=0,y=0,_=0,g=0,b=0;b<o;b++){for(var v=-b+h;v<=b-y;v+=2){for(var E=l+v,w=(C=v==-b||v!=b&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1)-v;C<r&&w<i&&e.charAt(C)==t.charAt(w);)C++,w++;if(u[E]=C,C>r)y+=2;else if(w>i)h+=2;else if(f&&(k=l+p-v)>=0&&k<c&&-1!=d[k]&&C>=(N=r-d[k]))return s(e,t,C,w)}for(var x=-b+_;x<=b-g;x+=2){for(var N,k=l+x,S=(N=x==-b||x!=b&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-x;N<r&&S<i&&e.charAt(r-N-1)==t.charAt(i-S-1);)N++,S++;if(d[k]=N,N>r)g+=2;else if(S>i)_+=2;else if(!f){var C;if((E=l+p-x)>=0&&E<c&&-1!=u[E]&&(w=l+(C=u[E])-E,C>=(N=r-N)))return s(e,t,C,w)}}}return[[a,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-m),t=t.substring(0,t.length-m));return p&&h.unshift([r,p]),f&&h.push([r,f]),c(h),null!=u&&(h=function(e,t){var n=function(e,t){if(0===t)return[r,e];for(var n=0,i=0;i<e.length;i++){var s=e[i];if(s[0]===a||s[0]===r){var o=n+s[1].length;if(t===o)return[i+1,e];if(t<o){e=e.slice();var l=t-n,c=[s[0],s[1].slice(0,l)],u=[s[0],s[1].slice(l)];return e.splice(i,1,c,u),[i+1,e]}n=o}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],s=n[0],o=i[s],l=i[s+1];if(null==o)return e;if(o[0]!==r)return e;if(null!=l&&o[1]+l[1]===l[1]+o[1])return i.splice(s,2,l,o),d(i,s,2);if(null!=l&&0===l[1].indexOf(o[1])){i.splice(s,2,[l[0],o[1]],[0,o[1]]);var c=l[1].slice(o[1].length);return c.length>0&&i.splice(s+2,0,[l[0],c]),d(i,s,3)}return e}(h,u)),function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},s=2;s<e.length;s+=1)e[s-2][0]===r&&((o=e[s-2][1]).charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319)&&e[s-1][0]===a&&i(e[s-1][1])&&e[s][0]===n&&i(e[s][1])&&(t=!0,e[s-1][1]=e[s-2][1].slice(-1)+e[s-1][1],e[s][1]=e[s-2][1].slice(-1)+e[s][1],e[s-2][1]=e[s-2][1].slice(0,-1));var o;if(!t)return e;var l=[];for(s=0;s<e.length;s+=1)e[s][1].length>0&&l.push(e[s]);return l}(h)}function s(e,t,a,n){var r=e.substring(0,a),s=t.substring(0,n),o=e.substring(a),l=t.substring(n),c=i(r,s),u=i(o,l);return c.concat(u)}function o(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var a=0,n=Math.min(e.length,t.length),r=n,i=0;a<r;)e.substring(i,r)==t.substring(i,r)?i=a=r:n=r,r=Math.floor((n-a)/2+a);return r}function l(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var a=0,n=Math.min(e.length,t.length),r=n,i=0;a<r;)e.substring(e.length-r,e.length-i)==t.substring(t.length-r,t.length-i)?i=a=r:n=r,r=Math.floor((n-a)/2+a);return r}function c(e){e.push([r,""]);for(var t,i=0,s=0,u=0,d="",m="";i<e.length;)switch(e[i][0]){case n:u++,m+=e[i][1],i++;break;case a:s++,d+=e[i][1],i++;break;case r:s+u>1?(0!==s&&0!==u&&(0!==(t=o(m,d))&&(i-s-u>0&&e[i-s-u-1][0]==r?e[i-s-u-1][1]+=m.substring(0,t):(e.splice(0,0,[r,m.substring(0,t)]),i++),m=m.substring(t),d=d.substring(t)),0!==(t=l(m,d))&&(e[i][1]=m.substring(m.length-t)+e[i][1],m=m.substring(0,m.length-t),d=d.substring(0,d.length-t))),0===s?e.splice(i-u,s+u,[n,m]):0===u?e.splice(i-s,s+u,[a,d]):e.splice(i-s-u,s+u,[a,d],[n,m]),i=i-s-u+(s?1:0)+(u?1:0)+1):0!==i&&e[i-1][0]==r?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,u=0,s=0,d="",m=""}""===e[e.length-1][1]&&e.pop();var p=!1;for(i=1;i<e.length-1;)e[i-1][0]==r&&e[i+1][0]==r&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),p=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),p=!0)),i++;p&&c(e)}var u=i;function d(e,t,a){for(var n=t+a-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var r=e[n],i=e[n+1];r[0]===i[1]&&e.splice(n,2,[r[0],r[1]+i[1]])}return e}u.INSERT=n,u.DELETE=a,u.EQUAL=r,e.exports=u},function(e,t){function a(e){var t=[];for(var a in e)t.push(a);return t}(e.exports="function"==typeof Object.keys?Object.keys:a).shim=a},function(e,t){var a="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=a?n:r).supported=n,t.unsupported=r},function(e,t){"use strict";var a=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)a.call(e,t)&&r.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e,t){var a=n?n+e:e,r=this._events[a];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},s.prototype.emit=function(e,t,a,r,i,s){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,a),!0;case 4:return u.fn.call(u.context,t,a,r),!0;case 5:return u.fn.call(u.context,t,a,r,i),!0;case 6:return u.fn.call(u.context,t,a,r,i,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var m,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,a);break;case 4:u[c].fn.call(u[c].context,t,a,r);break;default:if(!l)for(m=1,l=new Array(d-1);m<d;m++)l[m-1]=arguments[m];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,a){var r=new i(t,a||this),s=n?n+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},s.prototype.once=function(e,t,a){var r=new i(t,a||this,!0),s=n?n+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},s.prototype.removeListener=function(e,t,a,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[s],this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||a&&o.context!==a||(0==--this._eventsCount?this._events=new r:delete this._events[s]);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||a&&o[l].context!==a)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new r:delete this._events[s]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=n,s.EventEmitter=s,void 0!==e&&(e.exports=s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=b(a(3)),o=b(a(2)),l=b(a(0)),c=b(a(5)),u=b(a(10)),d=b(a(9)),m=a(36),p=a(37),f=b(a(13)),h=a(26),y=a(38),_=a(39),g=a(40);function b(e){return e&&e.__esModule?e:{default:e}}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var E=(0,u.default)("quill:clipboard"),w="__ql-matcher",x=[[Node.TEXT_NODE,L],[Node.TEXT_NODE,F],["br",function(e,t){return I(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,function(e,t){var a={},n=e.style||{};return n.fontStyle&&"italic"===O(e).fontStyle&&(a.italic=!0),n.fontWeight&&(O(e).fontWeight.startsWith("bold")||parseInt(O(e).fontWeight)>=700)&&(a.bold=!0),Object.keys(a).length>0&&(t=C(t,a)),parseFloat(n.textIndent||0)>0&&(t=(new o.default).insert("\t").concat(t)),t}],["li",function(e,t){var a=l.default.query(e);if(null==a||"list-item"!==a.blotName||!I(t,"\n"))return t;for(var n=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(n+=1),r=r.parentNode;return n<=0?t:t.compose((new o.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new o.default}]],N=[m.AlignAttribute,y.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[m.AlignStyle,p.BackgroundStyle,h.ColorStyle,y.DirectionStyle,_.FontStyle,g.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),S=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],x.concat(n.options.matchers).forEach((function(e){var t=r(e,2),i=t[0],s=t[1];(a.matchVisual||s!==R)&&n.addMatcher(i,s)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var a=this.container.innerText;return this.container.innerHTML="",(new o.default).insert(a,v({},f.default.blotName,t[f.default.blotName]))}var n=this.prepareMatching(),i=r(n,2),s=i[0],l=i[1],c=T(this.container,s,l);return I(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new o.default).retain(c.length()-1).delete(1))),E.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,c.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new o.default).retain(e).concat(n),a),this.quill.setSelection(e+n.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var a=this.quill.getSelection(),n=(new o.default).retain(a.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(a.length),t.quill.updateContents(n,c.default.sources.USER),t.quill.setSelection(n.length()-a.length,c.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],a=[];return this.matchers.forEach((function(n){var i=r(n,2),s=i[0],o=i[1];switch(s){case Node.TEXT_NODE:a.push(o);break;case Node.ELEMENT_NODE:t.push(o);break;default:[].forEach.call(e.container.querySelectorAll(s),(function(e){e[w]=e[w]||[],e[w].push(o)}))}})),[t,a]}}]),t}(d.default);function C(e,t,a){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce((function(e,a){return C(e,a,t[a])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,s.default)({},v({},t,a),n.attributes))}),new o.default)}function O(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function I(e,t){for(var a="",n=e.ops.length-1;n>=0&&a.length<t.length;--n){var r=e.ops[n];if("string"!=typeof r.insert)break;a=r.insert+a}return a.slice(-1*t.length)===t}function A(e){if(0===e.childNodes.length)return!1;var t=O(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,a){return e.nodeType===e.TEXT_NODE?a.reduce((function(t,a){return a(e,t)}),new o.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(n,r){var i=T(r,t,a);return r.nodeType===e.ELEMENT_NODE&&(i=t.reduce((function(e,t){return t(r,e)}),i),i=(r[w]||[]).reduce((function(e,t){return t(r,e)}),i)),n.concat(i)}),new o.default):new o.default}function P(e,t,a){return C(a,e,!0)}function M(e,t){var a=l.default.Attributor.Attribute.keys(e),n=l.default.Attributor.Class.keys(e),r=l.default.Attributor.Style.keys(e),i={};return a.concat(n).concat(r).forEach((function(t){var a=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=a&&(i[a.attrName]=a.value(e),i[a.attrName])||(null==(a=N[t])||a.attrName!==t&&a.keyName!==t||(i[a.attrName]=a.value(e)||void 0),null==(a=k[t])||a.attrName!==t&&a.keyName!==t||(a=k[t],i[a.attrName]=a.value(e)||void 0))})),Object.keys(i).length>0&&(t=C(t,i)),t}function D(e,t){var a=l.default.query(e);if(null==a)return t;if(a.prototype instanceof l.default.Embed){var n={},r=a.value(e);null!=r&&(n[a.blotName]=r,t=(new o.default).insert(n,a.formats(e)))}else"function"==typeof a.formats&&(t=C(t,a.blotName,a.formats(e)));return t}function F(e,t){return I(t,"\n")||(A(e)||t.length()>0&&e.nextSibling&&A(e.nextSibling))&&t.insert("\n"),t}function R(e,t){if(A(e)&&null!=e.nextElementSibling&&!I(t,"\n\n")){var a=e.offsetHeight+parseFloat(O(e).marginTop)+parseFloat(O(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*a&&t.insert("\n")}return t}function L(e,t){var a=e.data;if("O:P"===e.parentNode.tagName)return t.insert(a.trim());if(0===a.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!O(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};a=(a=a.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&A(e.parentNode)||null!=e.previousSibling&&A(e.previousSibling))&&(a=a.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&A(e.parentNode)||null!=e.nextSibling&&A(e.nextSibling))&&(a=a.replace(/\s+$/,n.bind(n,!1)))}return t.insert(a)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=M,t.matchBlot=D,t.matchNewline=F,t.matchSpacing=R,t.matchText=L},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=a(6))&&n.__esModule?n:{default:n}).default);s.blotName="bold",s.tagName=["STRONG","B"],t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=u(a(2)),s=u(a(0)),o=u(a(5)),l=u(a(10)),c=u(a(9));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,l.default)("quill:toolbar"),p=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));if(Array.isArray(i.options.container)){var s=document.createElement("div");h(s,i.options.container),e.container.parentNode.insertBefore(s,e.container),i.container=s}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t){e===o.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)})),i):(r=m.error("Container required for toolbar",i.options),d(i,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,a=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(a){if(a=a.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[a]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[a])return void m.warn("ignoring attaching to disabled format",a,e);if(null==s.default.query(a))return void m.warn("ignoring attaching to nonexistent format",a,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var c=e.options[e.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var u=t.quill.selection.getRange(),d=n(u,1)[0];if(null!=t.handlers[a])t.handlers[a].call(t,l);else if(s.default.query(a).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+a)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},a,l)),o.default.sources.USER)}else t.quill.format(a,l,o.default.sources.USER);t.update(d)})),this.controls.push([a,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(a){var r=n(a,2),i=r[0],s=r[1];if("SELECT"===s.tagName){var o=void 0;if(null==e)o=null;else if(null==t[i])o=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){var l=t[i];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),o=s.querySelector('option[value="'+l+'"]')}null==o?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(null==e)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var c=t[i]===s.getAttribute("value")||null!=t[i]&&t[i].toString()===s.getAttribute("value")||null==t[i]&&!s.getAttribute("value");s.classList.toggle("ql-active",c)}else s.classList.toggle("ql-active",null!=t[i])}))}}]),t}(c.default);function f(e,t,a){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=a&&(n.value=a),e.appendChild(n)}function h(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var a=document.createElement("span");a.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(a,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,a){var n=document.createElement("select");n.classList.add("ql-"+t),a.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(a,t,n):f(a,t,n)}})),e.appendChild(a)}))}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var a=this.quill.getFormat();Object.keys(a).forEach((function(t){null!=s.default.query(t,s.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,o.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",o.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,o.default.sources.USER),this.quill.format("direction",e,o.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),a=this.quill.getFormat(t),n=parseInt(a.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===a.direction&&(r*=-1),this.quill.format("indent",n+r,o.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,o.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),a=this.quill.getFormat(t);"check"===e?"checked"===a.list||"unchecked"===a.list?this.quill.format("list",!1,o.default.sources.USER):this.quill.format("list","unchecked",o.default.sources.USER):this.quill.format("list",e,o.default.sources.USER)}}},t.default=p,t.addControls=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=a,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var a=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return a.style.backgroundColor=e.getAttribute("value")||"",a}},{key:"selectItem",value:function(e,a){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,a);var n=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=r:n.style.fill=r)}}]),t}(((n=a(28))&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=a[e.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,a){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,a),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=a(28))&&n.__esModule?n:{default:n}).default);t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(){function e(t,a){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=a||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"})),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,a=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=a+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),i=0;if(r.right>n.right&&(i=n.right-r.right,this.root.style.left=t+i+"px"),r.left<n.left&&(i=n.left-r.left,this.root.style.left=t+i+"px"),r.bottom>n.bottom){var s=r.bottom-r.top,o=e.bottom-e.top+s;this.root.style.top=a-o+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=m(a(3)),s=m(a(8)),o=a(43),l=m(o),c=m(a(27)),u=a(15),d=m(a(41));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(e){function t(e,a){p(this,t),null!=a.modules.toolbar&&null==a.modules.toolbar.container&&(a.modules.toolbar.container=y);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.quill.container.classList.add("ql-snow"),n}return h(t,e),r(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default),this.tooltip=new g(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,a){e.handlers.link.call(e,!a.format.link)}))}}]),t}(l.default);_.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var a=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(a)&&0!==a.indexOf("mailto:")&&(a="mailto:"+a),this.quill.theme.tooltip.edit("link",a)}else this.quill.format("link",!1)}}}}});var g=function(e){function t(e,a){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.preview=n.root.querySelector("a.ql-preview"),n}return h(t,e),r(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var a=e.linkRange;e.restoreFocus(),e.quill.formatText(a,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,a,n){if(null!=t){if(0===t.length&&n===s.default.sources.USER){var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],_n=!0,n=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(_n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);_n=!0);}catch(e){n=!0,r=e}finally{try{!_n&&s.return&&s.return()}finally{if(n)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e.quill.scroll.descendant(c.default,t.index),2),i=r[0],o=r[1];if(null!=i){e.linkRange=new u.Range(t.index-o,i.length());var l=c.default.formats(i.domNode);return e.preview.textContent=l,e.preview.setAttribute("href",l),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(o.BaseTooltip);g.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=_},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=F(a(29)),r=a(36),i=a(38),s=a(64),o=F(a(65)),l=F(a(66)),c=a(67),u=F(c),d=a(37),m=a(26),p=a(39),f=a(40),h=F(a(56)),y=F(a(68)),_=F(a(27)),g=F(a(69)),b=F(a(70)),v=F(a(71)),E=F(a(72)),w=F(a(73)),x=a(13),N=F(x),k=F(a(74)),S=F(a(75)),C=F(a(57)),O=F(a(41)),I=F(a(28)),A=F(a(59)),T=F(a(60)),P=F(a(61)),M=F(a(108)),D=F(a(62));function F(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":f.SizeStyle},!0),n.default.register({"formats/align":r.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":s.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":f.SizeClass,"formats/blockquote":o.default,"formats/code-block":N.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":h.default,"formats/code":x.Code,"formats/italic":y.default,"formats/link":_.default,"formats/script":g.default,"formats/strike":b.default,"formats/underline":v.default,"formats/image":E.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":k.default,"modules/syntax":S.default,"modules/toolbar":C.default,"themes/bubble":M.default,"themes/snow":D.default,"ui/icons":O.default,"ui/picker":I.default,"ui/icon-picker":T.default,"ui/color-picker":A.default,"ui/tooltip":P.default},!0),t.default=n.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=(n=a(0))&&n.__esModule?n:{default:n},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,a){if("+1"===a||"-1"===a){var n=this.value(e)||0;a="+1"===a?n+1:n-1}return 0===a?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,a)}},{key:"canAdd",value:function(e,a){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,a)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(a))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class),l=new o("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a(4))&&n.__esModule?n:{default:n}).default);r.blotName="blockquote",r.tagName="blockquote",t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=a(4))&&n.__esModule?n:{default:n}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=l(a(0)),s=l(a(4)),o=l(a(25));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,a){e!==p.blotName||a?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,a):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,a){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,a),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,a))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(s.default);m.blotName="list-item",m.tagName="LI";var p=function(e){function t(e){c(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=a.statics.formats(e),r=i.default.find(t.target);"checked"===n?r.format("list","unchecked"):"unchecked"===n&&r.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),a}return d(t,e),n(t,null,[{key:"create",value:function(e){var a="ordered"===e?"OL":"UL",n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,a);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,a){if(e instanceof m)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,a);else{var n=null==a?this.length():a.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var a=this.next;null!=a&&a.prev===this&&a.statics.blotName===this.statics.blotName&&a.domNode.tagName===this.domNode.tagName&&a.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(a.moveChildren(this),a.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var a=i.default.create(this.statics.defaultChild);e.moveChildren(a),this.appendChild(a)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(o.default);p.blotName="list",p.scope=i.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[m],t.ListItem=m,t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a(56))&&n.__esModule?n:{default:n}).default);r.blotName="italic",r.tagName=["EM","I"],t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=a(6))&&n.__esModule?n:{default:n}).default);s.blotName="script",s.tagName=["SUB","SUP"],t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a(6))&&n.__esModule?n:{default:n}).default);r.blotName="strike",r.tagName="S",t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=a(6))&&n.__esModule?n:{default:n}).default);r.blotName="underline",r.tagName="U",t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=(n=a(0))&&n.__esModule?n:{default:n},o=a(27),l=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,a){l.indexOf(e)>-1?a?this.domNode.setAttribute(e,a):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,a)}}],[{key:"create",value:function(e){var a=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&a.setAttribute("src",this.sanitize(e)),a}},{key:"formats",value:function(e){return l.reduce((function(t,a){return e.hasAttribute(a)&&(t[a]=e.getAttribute(a)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,o.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},s=a(4),o=(n=a(27))&&n.__esModule?n:{default:n},l=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,a){l.indexOf(e)>-1?a?this.domNode.setAttribute(e,a):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,a)}}],[{key:"create",value:function(e){var a=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen",!0),a.setAttribute("src",this.sanitize(e)),a}},{key:"formats",value:function(e){return l.reduce((function(t,a){return e.hasAttribute(a)&&(t[a]=e.getAttribute(a)),t}),{})}},{key:"sanitize",value:function(e){return o.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=l(a(35)),s=l(a(5)),o=l(a(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var a=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,a,{throwOnError:!1,errorColor:"#f00"}),a.setAttribute("data-value",e)),a}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(e){function t(){c(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){s.default.register(m,!0)}}]),t}(o.default);t.FormulaBlot=m,t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},i=l(a(0)),s=l(a(5)),o=l(a(9));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(a(13)).default);m.className="ql-syntax";var p=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),f=function(e){function t(e,a){c(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return n.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){n.highlight(),r=null}),n.options.interval)})),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){s.default.register(p,!0),s.default.register(m,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(m).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(s.default.sources.SILENT),null!=t&&this.quill.setSelection(t,s.default.sources.SILENT)}}}]),t}(o.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=m,t.CodeToken=p,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,a,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,a);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,a,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=d(a(3)),s=d(a(8)),o=a(43),l=d(o),c=a(15),u=d(a(41));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],y=function(e){function t(e,a){m(this,t),null!=a.modules.toolbar&&null==a.modules.toolbar.container&&(a.modules.toolbar.container=h);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.quill.container.classList.add("ql-bubble"),n}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new _(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default)}}]),t}(l.default);y.DEFAULTS=(0,i.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var _=function(e){function t(e,a){m(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t,a,r){if(e===s.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===s.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var o=i[i.length-1],l=n.quill.getIndex(o),u=Math.min(o.length()-1,t.index+t.length-l),d=n.quill.getBounds(new c.Range(l,u));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()})),n}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var a=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===a)return a;r.style.marginLeft=-1*a-r.offsetWidth/2+"px"}}]),t}(o.BaseTooltip);_.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=_,t.default=y},function(e,t,a){e.exports=a(63)}]).default},e.exports=t()},1693:(e,t)=>{"use strict";var a=60103,n=60106,r=60107,i=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,m=60115,p=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),n=f("react.portal"),r=f("react.fragment"),i=f("react.strict_mode"),s=f("react.profiler"),o=f("react.provider"),l=f("react.context"),c=f("react.forward_ref"),u=f("react.suspense"),d=f("react.suspense_list"),m=f("react.memo"),p=f("react.lazy"),f("react.block"),f("react.server.block"),f("react.fundamental"),f("react.debug_trace_mode"),f("react.legacy_hidden")}t.isContextConsumer=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case r:case s:case i:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case m:case o:return e;default:return t}}case n:return t}}}(e)===l}},6001:(e,t,a)=>{"use strict";e.exports=a(1693)},745:(e,t,a)=>{"use strict";var n=a(1850);t.s=n.createRoot,n.hydrateRoot},9590:e=>{"use strict";var t=Array.isArray,a=Object.keys,n=Object.prototype.hasOwnProperty,r="undefined"!=typeof Element;function i(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){var o,l,c,u=t(e),d=t(s);if(u&&d){if((l=e.length)!=s.length)return!1;for(o=l;0!=o--;)if(!i(e[o],s[o]))return!1;return!0}if(u!=d)return!1;var m=e instanceof Date,p=s instanceof Date;if(m!=p)return!1;if(m&&p)return e.getTime()==s.getTime();var f=e instanceof RegExp,h=s instanceof RegExp;if(f!=h)return!1;if(f&&h)return e.toString()==s.toString();var y=a(e);if((l=y.length)!==a(s).length)return!1;for(o=l;0!=o--;)if(!n.call(s,y[o]))return!1;if(r&&e instanceof Element&&s instanceof Element)return e===s;for(o=l;0!=o--;)if(!("_owner"===(c=y[o])&&e.$$typeof||i(e[c],s[c])))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return i(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},9921:(e,t)=>{"use strict";var a="function"==typeof Symbol&&Symbol.for,n=a?Symbol.for("react.element"):60103,r=a?Symbol.for("react.portal"):60106,i=a?Symbol.for("react.fragment"):60107,s=a?Symbol.for("react.strict_mode"):60108,o=a?Symbol.for("react.profiler"):60114,l=a?Symbol.for("react.provider"):60109,c=a?Symbol.for("react.context"):60110,u=a?Symbol.for("react.async_mode"):60111,d=a?Symbol.for("react.concurrent_mode"):60111,m=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,f=a?Symbol.for("react.suspense_list"):60120,h=a?Symbol.for("react.memo"):60115,y=a?Symbol.for("react.lazy"):60116,_=a?Symbol.for("react.block"):60121,g=a?Symbol.for("react.fundamental"):60117,b=a?Symbol.for("react.responder"):60118,v=a?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case i:case o:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case m:case y:case h:case l:return e;default:return t}}case r:return t}}}function w(e){return E(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=m,t.Fragment=i,t.Lazy=y,t.Memo=h,t.Portal=r,t.Profiler=o,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||E(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===m},t.isFragment=function(e){return E(e)===i},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===h},t.isPortal=function(e){return E(e)===r},t.isProfiler=function(e){return E(e)===o},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===o||e===s||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||e.$$typeof===g||e.$$typeof===b||e.$$typeof===v||e.$$typeof===_)},t.typeOf=E},9864:(e,t,a)=>{"use strict";e.exports=a(9921)},6871:(e,t,a)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var a=this.constructor.getDerivedStateFromProps(e,t);return null!=a?a:null}.bind(this))}function i(e,t){try{var a=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(a,n)}finally{this.props=a,this.state=n}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var a=null,s=null,o=null;if("function"==typeof t.componentWillMount?a="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(a="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==a||null!==s||null!==o){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,a){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:a;u.call(this,e,t,n)}}return e}a.r(t),a.d(t,{polyfill:()=>s}),n.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},9983:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(9196),s=f(i),o=f(a(1850)),l=f(a(5697)),c=f(a(8747)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(7149)),d=a(1112),m=f(d),p=a(6871);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=t.portalClassName="ReactModalPortal",_=t.bodyOpenClassName="ReactModal__Body--open",g=d.canUseDOM&&void 0!==o.default.createPortal,b=function(e){return document.createElement(e)},v=function(){return g?o.default.createPortal:o.default.unstable_renderSubtreeIntoContainer};function E(e){return e()}var w=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return a=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removePortal=function(){!g&&o.default.unmountComponentAtNode(r.node);var e=E(r.props.parentSelector);e&&e.contains(r.node)?e.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var a=v()(r,s.default.createElement(c.default,n({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(a)},h(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(g||(this.node=b("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:E(e.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,a){if(d.canUseDOM){var n=this.props,r=n.isOpen,i=n.portalClassName;e.portalClassName!==i&&(this.node.className=i);var s=a.prevParent,o=a.nextParent;o!==s&&(s.removeChild(this.node),o.appendChild(this.node)),(e.isOpen||r)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),a=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);a?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,a-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&g?(!this.node&&g&&(this.node=b("div")),v()(s.default.createElement(c.default,n({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(i.Component);w.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.oneOfType([l.default.instanceOf(m.default),l.default.instanceOf(d.SafeHTMLCollection),l.default.instanceOf(d.SafeNodeList),l.default.arrayOf(l.default.instanceOf(m.default))]),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,preventScroll:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,overlayElement:l.default.func,contentElement:l.default.func},w.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:_,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return s.default.createElement("div",e,t)},contentElement:function(e,t){return s.default.createElement("div",e,t)}},w.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(w),t.default=w},8747:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(9196),o=y(a(5697)),l=h(a(9685)),c=y(a(8338)),u=h(a(7149)),d=h(a(2409)),m=a(1112),p=y(m),f=y(a(9623));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}a(5063);var _={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setOverlayRef=function(e){a.overlay=e,a.props.overlayRef&&a.props.overlayRef(e)},a.setContentRef=function(e){a.content=e,a.props.contentRef&&a.props.contentRef(e)},a.afterClose=function(){var e=a.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,s=e.parentSelector,o=s&&s().ownerDocument||document;i&&d.remove(o.body,i),r&&d.remove(o.getElementsByTagName("html")[0],r),n&&g>0&&0==(g-=1)&&u.show(t),a.props.shouldFocusAfterRender&&(a.props.shouldReturnFocusAfterClose?(l.returnFocus(a.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),a.props.onAfterClose&&a.props.onAfterClose(),f.default.deregister(a)},a.open=function(){a.beforeOpen(),a.state.afterOpen&&a.state.beforeClose?(clearTimeout(a.closeTimer),a.setState({beforeClose:!1})):(a.props.shouldFocusAfterRender&&(l.setupScopedFocus(a.node),l.markForFocusLater()),a.setState({isOpen:!0},(function(){a.openAnimationFrame=requestAnimationFrame((function(){a.setState({afterOpen:!0}),a.props.isOpen&&a.props.onAfterOpen&&a.props.onAfterOpen({overlayEl:a.overlay,contentEl:a.content})}))})))},a.close=function(){a.props.closeTimeoutMS>0?a.closeWithTimeout():a.closeWithoutTimeout()},a.focusContent=function(){return a.content&&!a.contentHasFocus()&&a.content.focus({preventScroll:!0})},a.closeWithTimeout=function(){var e=Date.now()+a.props.closeTimeoutMS;a.setState({beforeClose:!0,closesAt:e},(function(){a.closeTimer=setTimeout(a.closeWithoutTimeout,a.state.closesAt-Date.now())}))},a.closeWithoutTimeout=function(){a.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},a.afterClose)},a.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(a.content,e),a.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),a.requestClose(e))},a.handleOverlayOnClick=function(e){null===a.shouldClose&&(a.shouldClose=!0),a.shouldClose&&a.props.shouldCloseOnOverlayClick&&(a.ownerHandlesClose()?a.requestClose(e):a.focusContent()),a.shouldClose=null},a.handleContentOnMouseUp=function(){a.shouldClose=!1},a.handleOverlayOnMouseDown=function(e){a.props.shouldCloseOnOverlayClick||e.target!=a.overlay||e.preventDefault()},a.handleContentOnClick=function(){a.shouldClose=!1},a.handleContentOnMouseDown=function(){a.shouldClose=!1},a.requestClose=function(e){return a.ownerHandlesClose()&&a.props.onRequestClose(e)},a.ownerHandlesClose=function(){return a.props.onRequestClose},a.shouldBeClosed=function(){return!a.state.isOpen&&!a.state.beforeClose},a.contentHasFocus=function(){return document.activeElement===a.content||a.content.contains(document.activeElement)},a.buildClassName=function(e,t){var n="object"===(void 0===t?"undefined":r(t))?t:{base:_[e],afterOpen:_[e]+"--after-open",beforeClose:_[e]+"--before-close"},i=n.base;return a.state.afterOpen&&(i=i+" "+n.afterOpen),a.state.beforeClose&&(i=i+" "+n.beforeClose),"string"==typeof t&&t?i+" "+t:i},a.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(a,n){return a[e+"-"+n]=t[n],a}),{})},a.state={afterOpen:!1,beforeClose:!1},a.shouldClose=null,a.moveFromContentToOverlay=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,a=e.ariaHideApp,n=e.htmlOpenClassName,r=e.bodyOpenClassName,i=e.parentSelector,s=i&&i().ownerDocument||document;r&&d.add(s.body,r),n&&d.add(s.getElementsByTagName("html")[0],n),a&&(g+=1,u.hide(t)),f.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.className,r=e.overlayClassName,i=e.defaultStyles,s=e.children,o=a?{}:i.content,l=r?{}:i.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",r),style:n({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=n({id:t,ref:this.setContentRef,style:n({},o,this.props.style.content),className:this.buildClassName("content",a),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),d=this.props.contentElement(u,s);return this.props.overlayElement(c,d)}}]),t}(s.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:o.default.bool.isRequired,defaultStyles:o.default.shape({content:o.default.object,overlay:o.default.object}),style:o.default.shape({content:o.default.object,overlay:o.default.object}),className:o.default.oneOfType([o.default.string,o.default.object]),overlayClassName:o.default.oneOfType([o.default.string,o.default.object]),parentSelector:o.default.func,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,ariaHideApp:o.default.bool,appElement:o.default.oneOfType([o.default.instanceOf(p.default),o.default.instanceOf(m.SafeHTMLCollection),o.default.instanceOf(m.SafeNodeList),o.default.arrayOf(o.default.instanceOf(p.default))]),onAfterOpen:o.default.func,onAfterClose:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,role:o.default.string,contentLabel:o.default.string,aria:o.default.object,data:o.default.object,children:o.default.node,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func,testId:o.default.string},t.default=b,e.exports=t.default},7149:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")}))),s=null},t.log=function(){},t.assertNodeList=o,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var a=document.querySelectorAll(t);o(a,t),t=a}return s=t||s},t.validateElement=l,t.hide=function(e){var t=!0,a=!1,n=void 0;try{for(var r,i=l(e)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)r.value.setAttribute("aria-hidden","true")}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}},t.show=function(e){var t=!0,a=!1,n=void 0;try{for(var r,i=l(e)[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)r.value.removeAttribute("aria-hidden")}catch(e){a=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw n}}},t.documentNotReadyOrSSRTesting=function(){s=null};var n,r=(n=a(2473))&&n.__esModule?n:{default:n},i=a(1112),s=null;function o(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},5063:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[i,s],t=0;t<e.length;t++){var a=e[t];a&&a.parentNode&&a.parentNode.removeChild(a)}i=s=null,o=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(o.length);for(var e=[i,s],t=0;t<e.length;t++){var a=e[t]||{};console.log(a.nodeName,a.className,a.id)}console.log("edn bodyTrap ----------")};var n,r=(n=a(9623))&&n.__esModule?n:{default:n},i=void 0,s=void 0,o=[];function l(){0!==o.length&&o[o.length-1].focusContent()}r.default.subscribe((function(e,t){i||s||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",l),(s=i.cloneNode()).addEventListener("focus",l)),(o=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(i.parentElement&&i.parentElement.removeChild(i),s.parentElement&&s.parentElement.removeChild(s))}))},2409:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in a)r(e,a[t]);var i=document.body;for(var s in n)r(i,n[s]);a={},n={}},t.log=function(){};var a={},n={};function r(e,t){e.classList.remove(t)}t.add=function(e,t){return r=e.classList,i="html"==e.nodeName.toLowerCase()?a:n,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),r.add(e)}));var r,i},t.remove=function(e,t){return r=e.classList,i="html"==e.nodeName.toLowerCase()?a:n,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&r.remove(e)}));var r,i}},9685:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){i=[]},t.log=function(){},t.handleBlur=l,t.handleFocus=c,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==i.length&&(t=i.pop()).focus({preventScroll:e}))}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var n,r=(n=a(7845))&&n.__esModule?n:{default:n},i=[],s=null,o=!1;function l(){o=!0}function c(){if(o){if(o=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,r.default)(s)[0]||s).focus()}),0)}}},9623:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){n=new a};var a=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var a=t.openInstances.indexOf(e);-1!==a&&(t.openInstances.splice(a,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(a){return a(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},n=new a;t.default=n},1112:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var n,r=((n=a(8875))&&n.__esModule?n:{default:n}).default,i=r.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=r.canUseDOM?window.NodeList:{},t.canUseDOM=r.canUseDOM,t.default=i},8338:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=(0,r.default)(e);if(a.length){var n=void 0,s=t.shiftKey,o=a[0],l=a[a.length-1],c=i();if(e===c){if(!s)return;n=l}if(l!==c||s||(n=o),o===c&&s&&(n=l),n)return t.preventDefault(),void n.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=u&&"Chrome"!=u[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var d=a.indexOf(c);if(d>-1&&(d+=s?-1:1),void 0===(n=a[d]))return t.preventDefault(),void(n=s?l:o).focus();t.preventDefault(),n.focus()}}else t.preventDefault()};var n,r=(n=a(7845))&&n.__esModule?n:{default:n};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?i(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},7845:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,a){return t.concat(a.shadowRoot?e(a.shadowRoot):[a])}),[]).filter(s)};var a="none",n="contents",r=/input|select|textarea|button|object|iframe/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var r=window.getComputedStyle(e),i=r.getPropertyValue("display");return t?i!==n&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,r):i===a}catch(e){return console.warn("Failed to inspect element style"),!1}}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var a=isNaN(t);return(a||t>=0)&&function(e,t){var a=e.nodeName.toLowerCase();return(r.test(a)&&!e.disabled||"a"===a&&e.href||t)&&function(e){for(var t=e,a=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(a&&t===a&&(t=a.host.parentNode),i(t))return!1;t=t.parentNode}return!0}(e)}(e,!a)}e.exports=t.default},3253:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=a(9983))&&n.__esModule?n:{default:n};t.default=r.default,e.exports=t.default},4290:function(e,t,a){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},n(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<a;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,r++)n[r]=i[s];return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=o(a(9196)),c=o(a(1850)),u=o(a(8446)),d=o(a(6095)),m=function(e){function t(t){var a=e.call(this,t)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(e,t,n,r){var i,s,o,l;"text-change"===e?null===(s=(i=a).onEditorChangeText)||void 0===s||s.call(i,a.editor.root.innerHTML,t,r,a.unprivilegedEditor):"selection-change"===e&&(null===(l=(o=a).onEditorChangeSelection)||void 0===l||l.call(o,t,r,a.unprivilegedEditor))};var n=a.isControlled()?t.value:t.defaultValue;return a.value=null!=n?n:"",a}return r(t,e),t.prototype.validateProps=function(e){var t;if(l.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(l.default.Children.count(e.children)&&"textarea"===(null===(t=l.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var a,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var r=this.getEditorContents(),i=null!=(a=e.value)?a:"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),s(this.cleanProps,this.dirtyProps).some((function(t){return!u.default(e[t],n.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(a){return!u.default(e[a],t.props[a])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var a=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),r=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:r},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,s=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var o=this.editor;o.setContents(n),p((function(){return a.setEditorSelection(o,s)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var a=new d.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(a,t.tabIndex),this.hookEditor(a),a},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?u.default(e.ops,t.ops):u.default(e,t)},t.prototype.setEditorContents=function(e,t){var a=this;this.value=t;var n=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),p((function(){return a.setEditorSelection(e,n)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var a=e.getLength();t.index=Math.max(0,Math.min(t.index,a-1)),t.length=Math.max(0,Math.min(t.length,a-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var a,n;(null===(n=null===(a=e)||void 0===a?void 0:a.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=c.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,a=t.children,n=t.preserveWhitespace,r={key:this.state.generation,ref:function(t){e.editingArea=t}};return l.default.Children.count(a)?l.default.cloneElement(l.default.Children.only(a),r):n?l.default.createElement("pre",i({},r)):l.default.createElement("div",i({},r))},t.prototype.render=function(){var e;return l.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,a,n){var r,i;if(this.editor){var s=this.isDelta(this.value)?n.getContents():n.getHTML();s!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=s,null===(i=(r=this.props).onChange)||void 0===i||i.call(r,e,t,a,n))}},t.prototype.onEditorChangeSelection=function(e,t,a){var n,r,i,s,o,l;if(this.editor){var c=this.getEditorSelection(),d=!c&&e,m=c&&!e;u.default(e,c)||(this.selection=e,null===(r=(n=this.props).onChangeSelection)||void 0===r||r.call(n,e,t,a),d?null===(s=(i=this.props).onFocus)||void 0===s||s.call(i,e,t,a):m&&(null===(l=(o=this.props).onBlur)||void 0===l||l.call(o,c,t,a)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=d.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(l.default.Component);function p(e){Promise.resolve().then(e)}e.exports=m},8359:(e,t)=>{"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen");Symbol.for("react.module.reference")},2973:(e,t,a)=>{"use strict";a(8359)},8500:(e,t,a)=>{"use strict";var n=a(4890).qC;t.Uo="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?n:n.apply(null,arguments)},"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__},4500:function(e,t,a){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,a){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:a,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function o(e,t,a){o.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:a,enumerable:!0})}function l(e,t,a){var n=e.slice((a||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function c(e){var t=void 0===e?"undefined":k(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e,t,a,n,d,m,p){p=p||[];var f=(d=d||[]).slice(0);if(void 0!==m){if(n){if("function"==typeof n&&n(f,m))return;if("object"===(void 0===n?"undefined":k(n))){if(n.prefilter&&n.prefilter(f,m))return;if(n.normalize){var h=n.normalize(f,m,e,t);h&&(e=h[0],t=h[1])}}}f.push(m)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y=void 0===e?"undefined":k(e),_=void 0===t?"undefined":k(t),g="undefined"!==y||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(m),b="undefined"!==_||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(m);if(!g&&b)a(new i(f,t));else if(!b&&g)a(new s(f,e));else if(c(e)!==c(t))a(new r(f,e,t));else if("date"===c(e)&&e-t!=0)a(new r(f,e,t));else if("object"===y&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&a(new r(f,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var v;for(e.length,v=0;v<e.length;v++)v>=t.length?a(new o(f,v,new s(void 0,e[v]))):u(e[v],t[v],a,n,f,v,p);for(;v<t.length;)a(new o(f,v,new i(void 0,t[v++])))}else{var E=Object.keys(e),w=Object.keys(t);E.forEach((function(r,i){var s=w.indexOf(r);s>=0?(u(e[r],t[r],a,n,f,r,p),w=l(w,s)):u(e[r],void 0,a,n,f,r,p)})),w.forEach((function(e){u(void 0,t[e],a,n,f,e,p)}))}p.length=p.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||a(new r(f,e,t)))}function d(e,t,a,n){return n=n||[],u(e,t,(function(e){e&&n.push(e)}),a),n.length?n:void 0}function m(e,t,a){if(a.path&&a.path.length){var n,r=e[t],i=a.path.length-1;for(n=0;n<i;n++)r=r[a.path[n]];switch(a.kind){case"A":m(r[a.path[n]],a.index,a.item);break;case"D":delete r[a.path[n]];break;case"E":case"N":r[a.path[n]]=a.rhs}}else switch(a.kind){case"A":m(e[t],a.index,a.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=a.rhs}return e}function p(e,t,a){if(e&&t&&a&&a.kind){for(var n=e,r=-1,i=a.path?a.path.length-1:0;++r<i;)void 0===n[a.path[r]]&&(n[a.path[r]]="number"==typeof a.path[r]?[]:{}),n=n[a.path[r]];switch(a.kind){case"A":m(a.path?n[a.path[r]]:n,a.index,a.item);break;case"D":delete n[a.path[r]];break;case"E":case"N":n[a.path[r]]=a.rhs}}}function f(e,t,a){if(a.path&&a.path.length){var n,r=e[t],i=a.path.length-1;for(n=0;n<i;n++)r=r[a.path[n]];switch(a.kind){case"A":f(r[a.path[n]],a.index,a.item);break;case"D":case"E":r[a.path[n]]=a.lhs;break;case"N":delete r[a.path[n]]}}else switch(a.kind){case"A":f(e[t],a.index,a.item);break;case"D":case"E":e[t]=a.lhs;break;case"N":e=l(e,t)}return e}function h(e){return"color: "+O[e].color+"; font-weight: bold"}function y(e,t,a,n){var r=d(e,t);try{n?a.groupCollapsed("diff"):a.group("diff")}catch(e){a.log("diff")}r?r.forEach((function(e){var t=e.kind,n=function(e){var t=e.kind,a=e.path,n=e.lhs,r=e.rhs,i=e.index,s=e.item;switch(t){case"E":return[a.join("."),n,"",r];case"N":return[a.join("."),r];case"D":return[a.join(".")];case"A":return[a.join(".")+"["+i+"]",s];default:return[]}}(e);a.log.apply(a,["%c "+O[t].text,h(t)].concat(S(n)))})):a.log(" no diff ");try{a.groupEnd()}catch(e){a.log(" diff end  ")}}function _(e,t,a,n){switch(void 0===e?"undefined":k(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,S(a)):e[n];case"function":return e(t);default:return e}}function g(e,t){var a=t.logger,n=t.actionTransformer,r=t.titleFormatter,i=void 0===r?function(e){var t=e.timestamp,a=e.duration;return function(e,n,r){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+n),a&&i.push("%c(in "+r.toFixed(2)+" ms)"),i.join(" ")}}(t):r,s=t.collapsed,o=t.colors,l=t.level,c=t.diff,u=void 0===t.titleFormatter;e.forEach((function(r,d){var m=r.started,p=r.startedTime,f=r.action,h=r.prevState,g=r.error,b=r.took,v=r.nextState,E=e[d+1];E&&(v=E.prevState,b=E.started-m);var w=n(f),N="function"==typeof s?s((function(){return v}),f,r):s,k=x(p),S=o.title?"color: "+o.title(w)+";":"",C=["color: gray; font-weight: lighter;"];C.push(S),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var O=i(w,k,b);try{N?o.title&&u?a.groupCollapsed.apply(a,["%c "+O].concat(C)):a.groupCollapsed(O):o.title&&u?a.group.apply(a,["%c "+O].concat(C)):a.group(O)}catch(e){a.log(O)}var I=_(l,w,[h],"prevState"),A=_(l,w,[w],"action"),T=_(l,w,[g,h],"error"),P=_(l,w,[v],"nextState");if(I)if(o.prevState){var M="color: "+o.prevState(h)+"; font-weight: bold";a[I]("%c prev state",M,h)}else a[I]("prev state",h);if(A)if(o.action){var D="color: "+o.action(w)+"; font-weight: bold";a[A]("%c action    ",D,w)}else a[A]("action    ",w);if(g&&T)if(o.error){var F="color: "+o.error(g,h)+"; font-weight: bold;";a[T]("%c error     ",F,g)}else a[T]("error     ",g);if(P)if(o.nextState){var R="color: "+o.nextState(v)+"; font-weight: bold";a[P]("%c next state",R,v)}else a[P]("next state",v);c&&y(h,v,a,N);try{a.groupEnd()}catch(e){a.log(" log end ")}}))}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},I,e),a=t.logger,n=t.stateTransformer,r=t.errorTransformer,i=t.predicate,s=t.logErrors,o=t.diffPredicate;if(void 0===a)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var a=e.getState;return function(e){return function(c){if("function"==typeof i&&!i(a,c))return e(c);var u={};l.push(u),u.started=N.now(),u.startedTime=new Date,u.prevState=n(a()),u.action=c;var d=void 0;if(s)try{d=e(c)}catch(e){u.error=r(e)}else d=e(c);u.took=N.now()-u.started,u.nextState=n(a());var m=t.diff&&"function"==typeof o?o(a,c):t.diff;if(g(l,Object.assign({},t,{diff:m})),l.length=0,u.error)throw u.error;return d}}}}var v,E,w=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},x=function(e){return w(e.getHours(),2)+":"+w(e.getMinutes(),2)+":"+w(e.getSeconds(),2)+"."+w(e.getMilliseconds(),3)},N="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)},C=[];v="object"===(void 0===a.g?"undefined":k(a.g))&&a.g?a.g:"undefined"!=typeof window?window:{},(E=v.DeepDiff)&&C.push((function(){void 0!==E&&v.DeepDiff===d&&(v.DeepDiff=E,E=void 0)})),t(r,n),t(i,n),t(s,n),t(o,n),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:function(e,t,a){e&&t&&u(e,t,(function(n){a&&!a(e,t,n)||p(e,t,n)}))},enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:function(e,t,a){if(e&&t&&a&&a.kind){var n,r,i=e;for(r=a.path.length-1,n=0;n<r;n++)void 0===i[a.path[n]]&&(i[a.path[n]]={}),i=i[a.path[n]];switch(a.kind){case"A":f(i[a.path[n]],a.index,a.item);break;case"D":case"E":i[a.path[n]]=a.lhs;break;case"N":delete i[a.path[n]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==E},enumerable:!0},noConflict:{value:function(){return C&&(C.forEach((function(e){e()})),C=null),d},enumerable:!0}});var O={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},I={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,a=e.getState;return"function"==typeof t||"function"==typeof a?b()({dispatch:t,getState:a}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=I,e.createLogger=b,e.logger=A,e.default=A,Object.defineProperty(e,"__esModule",{value:!0})}(t)},4890:(e,t,a)=>{"use strict";a.d(t,{DE:()=>d,MT:()=>l,UY:()=>c,md:()=>p,qC:()=>m});var n=a(1413);function r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var i="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function l(e,t,a){var n;if("function"==typeof t&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===a&&(a=t,t=void 0),void 0!==a){if("function"!=typeof a)throw new Error(r(1));return a(l)(e,t)}if("function"!=typeof e)throw new Error(r(2));var s=e,c=t,u=[],d=u,m=!1;function p(){d===u&&(d=u.slice())}function f(){if(m)throw new Error(r(3));return c}function h(e){if("function"!=typeof e)throw new Error(r(4));if(m)throw new Error(r(5));var t=!0;return p(),d.push(e),function(){if(t){if(m)throw new Error(r(6));t=!1,p();var a=d.indexOf(e);d.splice(a,1),u=null}}}function y(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if(m)throw new Error(r(9));try{m=!0,c=s(c,e)}finally{m=!1}for(var t=u=d,a=0;a<t.length;a++)(0,t[a])();return e}return y({type:o.INIT}),(n={dispatch:y,subscribe:h,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error(r(10));s=e,y({type:o.REPLACE})}})[i]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(r(11));function a(){e.next&&e.next(f())}return a(),{unsubscribe:t(a)}}})[i]=function(){return this},e},n}function c(e){for(var t=Object.keys(e),a={},n=0;n<t.length;n++){var i=t[n];"function"==typeof e[i]&&(a[i]=e[i])}var s,l=Object.keys(a);try{!function(e){Object.keys(e).forEach((function(t){var a=e[t];if(void 0===a(void 0,{type:o.INIT}))throw new Error(r(12));if(void 0===a(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(a)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var n=!1,i={},o=0;o<l.length;o++){var c=l[o],u=a[c],d=e[c],m=u(d,t);if(void 0===m)throw t&&t.type,new Error(r(14));i[c]=m,n=n||m!==d}return(n=n||l.length!==Object.keys(e).length)?i:e}}function u(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error(r(16));var a={};for(var n in e){var i=e[n];"function"==typeof i&&(a[n]=u(i,t))}return a}function m(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function p(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(){var a=e.apply(void 0,arguments),i=function(){throw new Error(r(15))},s={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(s)}));return i=m.apply(void 0,o)(a.dispatch),(0,n.Z)((0,n.Z)({},a),{},{dispatch:i})}}}},9885:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,a=e=>e.match(t)||[],n=e=>e[0].toUpperCase()+e.slice(1),r=(e,t)=>a(e).join(t).toLowerCase(),i=e=>a(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");e.exports={words:a,upperFirst:n,camelCase:i,pascalCase:e=>n(i(e)),snakeCase:e=>r(e,"_"),kebabCase:e=>r(e,"-"),sentenceCase:e=>n(r(e," ")),titleCase:e=>a(e).map(n).join(" ")}},4633:e=>{function t(e,t){var a=e.length,n=new Array(a),r={},i=a,s=function(e){for(var t=new Map,a=0,n=e.length;a<n;a++){var r=e[a];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}(t),o=function(e){for(var t=new Map,a=0,n=e.length;a<n;a++)t.set(e[a],a);return t}(e);for(t.forEach((function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)r[i]||l(e[i],i,new Set);return n;function l(e,t,i){if(i.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(e){c=""}throw new Error("Cyclic dependency"+c)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!r[t]){r[t]=!0;var u=s.get(e)||new Set;if(t=(u=Array.from(u)).length){i.add(e);do{var d=u[--t];l(d,o.get(d),i)}while(t);i.delete(e)}n[--a]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,a=0,n=e.length;a<n;a++){var r=e[a];t.add(r[0]),t.add(r[1])}return Array.from(t)}(e),e)},e.exports.array=t},3250:(e,t,a)=>{"use strict";var n=a(9196),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!r(e,a)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),n=i({inst:{value:a,getSnapshot:t}}),r=n[0].inst,u=n[1];return o((function(){r.value=a,r.getSnapshot=t,c(r)&&u({inst:r})}),[e,a,t]),s((function(){return c(r)&&u({inst:r}),e((function(){c(r)&&u({inst:r})}))}),[e]),l(a),a};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},139:(e,t,a)=>{"use strict";var n=a(9196),r=a(1688),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,a,n,r){var d=o(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;d=c((function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==r&&m.hasValue){var t=m.value;if(r(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var a=n(e);return void 0!==r&&r(t,a)?t:(s=e,o=a)}var s,o,l=!1,c=void 0===a?null:a;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,a,n,r]);var p=s(e,d[0],d[1]);return l((function(){m.hasValue=!0,m.value=p}),[p]),u(p),p}},1688:(e,t,a)=>{"use strict";e.exports=a(3250)},2798:(e,t,a)=>{"use strict";e.exports=a(139)},2473:e=>{"use strict";e.exports=function(){}},9196:e=>{"use strict";e.exports=window.React},1850:e=>{"use strict";e.exports=window.ReactDOM},3967:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=s(e,i(a)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=s(t,a));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},4942:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(7343);function r(e,t,a){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},1413:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(4942);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},5512:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(1002);function r(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==(0,n.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}},7343:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(1002),r=a(5512);function i(e){var t=(0,r.Z)(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},1002:(e,t,a)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}a.d(t,{Z:()=>n})}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=a(9196),t=a.n(e),n=a(745);const r=window.wp.element;function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}var s,o;(o=s||(s={})).Pop="POP",o.Push="PUSH",o.Replace="REPLACE";const l="popstate";function c(e,t){if(!1===e||null==e)throw new Error(t)}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,a,n){return void 0===a&&(a=null),i({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?p(t):t,{state:a,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var f;function h(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function y(e,t,a,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function g(e,t,a,n){let r;void 0===n&&(n=!1),"string"==typeof e?r=p(e):(r=i({},e),c(!r.pathname||!r.pathname.includes("?"),y("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),y("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),y("#","search","hash",r)));let s,o=""===e||""===r.pathname,l=o?"/":r.pathname;if(n||null==l)s=a;else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:a,search:n="",hash:r=""}="string"==typeof e?p(e):e,i=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)})),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:i,search:v(n),hash:E(r)}}(r,s),d=l&&"/"!==l&&l.endsWith("/"),m=(o||"."===l)&&a.endsWith("/");return u.pathname.endsWith("/")||!d&&!m||(u.pathname+="/"),u}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const b=e=>e.join("/").replace(/\/\/+/g,"/"),v=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",E=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const w=["post","put","patch","delete"],x=(new Set(w),["get",...w]);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N.apply(this,arguments)}new Set(x),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const k=e.createContext(null),S=e.createContext(null),C=e.createContext(null),O=e.createContext({outlet:null,matches:[],isDataRoute:!1});function I(){return null!=e.useContext(C)}function A(){return I()||c(!1),e.useContext(C).location}function T(t){e.useContext(S).static||e.useLayoutEffect(t)}function P(){let{isDataRoute:t}=e.useContext(O);return t?function(){let{router:t}=function(t){let a=e.useContext(k);return a||c(!1),a}(D.UseNavigateStable),a=function(t){let a=function(t){let a=e.useContext(O);return a||c(!1),a}(),n=a.matches[a.matches.length-1];return n.route.id||c(!1),n.route.id}(F.UseNavigateStable),n=e.useRef(!1);T((()=>{n.current=!0}));let r=e.useCallback((function(e,r){void 0===r&&(r={}),n.current&&("number"==typeof e?t.navigate(e):t.navigate(e,N({fromRouteId:a},r)))}),[t,a]);return r}():function(){I()||c(!1);let t=e.useContext(k),{basename:a,navigator:n}=e.useContext(S),{matches:r}=e.useContext(O),{pathname:i}=A(),s=JSON.stringify(_(r).map((e=>e.pathnameBase))),o=e.useRef(!1);T((()=>{o.current=!0}));let l=e.useCallback((function(e,r){if(void 0===r&&(r={}),!o.current)return;if("number"==typeof e)return void n.go(e);let l=g(e,JSON.parse(s),i,"path"===r.relative);null==t&&"/"!==a&&(l.pathname="/"===l.pathname?a:b([a,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)}),[a,n,s,i,t]);return l}()}function M(t,a){let{relative:n}=void 0===a?{}:a,{matches:r}=e.useContext(O),{pathname:i}=A(),s=JSON.stringify(_(r).map((e=>e.pathnameBase)));return e.useMemo((()=>g(t,JSON.parse(s),i,"path"===n)),[t,s,i,n])}e.Component;var D=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(D||{}),F=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(F||{});function R(t){let{basename:a="/",children:n=null,location:r,navigationType:i=s.Pop,navigator:o,static:l=!1}=t;I()&&c(!1);let u=a.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:u,navigator:o,static:l})),[u,o,l]);"string"==typeof r&&(r=p(r));let{pathname:m="/",search:f="",hash:y="",state:_=null,key:g="default"}=r,b=e.useMemo((()=>{let e=h(m,u);return null==e?null:{location:{pathname:e,search:f,hash:y,state:_,key:g},navigationType:i}}),[u,m,f,y,_,g,i]);return null==b?null:e.createElement(S.Provider,{value:d},e.createElement(C.Provider,{children:n,value:b}))}function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},L.apply(this,arguments)}e.startTransition,new Promise((()=>{})),e.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const q=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const j=e.startTransition;function z(t){let{basename:a,children:n,future:r,window:o}=t,p=e.useRef();null==p.current&&(p.current=function(e){return void 0===e&&(e={}),function(e,t,a,n){void 0===n&&(n={});let{window:r=document.defaultView,v5Compat:o=!1}=n,p=r.history,f=s.Pop,h=null,y=_();function _(){return(p.state||{idx:null}).idx}function g(){f=s.Pop;let e=_(),t=null==e?null:e-y;y=e,h&&h({action:f,location:v.location,delta:t})}function b(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,a="string"==typeof e?e:m(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==y&&(y=0,p.replaceState(i({},p.state,{idx:y}),""));let v={get action(){return f},get location(){return e(r,p)},listen(e){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(l,g),h=e,()=>{r.removeEventListener(l,g),h=null}},createHref:e=>t(r,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=s.Push;let n=d(v.location,e,t);a&&a(n,e),y=_()+1;let i=u(n,y),l=v.createHref(n);try{p.pushState(i,"",l)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;r.location.assign(l)}o&&h&&h({action:f,location:v.location,delta:1})},replace:function(e,t){f=s.Replace;let n=d(v.location,e,t);a&&a(n,e),y=_();let r=u(n,y),i=v.createHref(n);p.replaceState(r,"",i),o&&h&&h({action:f,location:v.location,delta:0})},go:e=>p.go(e)};return v}((function(e,t){let{pathname:a,search:n,hash:r}=e.location;return d("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:m(t)}),null,e)}({window:o,v5Compat:!0}));let f=p.current,[h,y]=e.useState({action:f.action,location:f.location}),{v7_startTransition:_}=r||{},g=e.useCallback((e=>{_&&j?j((()=>y(e))):y(e)}),[y,_]);return e.useLayoutEffect((()=>f.listen(g)),[f,g]),e.createElement(R,{basename:a,children:n,location:h.location,navigationType:h.action,navigator:f})}const B="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,H=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$=e.forwardRef((function(t,a){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:p,unstable_viewTransition:f}=t,y=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(t,q),{basename:_}=e.useContext(S),g=!1;if("string"==typeof d&&H.test(d)&&(n=d,B))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=h(t.pathname,_);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:g=!0}catch(e){}let v=function(t,a){let{relative:n}=void 0===a?{}:a;I()||c(!1);let{basename:r,navigator:i}=e.useContext(S),{hash:s,pathname:o,search:l}=M(t,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:b([r,o])),i.createHref({pathname:u,search:l,hash:s})}(d,{relative:i}),E=function(t,a){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=void 0===a?{}:a,c=P(),u=A(),d=M(t,{relative:o});return e.useCallback((e=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(e,n)){e.preventDefault();let a=void 0!==r?r:m(u)===m(d);c(t,{replace:a,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}}),[u,c,d,r,i,n,t,s,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:f});return e.createElement("a",L({},y,{href:n||v,onClick:g||s?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:a,target:u}))}));var V,U;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(V||(V={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(U||(U={}));const W=window.wp.i18n;function G(e,t){return function(){return e.apply(t,arguments)}}const{toString:Y}=Object.prototype,{getPrototypeOf:K}=Object,Z=(Q=Object.create(null),e=>{const t=Y.call(e);return Q[t]||(Q[t]=t.slice(8,-1).toLowerCase())});var Q;const X=e=>(e=e.toLowerCase(),t=>Z(t)===e),J=e=>t=>typeof t===e,{isArray:ee}=Array,te=J("undefined"),ae=X("ArrayBuffer"),ne=J("string"),re=J("function"),ie=J("number"),se=e=>null!==e&&"object"==typeof e,oe=e=>{if("object"!==Z(e))return!1;const t=K(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},le=X("Date"),ce=X("File"),ue=X("Blob"),de=X("FileList"),me=X("URLSearchParams");function pe(e,t,{allOwnKeys:a=!1}={}){if(null==e)return;let n,r;if("object"!=typeof e&&(e=[e]),ee(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let s;for(n=0;n<i;n++)s=r[n],t.call(null,e[s],s,e)}}function fe(e,t){t=t.toLowerCase();const a=Object.keys(e);let n,r=a.length;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ye=e=>!te(e)&&e!==he,_e=(ge="undefined"!=typeof Uint8Array&&K(Uint8Array),e=>ge&&e instanceof ge);var ge;const be=X("HTMLFormElement"),ve=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),Ee=X("RegExp"),we=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};pe(a,((a,r)=>{let i;!1!==(i=t(a,r,e))&&(n[r]=i||a)})),Object.defineProperties(e,n)},xe="abcdefghijklmnopqrstuvwxyz",Ne="0123456789",ke={DIGIT:Ne,ALPHA:xe,ALPHA_DIGIT:xe+xe.toUpperCase()+Ne},Se=X("AsyncFunction"),Ce={isArray:ee,isArrayBuffer:ae,isBuffer:function(e){return null!==e&&!te(e)&&null!==e.constructor&&!te(e.constructor)&&re(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||re(e.append)&&("formdata"===(t=Z(e))||"object"===t&&re(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ae(e.buffer),t},isString:ne,isNumber:ie,isBoolean:e=>!0===e||!1===e,isObject:se,isPlainObject:oe,isUndefined:te,isDate:le,isFile:ce,isBlob:ue,isRegExp:Ee,isFunction:re,isStream:e=>se(e)&&re(e.pipe),isURLSearchParams:me,isTypedArray:_e,isFileList:de,forEach:pe,merge:function e(){const{caseless:t}=ye(this)&&this||{},a={},n=(n,r)=>{const i=t&&fe(a,r)||r;oe(a[i])&&oe(n)?a[i]=e(a[i],n):oe(n)?a[i]=e({},n):ee(n)?a[i]=n.slice():a[i]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&pe(arguments[e],n);return a},extend:(e,t,a,{allOwnKeys:n}={})=>(pe(t,((t,n)=>{a&&re(t)?e[n]=G(t,a):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let r,i,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)s=r[i],n&&!n(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==a&&K(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:Z,kindOfTest:X,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(ee(e))return e;let t=e.length;if(!ie(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:be,hasOwnProperty:ve,hasOwnProp:ve,reduceDescriptors:we,freezeMethods:e=>{we(e,((t,a)=>{if(re(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];re(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach((e=>{a[e]=!0}))};return ee(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:fe,global:he,isContextDefined:ye,ALPHABET:ke,generateString:(e=16,t=ke.ALPHA_DIGIT)=>{let a="";const{length:n}=t;for(;e--;)a+=t[Math.random()*n|0];return a},isSpecCompliantForm:function(e){return!!(e&&re(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(se(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const r=ee(e)?[]:{};return pe(e,((e,t)=>{const i=a(e,n+1);!te(i)&&(r[t]=i)})),t[n]=void 0,r}}return e};return a(e,0)},isAsyncFn:Se,isThenable:e=>e&&(se(e)||re(e))&&re(e.then)&&re(e.catch)};function Oe(e,t,a,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),r&&(this.response=r)}Ce.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ie=Oe.prototype,Ae={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ae[e]={value:e}})),Object.defineProperties(Oe,Ae),Object.defineProperty(Ie,"isAxiosError",{value:!0}),Oe.from=(e,t,a,n,r,i)=>{const s=Object.create(Ie);return Ce.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Oe.call(s,e.message,t,a,n,r),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const Te=Oe;function Pe(e){return Ce.isPlainObject(e)||Ce.isArray(e)}function Me(e){return Ce.endsWith(e,"[]")?e.slice(0,-2):e}function De(e,t,a){return e?e.concat(t).map((function(e,t){return e=Me(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const Fe=Ce.toFlatObject(Ce,{},null,(function(e){return/^is[A-Z]/.test(e)})),Re=function(e,t,a){if(!Ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=Ce.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ce.isUndefined(t[e])}))).metaTokens,r=a.visitor||c,i=a.dots,s=a.indexes,o=(a.Blob||"undefined"!=typeof Blob&&Blob)&&Ce.isSpecCompliantForm(t);if(!Ce.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ce.isDate(e))return e.toISOString();if(!o&&Ce.isBlob(e))throw new Te("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(e)||Ce.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,r){let o=e;if(e&&!r&&"object"==typeof e)if(Ce.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(Ce.isArray(e)&&function(e){return Ce.isArray(e)&&!e.some(Pe)}(e)||(Ce.isFileList(e)||Ce.endsWith(a,"[]"))&&(o=Ce.toArray(e)))return a=Me(a),o.forEach((function(e,n){!Ce.isUndefined(e)&&null!==e&&t.append(!0===s?De([a],n,i):null===s?a:a+"[]",l(e))})),!1;return!!Pe(e)||(t.append(De(r,a,i),l(e)),!1)}const u=[],d=Object.assign(Fe,{defaultVisitor:c,convertValue:l,isVisitable:Pe});if(!Ce.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!Ce.isUndefined(a)){if(-1!==u.indexOf(a))throw Error("Circular reference detected in "+n.join("."));u.push(a),Ce.forEach(a,(function(a,i){!0===(!(Ce.isUndefined(a)||null===a)&&r.call(t,a,Ce.isString(i)?i.trim():i,n,d))&&e(a,n?n.concat(i):[i])})),u.pop()}}(e),t};function Le(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function qe(e,t){this._pairs=[],e&&Re(e,this,t)}const je=qe.prototype;je.append=function(e,t){this._pairs.push([e,t])},je.toString=function(e){const t=e?function(t){return e.call(this,t,Le)}:Le;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ze=qe;function Be(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function He(e,t,a){if(!t)return e;const n=a&&a.encode||Be,r=a&&a.serialize;let i;if(i=r?r(t,a):Ce.isURLSearchParams(t)?t.toString():new ze(t,a).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const $e=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ve={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ue={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ze,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]},We=function(e){function t(e,a,n,r){let i=e[r++];const s=Number.isFinite(+i),o=r>=e.length;return i=!i&&Ce.isArray(n)?n.length:i,o?(Ce.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!s):(n[i]&&Ce.isObject(n[i])||(n[i]=[]),t(e,a,n[i],r)&&Ce.isArray(n[i])&&(n[i]=function(e){const t={},a=Object.keys(e);let n;const r=a.length;let i;for(n=0;n<r;n++)i=a[n],t[i]=e[i];return t}(n[i])),!s)}if(Ce.isFormData(e)&&Ce.isFunction(e.entries)){const a={};return Ce.forEachEntry(e,((e,n)=>{t(function(e){return Ce.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,a,0)})),a}return null},Ge={transitional:Ve,adapter:["xhr","http"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,r=Ce.isObject(e);if(r&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return n&&n?JSON.stringify(We(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(r){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Re(e,new Ue.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,n){return Ue.isNode&&Ce.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Ce.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Re(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,a){if(Ce.isString(e))try{return(0,JSON.parse)(e),Ce.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ge.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&Ce.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw Te.from(e,Te.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],(e=>{Ge.headers[e]={}}));const Ye=Ge,Ke=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ze=Symbol("internals");function Qe(e){return e&&String(e).trim().toLowerCase()}function Xe(e){return!1===e||null==e?e:Ce.isArray(e)?e.map(Xe):String(e)}function Je(e,t,a,n,r){return Ce.isFunction(n)?n.call(this,t,a):(r&&(t=a),Ce.isString(t)?Ce.isString(n)?-1!==t.indexOf(n):Ce.isRegExp(n)?n.test(t):void 0:void 0)}class et{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function r(e,t,a){const r=Qe(t);if(!r)throw new Error("header name must be a non-empty string");const i=Ce.findKey(n,r);(!i||void 0===n[i]||!0===a||void 0===a&&!1!==n[i])&&(n[i||t]=Xe(e))}const i=(e,t)=>Ce.forEach(e,((e,a)=>r(e,a,t)));return Ce.isPlainObject(e)||e instanceof this.constructor?i(e,t):Ce.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let a,n,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),a=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!a||t[a]&&Ke[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)})),t})(e),t):null!=e&&r(t,e,a),this}get(e,t){if(e=Qe(e)){const a=Ce.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(Ce.isFunction(t))return t.call(this,e,a);if(Ce.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Qe(e)){const a=Ce.findKey(this,e);return!(!a||void 0===this[a]||t&&!Je(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function r(e){if(e=Qe(e)){const r=Ce.findKey(a,e);!r||t&&!Je(0,a[r],r,t)||(delete a[r],n=!0)}}return Ce.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const r=t[a];e&&!Je(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,a={};return Ce.forEach(this,((n,r)=>{const i=Ce.findKey(a,r);if(i)return t[i]=Xe(n),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(r):String(r).trim();s!==r&&delete t[r],t[s]=Xe(n),a[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ce.forEach(this,((a,n)=>{null!=a&&!1!==a&&(t[n]=e&&Ce.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach((e=>a.set(e))),a}static accessor(e){const t=(this[Ze]=this[Ze]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=Qe(e);t[n]||(function(e,t){const a=Ce.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+a,{value:function(e,a,r){return this[n].call(this,t,e,a,r)},configurable:!0})}))}(a,e),t[n]=!0)}return Ce.isArray(e)?e.forEach(n):n(e),this}}et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ce.reduceDescriptors(et.prototype,(({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[a]=e}}})),Ce.freezeMethods(et);const tt=et;function at(e,t){const a=this||Ye,n=t||a,r=tt.from(n.headers);let i=n.data;return Ce.forEach(e,(function(e){i=e.call(a,i,r.normalize(),t?t.status:void 0)})),r.normalize(),i}function nt(e){return!(!e||!e.__CANCEL__)}function rt(e,t,a){Te.call(this,null==e?"canceled":e,Te.ERR_CANCELED,t,a),this.name="CanceledError"}Ce.inherits(rt,Te,{__CANCEL__:!0});const it=rt,st=Ue.isStandardBrowserEnv?{write:function(e,t,a,n,r,i){const s=[];s.push(e+"="+encodeURIComponent(t)),Ce.isNumber(a)&&s.push("expires="+new Date(a).toGMTString()),Ce.isString(n)&&s.push("path="+n),Ce.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function ot(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const lt=Ue.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let a;function n(a){let n=a;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return a=n(window.location.href),function(e){const t=Ce.isString(e)?n(e):e;return t.protocol===a.protocol&&t.host===a.host}}():function(){return!0};function ct(e,t){let a=0;const n=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let r,i=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[s];r||(r=l),a[i]=o,n[i]=l;let u=s,d=0;for(;u!==i;)d+=a[u++],u%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-r<t)return;const m=c&&l-c;return m?Math.round(1e3*d/m):void 0}}(50,250);return r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,o=i-a,l=n(o);a=i;const c={loaded:i,total:s,progress:s?i/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const ut="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){let n=e.data;const r=tt.from(e.headers).normalize(),i=e.responseType;let s,o;function l(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}Ce.isFormData(n)&&(Ue.isStandardBrowserEnv||Ue.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.getContentType(/^\s*multipart\/form-data/)?Ce.isString(o=r.getContentType())&&r.setContentType(o.replace(/^\s*(multipart\/form-data);+/,"$1")):r.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",a=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+a))}const u=ot(e.baseURL,e.url);function d(){if(!c)return;const n=tt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new Te("Request failed with status code "+a.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}((function(e){t(e),l()}),(function(e){a(e),l()}),{data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),He(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(d)},c.onabort=function(){c&&(a(new Te("Request aborted",Te.ECONNABORTED,e,c)),c=null)},c.onerror=function(){a(new Te("Network Error",Te.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||Ve;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),a(new Te(t,n.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,c)),c=null},Ue.isStandardBrowserEnv){const t=lt(u)&&e.xsrfCookieName&&st.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===n&&r.setContentType(null),"setRequestHeader"in c&&Ce.forEach(r.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),Ce.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&"json"!==i&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",ct(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",ct(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{c&&(a(!t||t.type?new it(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);m&&-1===Ue.protocols.indexOf(m)?a(new Te("Unsupported protocol "+m+":",Te.ERR_BAD_REQUEST,e)):c.send(n||null)}))},dt={http:null,xhr:ut};Ce.forEach(dt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const mt=e=>`- ${e}`,pt=e=>Ce.isFunction(e)||null===e||!1===e,ft=e=>{e=Ce.isArray(e)?e:[e];const{length:t}=e;let a,n;const r={};for(let i=0;i<t;i++){let t;if(a=e[i],n=a,!pt(a)&&(n=dt[(t=String(a)).toLowerCase()],void 0===n))throw new Te(`Unknown adapter '${t}'`);if(n)break;r[t||"#"+i]=n}if(!n){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let a=t?e.length>1?"since :\n"+e.map(mt).join("\n"):" "+mt(e[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n};function ht(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new it(null,e)}function yt(e){return ht(e),e.headers=tt.from(e.headers),e.data=at.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ft(e.adapter||Ye.adapter)(e).then((function(t){return ht(e),t.data=at.call(e,e.transformResponse,t),t.headers=tt.from(t.headers),t}),(function(t){return nt(t)||(ht(e),t&&t.response&&(t.response.data=at.call(e,e.transformResponse,t.response),t.response.headers=tt.from(t.response.headers))),Promise.reject(t)}))}const _t=e=>e instanceof tt?e.toJSON():e;function gt(e,t){t=t||{};const a={};function n(e,t,a){return Ce.isPlainObject(e)&&Ce.isPlainObject(t)?Ce.merge.call({caseless:a},e,t):Ce.isPlainObject(t)?Ce.merge({},t):Ce.isArray(t)?t.slice():t}function r(e,t,a){return Ce.isUndefined(t)?Ce.isUndefined(e)?void 0:n(void 0,e,a):n(e,t,a)}function i(e,t){if(!Ce.isUndefined(t))return n(void 0,t)}function s(e,t){return Ce.isUndefined(t)?Ce.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(a,r,i){return i in t?n(a,r):i in e?n(void 0,a):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>r(_t(e),_t(t),!0)};return Ce.forEach(Object.keys(Object.assign({},e,t)),(function(n){const i=l[n]||r,s=i(e[n],t[n],n);Ce.isUndefined(s)&&i!==o||(a[n]=s)})),a}const bt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{bt[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const vt={};bt.transitional=function(e,t,a){function n(e,t){return"[Axios v1.6.0] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,r,i)=>{if(!1===e)throw new Te(n(r," has been removed"+(t?" in "+t:"")),Te.ERR_DEPRECATED);return t&&!vt[r]&&(vt[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,r,i)}};const Et={assertOptions:function(e,t,a){if("object"!=typeof e)throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const i=n[r],s=t[i];if(s){const t=e[i],a=void 0===t||s(t,i,e);if(!0!==a)throw new Te("option "+i+" must be "+a,Te.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new Te("Unknown option "+i,Te.ERR_BAD_OPTION)}},validators:bt},wt=Et.validators;class xt{constructor(e){this.defaults=e,this.interceptors={request:new $e,response:new $e}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=gt(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:r}=t;void 0!==a&&Et.assertOptions(a,{silentJSONParsing:wt.transitional(wt.boolean),forcedJSONParsing:wt.transitional(wt.boolean),clarifyTimeoutError:wt.transitional(wt.boolean)},!1),null!=n&&(Ce.isFunction(n)?t.paramsSerializer={serialize:n}:Et.assertOptions(n,{encode:wt.function,serialize:wt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=r&&Ce.merge(r.common,r[t.method]);r&&Ce.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=tt.concat(i,r);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!o){const e=[yt.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let m=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{m=e(m)}catch(e){t.call(this,e);break}}try{c=yt.call(this,m)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return He(ot((e=gt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Ce.forEach(["delete","get","head","options"],(function(e){xt.prototype[e]=function(t,a){return this.request(gt(a||{},{method:e,url:t,data:(a||{}).data}))}})),Ce.forEach(["post","put","patch"],(function(e){function t(t){return function(a,n,r){return this.request(gt(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}xt.prototype[e]=t(),xt.prototype[e+"Form"]=t(!0)}));const Nt=xt;class kt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{a.subscribe(e),t=e})).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e((function(e,n,r){a.reason||(a.reason=new it(e,n,r),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new kt((function(t){e=t})),cancel:e}}}const St=kt,Ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ct).forEach((([e,t])=>{Ct[t]=e}));const Ot=Ct,It=function e(t){const a=new Nt(t),n=G(Nt.prototype.request,a);return Ce.extend(n,Nt.prototype,a,{allOwnKeys:!0}),Ce.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(gt(t,a))},n}(Ye);It.Axios=Nt,It.CanceledError=it,It.CancelToken=St,It.isCancel=nt,It.VERSION="1.6.0",It.toFormData=Re,It.AxiosError=Te,It.Cancel=It.CanceledError,It.all=function(e){return Promise.all(e)},It.spread=function(e){return function(t){return e.apply(null,t)}},It.isAxiosError=function(e){return Ce.isObject(e)&&!0===e.isAxiosError},It.mergeConfig=gt,It.AxiosHeaders=tt,It.formToJSON=e=>We(Ce.isHTMLForm(e)?new FormData(e):e),It.getAdapter=ft,It.HttpStatusCode=Ot,It.default=It;const At=It;function Tt(e){var t,a,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=Tt(e[t]))&&(n&&(n+=" "),n+=a);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const Pt=function(){for(var e,t,a=0,n="";a<arguments.length;)(e=arguments[a++])&&(t=Tt(e))&&(n&&(n+=" "),n+=t);return n},Mt=e=>"number"==typeof e&&!isNaN(e),Dt=e=>"string"==typeof e,Ft=e=>"function"==typeof e,Rt=e=>Dt(e)||Ft(e)?e:null,Lt=t=>(0,e.isValidElement)(t)||Dt(t)||Ft(t)||Mt(t);function qt(t){let{enter:a,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(t){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:m}=t;const p=r?`${a}--${l}`:a,f=r?`${n}--${l}`:n,h=(0,e.useRef)(0);return(0,e.useLayoutEffect)((()=>{const e=d.current,t=p.split(" "),a=n=>{n.target===d.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",a),e.removeEventListener("animationcancel",a),0===h.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",a),e.addEventListener("animationcancel",a)}),[]),(0,e.useEffect)((()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,a){void 0===a&&(a=300);const{scrollHeight:n,style:r}=e;requestAnimationFrame((()=>{r.minHeight="initial",r.height=n+"px",r.transition=`all ${a}ms`,requestAnimationFrame((()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,a)}))}))}(e,u,s):u()};m||(c?t():(h.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[m]),e.createElement(e.Fragment,null,o)}}function jt(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const zt={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const a=this.list.get(e).filter((e=>e!==t));return this.list.set(e,a),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const a=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(a)}))}},Bt=t=>{let{theme:a,type:n,...r}=t;return e.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===a?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ht={info:function(t){return e.createElement(Bt,{...t},e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return e.createElement(Bt,{...t},e.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return e.createElement(Bt,{...t},e.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return e.createElement(Bt,{...t},e.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return e.createElement("div",{className:"Toastify__spinner"})}};function $t(t){const[,a]=(0,e.useReducer)((e=>e+1),0),[n,r]=(0,e.useState)([]),i=(0,e.useRef)(null),s=(0,e.useRef)(new Map).current,o=e=>-1!==n.indexOf(e),l=(0,e.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:e=>s.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:a}=l.props;!a||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function u(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function d(){const{toastContent:e,toastProps:t,staleId:a}=l.queue.shift();p(e,t,a)}function m(t,n){let{delay:r,staleId:o,...c}=n;if(!Lt(t)||function(e){return!i.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||s.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:m,updateId:f,data:h}=c,{props:y}=l,_=()=>u(m),g=null==f;g&&l.count++;const b={...y,style:y.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(c).filter((e=>{let[t,a]=e;return null!=a}))),toastId:m,updateId:f,data:h,closeToast:_,isIn:!1,className:Rt(c.className||y.toastClassName),bodyClassName:Rt(c.bodyClassName||y.bodyClassName),progressClassName:Rt(c.progressClassName||y.progressClassName),autoClose:!c.isLoading&&(v=c.autoClose,E=y.autoClose,!1===v||Mt(v)&&v>0?v:E),deleteToast(){const e=jt(s.get(m),"removed");s.delete(m),zt.emit(4,e);const t=l.queue.length;if(l.count=null==m?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),t>0){const e=null==m?l.props.limit:1;if(1===t||1===e)l.displayedToast++,d();else{const a=e>t?t:e;l.displayedToast=a;for(let e=0;e<a;e++)d()}}else a()}};var v,E;b.iconOut=function(t){let{theme:a,type:n,isLoading:r,icon:i}=t,s=null;const o={theme:a,type:n};return!1===i||(Ft(i)?s=i(o):(0,e.isValidElement)(i)?s=(0,e.cloneElement)(i,o):Dt(i)||Mt(i)?s=i:r?s=Ht.spinner():(e=>e in Ht)(n)&&(s=Ht[n](o))),s}(b),Ft(c.onOpen)&&(b.onOpen=c.onOpen),Ft(c.onClose)&&(b.onClose=c.onClose),b.closeButton=y.closeButton,!1===c.closeButton||Lt(c.closeButton)?b.closeButton=c.closeButton:!0===c.closeButton&&(b.closeButton=!Lt(y.closeButton)||y.closeButton);let w=t;(0,e.isValidElement)(t)&&!Dt(t.type)?w=(0,e.cloneElement)(t,{closeToast:_,toastProps:b,data:h}):Ft(t)&&(w=t({closeToast:_,toastProps:b,data:h})),y.limit&&y.limit>0&&l.count>y.limit&&g?l.queue.push({toastContent:w,toastProps:b,staleId:o}):Mt(r)?setTimeout((()=>{p(w,b,o)}),r):p(w,b,o)}function p(e,t,a){const{toastId:n}=t;a&&s.delete(a);const i={content:e,props:t};s.set(n,i),r((e=>[...e,n].filter((e=>e!==a)))),zt.emit(4,jt(i,null==i.props.updateId?"added":"updated"))}return(0,e.useEffect)((()=>(l.containerId=t.containerId,zt.cancelEmit(3).on(0,m).on(1,(e=>i.current&&u(e))).on(5,c).emit(2,l),()=>{s.clear(),zt.emit(3,l)})),[]),(0,e.useEffect)((()=>{l.props=t,l.isToastActive=o,l.displayedToast=n.length})),{getToastToRender:function(e){const a=new Map,n=Array.from(s.values());return t.newestOnTop&&n.reverse(),n.forEach((e=>{const{position:t}=e.props;a.has(t)||a.set(t,[]),a.get(t).push(e)})),Array.from(a,(t=>e(t[0],t[1])))},containerRef:i,isToastActive:o}}function Vt(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Ut(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function Wt(t){const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),s=(0,e.useRef)(null),o=(0,e.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,e.useRef)(t),{autoClose:c,pauseOnHover:u,closeToast:d,onClick:m,closeOnClick:p}=t;function f(e){if(t.draggable){"touchstart"===e.nativeEvent.type&&e.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",b),document.addEventListener("touchmove",g),document.addEventListener("touchend",b);const a=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=a.getBoundingClientRect(),a.style.transition="",o.x=Vt(e.nativeEvent),o.y=Ut(e.nativeEvent),"x"===t.draggableDirection?(o.start=o.x,o.removalDistance=a.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=a.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function h(e){if(o.boundingRect){const{top:a,bottom:n,left:r,right:i}=o.boundingRect;"touchend"!==e.nativeEvent.type&&t.pauseOnHover&&o.x>=r&&o.x<=i&&o.y>=a&&o.y<=n?_():y()}}function y(){n(!0)}function _(){n(!1)}function g(e){const n=s.current;o.canDrag&&n&&(o.didMove=!0,a&&_(),o.x=Vt(e),o.y=Ut(e),o.delta="x"===t.draggableDirection?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),n.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,n.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",b);const e=s.current;if(o.canDrag&&o.didMove&&e){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform=`translate${t.draggableDirection}(0)`,e.style.opacity="1"}}(0,e.useEffect)((()=>{l.current=t})),(0,e.useEffect)((()=>(s.current&&s.current.addEventListener("d",y,{once:!0}),Ft(t.onOpen)&&t.onOpen((0,e.isValidElement)(t.children)&&t.children.props),()=>{const t=l.current;Ft(t.onClose)&&t.onClose((0,e.isValidElement)(t.children)&&t.children.props)})),[]),(0,e.useEffect)((()=>(t.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",y),window.addEventListener("blur",_)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",_))})),[t.pauseOnFocusLoss]);const v={onMouseDown:f,onTouchStart:f,onMouseUp:h,onTouchEnd:h};return c&&u&&(v.onMouseEnter=_,v.onMouseLeave=y),p&&(v.onClick=e=>{m&&m(e),o.canCloseOnClick&&d()}),{playToast:y,pauseToast:_,isRunning:a,preventExitTransition:r,toastRef:s,eventHandlers:v}}function Gt(t){let{closeToast:a,theme:n,ariaLabel:r="close"}=t;return e.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),a(e)},"aria-label":r},e.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},e.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Yt(t){let{delay:a,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:l,controlledProgress:c,progress:u,rtl:d,isIn:m,theme:p}=t;const f=s||c&&0===u,h={...l,animationDuration:`${a}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};c&&(h.transform=`scaleX(${u})`);const y=Pt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),_=Ft(o)?o({rtl:d,type:i,defaultClassName:y}):Pt(y,o);return e.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:_,style:h,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{m&&r()}})}const Kt=t=>{const{isRunning:a,preventExitTransition:n,toastRef:r,eventHandlers:i}=Wt(t),{closeButton:s,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:m,transition:p,position:f,className:h,style:y,bodyClassName:_,bodyStyle:g,progressClassName:b,progressStyle:v,updateId:E,role:w,progress:x,rtl:N,toastId:k,deleteToast:S,isIn:C,isLoading:O,iconOut:I,closeOnClick:A,theme:T}=t,P=Pt("Toastify__toast",`Toastify__toast-theme--${T}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":A}),M=Ft(h)?h({rtl:N,position:f,type:u,defaultClassName:P}):Pt(P,h),D=!!x||!l,F={closeToast:m,type:u,theme:T};let R=null;return!1===s||(R=Ft(s)?s(F):(0,e.isValidElement)(s)?(0,e.cloneElement)(s,F):Gt(F)),e.createElement(p,{isIn:C,done:S,position:f,preventExitTransition:n,nodeRef:r},e.createElement("div",{id:k,onClick:c,className:M,...i,style:y,ref:r},e.createElement("div",{...C&&{role:w},className:Ft(_)?_({type:u}):Pt("Toastify__toast-body",_),style:g},null!=I&&e.createElement("div",{className:Pt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},I),e.createElement("div",null,o)),R,e.createElement(Yt,{...E&&!D?{key:`pb-${E}`}:{},rtl:N,theme:T,delay:l,isRunning:a,isIn:C,closeToast:m,hide:d,type:u,style:v,className:b,controlledProgress:D,progress:x||0})))},Zt=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Qt=qt(Zt("bounce",!0)),Xt=(qt(Zt("slide",!0)),qt(Zt("zoom")),qt(Zt("flip")),(0,e.forwardRef)(((t,a)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=$t(t),{className:s,style:o,rtl:l,containerId:c}=t;function u(e){const t=Pt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":l});return Ft(s)?s({position:e,rtl:l,defaultClassName:t}):Pt(t,Rt(s))}return(0,e.useEffect)((()=>{a&&(a.current=r.current)}),[]),e.createElement("div",{ref:r,className:"Toastify",id:c},n(((t,a)=>{const n=a.length?{...o}:{...o,pointerEvents:"none"};return e.createElement("div",{className:u(t),style:n,key:`container-${t}`},a.map(((t,n)=>{let{content:r,props:s}=t;return e.createElement(Kt,{...s,isIn:i(s.toastId),style:{...s.style,"--nth":n+1,"--len":a.length},key:`toast-${s.key}`},r)})))})))})));Xt.displayName="ToastContainer",Xt.defaultProps={position:"top-right",transition:Qt,autoClose:5e3,closeButton:Gt,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Jt,ea=new Map,ta=[],aa=1;function na(){return""+aa++}function ra(e){return e&&(Dt(e.toastId)||Mt(e.toastId))?e.toastId:na()}function ia(e,t){return ea.size>0?zt.emit(0,e,t):ta.push({content:e,options:t}),t.toastId}function sa(e,t){return{...t,type:t&&t.type||e,toastId:ra(t)}}function oa(e){return(t,a)=>ia(t,sa(e,a))}function la(e,t){return ia(e,sa("default",t))}la.loading=(e,t)=>ia(e,sa("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),la.promise=function(e,t,a){let n,{pending:r,error:i,success:s}=t;r&&(n=Dt(r)?la.loading(r,a):la.loading(r.render,{...a,...r}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,r)=>{if(null==t)return void la.dismiss(n);const i={type:e,...o,...a,data:r},s=Dt(t)?{render:t}:t;return n?la.update(n,{...i,...s}):la(s.render,{...i,...s}),r},c=Ft(e)?e():e;return c.then((e=>l("success",s,e))).catch((e=>l("error",i,e))),c},la.success=oa("success"),la.info=oa("info"),la.error=oa("error"),la.warning=oa("warning"),la.warn=la.warning,la.dark=(e,t)=>ia(e,sa("default",{theme:"dark",...t})),la.dismiss=e=>{ea.size>0?zt.emit(1,e):ta=ta.filter((t=>null!=e&&t.options.toastId!==e))},la.clearWaitingQueue=function(e){return void 0===e&&(e={}),zt.emit(5,e)},la.isActive=e=>{let t=!1;return ea.forEach((a=>{a.isToastActive&&a.isToastActive(e)&&(t=!0)})),t},la.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const a=function(e,t){let{containerId:a}=t;const n=ea.get(a||Jt);return n&&n.getToast(e)}(e,t);if(a){const{props:n,content:r}=a,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:na()};i.toastId!==e&&(i.staleId=e);const s=i.render||r;delete i.render,ia(s,i)}}),0)},la.done=e=>{la.update(e,{progress:1})},la.onChange=e=>(zt.on(4,e),()=>{zt.off(4,e)}),la.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},la.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},zt.on(2,(e=>{Jt=e.containerId||e,ea.set(Jt,e),ta.forEach((e=>{zt.emit(0,e.content,e.options)})),ta=[]})).on(3,(e=>{ea.delete(e.containerId||e),0===ea.size&&zt.off(0).off(1).off(5)}));const{nonce:ca,academy_nonce:ua,rest_url:da,ajaxurl:ma,namespace:pa,plugin_root_url:fa,plugin_root_path:ha,site_url:ya,route_path:_a,is_plain_permalink:ga,menu:ba,admin_url:va,dashboard:Ea,logout_url:wa,woocommerce_is_active:xa,pmpro_is_active:Na,current_user_id:ka,is_pro:Sa,is_admin:Ca,is_rtl:Oa,addons:Ia,current_user_can:Aa,customize_url:Ta,woo_store:Pa,editor_settings:Ma,login_url:Da,current_permalink:Fa,is_enabled_academy_login:Ra,toplevel_menu_icon_url:La,toplevel_menu_title:qa,logo_url:ja,zoomSetup:za,is_disabled_lessons_right_click:Ba,is_enabled_course_share:Ha,is_enabled_course_review:$a,is_enabled_course_wishlist:Va,is_enabled_lessons_content_title:Ua,lessons_topic_length:Wa,is_enabled_earning:Ga,users_can_register:Ya,admin_notices:Ka}=window.AcademyGlobal,Za=At.create({baseURL:da,headers:{"content-type":"application/json","X-WP-Nonce":ca,"Cache-Control":"no-cache"}}),Qa=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),Xa={overlay:{background:"rgba(35, 40, 45, 0.62)",zIndex:9999},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",padding:0,transform:"translate(-50%, -50%)"}},Ja=e=>{try{JSON.parse(e)}catch(e){return!1}return!0},en=e=>e&&e.reduce((function(e,t){return e.push(t.name),e}),[]),tn=(e,t)=>t&&e?e.reduce((function(e,a){return t.includes(a.id)?(e.push(a.name),e):e}),[]):[],an=e=>e?.first_name||e?.last_name?e.first_name+" "+e.last_name:e?.user_nicename,nn=async(e={},t=!1)=>{let a=new FormData;return a.append("security",ua),Object.entries(e).forEach((([e,n])=>{t||"object"!=typeof n||null===n?a.append(e,n):a.append(e,JSON.stringify(n))})),await At.post(ma,a).then((e=>e),(e=>{on(e?.message,"error"),console.log(e)}))},rn=(e={})=>new Promise((t=>{let a;a||(a=wp.media({title:(0,W.__)("Select or Upload Media","academy"),button:{text:(0,W.__)("Use this media","academy")},multiple:!1,...e}),a.on("select",(function(){return t(a.state().get("selection").first().toJSON())}))),a.open()})),sn=(e,t=0)=>{if(!e)return[];const a=[];return e.forEach((n=>{parseInt(n.parent)===parseInt(t)&&(n.children=sn(e,n.id),a.push(n))})),a},on=(t,a="",n="top-right")=>{switch(a){case"error":return la.error((0,e.createElement)("div",{className:"academy-toasts"},(0,e.createElement)("div",{className:"academy-toasts__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information academy-icon--information-error"})),(0,e.createElement)("p",{className:"academy-toasts-message"},t)),{position:n,hideProgressBar:!0});case"info":return la.info((0,e.createElement)("div",{className:"academy-toasts"},(0,e.createElement)("div",{className:"academy-toasts__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"})),(0,e.createElement)("p",{className:"academy-toasts-message"},t)),{position:n,hideProgressBar:!0});case"warning":return la.warning((0,e.createElement)("div",{className:"academy-toasts"},(0,e.createElement)("div",{className:"academy-toasts__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--notification"})),(0,e.createElement)("p",{className:"academy-toasts-message"},t)),{position:n,hideProgressBar:!0});default:return la.success((0,e.createElement)("div",{className:"academy-toasts"},(0,e.createElement)("div",{className:"academy-toasts__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--check"})),(0,e.createElement)("p",{className:"academy-toasts-message"},t)),{position:n,hideProgressBar:!0})}},ln=(e,t,a=!1)=>!(a&&!Sa||!e[t]||!0!==e[t]),cn=(e,t=20,a="...")=>!e||e.length<t?e:e.slice(0,t).replace(/(^[\s]+|[\s]+$)/g,"")+a,un=[{label:"(GMT-11:00) Midway Island",value:"Pacific/Midway"},{label:"(GMT-11:00) Samoa",value:"US/Samoa"},{label:"(GMT-10:00) Hawaii",value:"US/Hawaii"},{label:"(GMT-09:00) Alaska",value:"US/Alaska"},{label:"(GMT-08:00) Pacific Time (US & Canada)",value:"US/Pacific"},{label:"(GMT-08:00) Tijuana",value:"America/Tijuana"},{label:"(GMT-07:00) Arizona",value:"US/Arizona"},{label:"(GMT-07:00) Mountain Time (US & Canada)",value:"US/Mountain"},{label:"(GMT-07:00) Chihuahua",value:"America/Chihuahua"},{label:"(GMT-07:00) Mazatlan",value:"America/Mazatlan"},{label:"(GMT-06:00) Mexico City",value:"America/Mexico_City"},{label:"(GMT-06:00) Monterrey",value:"America/Monterrey"},{label:"(GMT-06:00) Saskatchewan",value:"Canada/Saskatchewan"},{label:"(GMT-06:00) Central Time (US & Canada)",value:"US/Central"},{label:"(GMT-05:00) Eastern Time (US & Canada)",value:"US/Eastern"},{label:"(GMT-05:00) Indiana (East)",value:"US/East-Indiana"},{label:"(GMT-05:00) Bogota",value:"America/Bogota"},{label:"(GMT-05:00) Lima",value:"America/Lima"},{label:"(GMT-04:30) Caracas",value:"America/Caracas"},{label:"(GMT-04:00) Atlantic Time (Canada)",value:"Canada/Atlantic"},{label:"(GMT-04:00) La Paz",value:"America/La_Paz"},{label:"(GMT-04:00) Santiago",value:"America/Santiago"},{label:"(GMT-03:30) Newfoundland",value:"Canada/Newfoundland"},{label:"(GMT-03:00) Buenos Aires",value:"America/Buenos_Aires"},{label:"(GMT-03:00) Greenland",value:"Greenland"},{label:"(GMT-02:00) Stanley",value:"Atlantic/Stanley"},{label:"(GMT-01:00) Azores",value:"Atlantic/Azores"},{label:"(GMT-01:00) Cape Verde Is.",value:"Atlantic/Cape_Verde"},{label:"(GMT) Casablanca",value:"Africa/Casablanca"},{label:"(GMT) Dublin",value:"Europe/Dublin"},{label:"(GMT) Lisbon",value:"Europe/Lisbon"},{label:"(GMT) London",value:"Europe/London"},{label:"(GMT) Monrovia",value:"Africa/Monrovia"},{label:"(GMT+01:00) Amsterdam",value:"Europe/Amsterdam"},{label:"(GMT+01:00) Belgrade",value:"Europe/Belgrade"},{label:"(GMT+01:00) Berlin",value:"Europe/Berlin"},{label:"(GMT+01:00) Bratislava",value:"Europe/Bratislava"},{label:"(GMT+01:00) Brussels",value:"Europe/Brussels"},{label:"(GMT+01:00) Budapest",value:"Europe/Budapest"},{label:"(GMT+01:00) Copenhagen",value:"Europe/Copenhagen"},{label:"(GMT+01:00) Ljubljana",value:"Europe/Ljubljana"},{label:"(GMT+01:00) Madrid",value:"Europe/Madrid"},{label:"(GMT+01:00) Paris",value:"Europe/Paris"},{label:"(GMT+01:00) Prague",value:"Europe/Prague"},{label:"(GMT+01:00) Rome",value:"Europe/Rome"},{label:"(GMT+01:00) Sarajevo",value:"Europe/Sarajevo"},{label:"(GMT+01:00) Skopje",value:"Europe/Skopje"},{label:"(GMT+01:00) Stockholm",value:"Europe/Stockholm"},{label:"(GMT+01:00) Vienna",value:"Europe/Vienna"},{label:"(GMT+01:00) Warsaw",value:"Europe/Warsaw"},{label:"(GMT+01:00) Zagreb",value:"Europe/Zagreb"},{label:"(GMT+02:00) Athens",value:"Europe/Athens"},{label:"(GMT+02:00) Bucharest",value:"Europe/Bucharest"},{label:"(GMT+02:00) Cairo",value:"Africa/Cairo"},{label:"(GMT+02:00) Harare",value:"Africa/Harare"},{label:"(GMT+02:00) Helsinki",value:"Europe/Helsinki"},{label:"(GMT+02:00) Istanbul",value:"Europe/Istanbul"},{label:"(GMT+02:00) Jerusalem",value:"Asia/Jerusalem"},{label:"(GMT+02:00) Kyiv",value:"Europe/Kiev"},{label:"(GMT+02:00) Minsk",value:"Europe/Minsk"},{label:"(GMT+02:00) Riga",value:"Europe/Riga"},{label:"(GMT+02:00) Sofia",value:"Europe/Sofia"},{label:"(GMT+02:00) Tallinn",value:"Europe/Tallinn"},{label:"(GMT+02:00) Vilnius",value:"Europe/Vilnius"},{label:"(GMT+03:00) Baghdad",value:"Asia/Baghdad"},{label:"(GMT+03:00) Kuwait",value:"Asia/Kuwait"},{label:"(GMT+03:00) Nairobi",value:"Africa/Nairobi"},{label:"(GMT+03:00) Riyadh",value:"Asia/Riyadh"},{label:"(GMT+03:00) Moscow",value:"Europe/Moscow"},{label:"(GMT+03:30) Tehran",value:"Asia/Tehran"},{label:"(GMT+04:00) Baku",value:"Asia/Baku"},{label:"(GMT+04:00) Volgograd",value:"Europe/Volgograd"},{label:"(GMT+04:00) Muscat",value:"Asia/Muscat"},{label:"(GMT+04:00) Tbilisi",value:"Asia/Tbilisi"},{label:"(GMT+04:00) Yerevan",value:"Asia/Yerevan"},{label:"(GMT+04:30) Kabul",value:"Asia/Kabul"},{label:"(GMT+05:00) Karachi",value:"Asia/Karachi"},{label:"(GMT+05:00) Tashkent",value:"Asia/Tashkent"},{label:"(GMT+05:30) Kolkata",value:"Asia/Kolkata"},{label:"(GMT+05:45) Kathmandu",value:"Asia/Kathmandu"},{label:"(GMT+06:00) Ekaterinburg",value:"Asia/Yekaterinburg"},{label:"(GMT+06:00) Almaty",value:"Asia/Almaty"},{label:"(GMT+06:00) Dhaka",value:"Asia/Dhaka"},{label:"(GMT+07:00) Novosibirsk",value:"Asia/Novosibirsk"},{label:"(GMT+07:00) Bangkok",value:"Asia/Bangkok"},{label:"(GMT+07:00) Jakarta",value:"Asia/Jakarta"},{label:"(GMT+08:00) Krasnoyarsk",value:"Asia/Krasnoyarsk"},{label:"(GMT+08:00) Chongqing",value:"Asia/Chongqing"},{label:"(GMT+08:00) Hong Kong",value:"Asia/Hong_Kong"},{label:"(GMT+08:00) Kuala Lumpur",value:"Asia/Kuala_Lumpur"},{label:"(GMT+08:00) Perth",value:"Australia/Perth"},{label:"(GMT+08:00) Singapore",value:"Asia/Singapore"},{label:"(GMT+08:00) Taipei",value:"Asia/Taipei"},{label:"(GMT+08:00) Ulaan Bataar",value:"Asia/Ulaanbaatar"},{label:"(GMT+08:00) Urumqi",value:"Asia/Urumqi"},{label:"(GMT+09:00) Irkutsk",value:"Asia/Irkutsk"},{label:"(GMT+09:00) Seoul",value:"Asia/Seoul"},{label:"(GMT+09:00) Tokyo",value:"Asia/Tokyo"},{label:"(GMT+09:30) Adelaide",value:"Australia/Adelaide"},{label:"(GMT+09:30) Darwin",value:"Australia/Darwin"},{label:"(GMT+10:00) Yakutsk",value:"Asia/Yakutsk"},{label:"(GMT+10:00) Brisbane",value:"Australia/Brisbane"},{label:"(GMT+10:00) Canberra",value:"Australia/Canberra"},{label:"(GMT+10:00) Guam",value:"Pacific/Guam"},{label:"(GMT+10:00) Hobart",value:"Australia/Hobart"},{label:"(GMT+10:00) Melbourne",value:"Australia/Melbourne"},{label:"(GMT+10:00) Port Moresby",value:"Pacific/Port_Moresby"},{label:"(GMT+10:00) Sydney",value:"Australia/Sydney"},{label:"(GMT+11:00) Vladivostok",value:"Asia/Vladivostok"},{label:"(GMT+12:00) Magadan",value:"Asia/Magadan"},{label:"(GMT+12:00) Auckland",value:"Pacific/Auckland"},{label:"(GMT+12:00) Fiji",value:"Pacific/Fiji"}],dn=e=>{var t;on(null!==(t=e?.response?.data?.message)&&void 0!==t?t:e?.message,"error")},mn=e=>e.charAt(0).toUpperCase()+e.slice(1),pn=e=>({publish:(0,W.__)("Published","academy"),submitted:(0,W.__)("Submitted","academy"),pending:(0,W.__)("Pending","academy"),draft:(0,W.__)("Draft","academy"),trash:(0,W.__)("Trash","academy"),completed:(0,W.__)("Approved","academy"),approved:(0,W.__)("Approve","academy"),processing:(0,W.__)("Processing","academy"),cancel:(0,W.__)("Cancel","academy"),private:(0,W.__)("Private","academy"),pass:(0,W.__)("Pass","academy"),passed:(0,W.__)("Passed","academy"),success:(0,W.__)("Success","academy"),answered:(0,W.__)("Answered","academy"),active:(0,W.__)("Active","academy"),failed:(0,W.__)("Failed","academy")}[e]);var fn=a(1688),hn=a(2798),yn=a(1850),gn=a.n(yn);let bn=function(e){e()};const vn=()=>bn,En=Symbol.for("react-redux-context"),wn="undefined"!=typeof globalThis?globalThis:{};function xn(){var t;if(!e.createContext)return{};const a=null!=(t=wn[En])?t:wn[En]=new Map;let n=a.get(e.createContext);return n||(n=e.createContext(null),a.set(e.createContext,n)),n}const Nn=xn();function kn(t=Nn){return function(){return(0,e.useContext)(t)}}const Sn=kn();let Cn=()=>{throw new Error("uSES not initialized!")};const On=(e,t)=>e===t;function In(t=Nn){const a=t===Nn?Sn:kn(t);return function(t,n={}){const{equalityFn:r=On,stabilityCheck:i,noopCheck:s}="function"==typeof n?{equalityFn:n}:n,{store:o,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=a(),m=((0,e.useRef)(!0),(0,e.useCallback)({[t.name]:e=>t(e)}[t.name],[t,u,i])),p=Cn(l.addNestedSub,o.getState,c||o.getState,m,r);return(0,e.useDebugValue)(p),p}}const An=In();var Tn=a(8679),Pn=a.n(Tn);a(2973);const Mn={notify(){},get:()=>[]};const Dn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;let Fn=null;const Rn=function({store:t,context:a,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=e.useMemo((()=>{const e=function(e,t){let a,n=Mn,r=0,i=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){r++,a||(a=t?t.addNestedSub(s):e.subscribe(s),n=function(){const e=vn();let t=null,a=null;return{clear(){t=null,a=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],a=t;for(;a;)e.push(a),a=a.next;return e},subscribe(e){let n=!0,r=a={callback:e,next:null,prev:a};return r.prev?r.prev.next=r:t=r,function(){n&&null!==t&&(n=!1,r.next?r.next.prev=r.prev:a=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}function l(){r--,a&&0===r&&(a(),a=void 0,n.clear(),n=Mn)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let a=!1;return()=>{a||(a=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,l())},getListeners:()=>n};return c}(t);return{store:t,subscription:e,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}}),[t,r,i,s]),l=e.useMemo((()=>t.getState()),[t]);Dn((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,l]);const c=a||Nn;return e.createElement(c.Provider,{value:o},n)};function Ln(e=Nn){const t=e===Nn?Sn:kn(e);return function(){const{store:e}=t();return e}}const qn=Ln();function jn(e=Nn){const t=e===Nn?qn:Ln(e);return function(){return t().dispatch}}const zn=jn();var Bn,Hn;function $n(a){const{className:n,children:r,parent:i,currentPath:s,subMenuItems:o}=a;return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("li",{className:n},r,"current"===n&&o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"wp-submenu"},o.map(((t,a)=>(0,e.createElement)("li",{className:!t.slug&&!s||s===t.slug?"current":"",key:a},(0,e.createElement)($,{to:`${_a}admin.php?page=${i}${t.slug?"&path="+t.slug:""}`},t.title))))))))}Bn=hn.useSyncExternalStoreWithSelector,Cn=Bn,(e=>{Fn=e})(fn.useSyncExternalStore),Hn=yn.unstable_batchedUpdates,bn=Hn;const Vn=()=>{const a=An((e=>e.adminmenu)),n=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),r=n.get("page"),i=n.get("path");return(0,e.useEffect)((()=>{document.title=a[r]?.title+" - "+qa}),[r]),(0,e.createElement)(t().Fragment,null,(0,e.createElement)($,{to:`${_a}admin.php?page=academy`,className:"wp-has-submenu wp-has-current-submenu wp-menu-open menu-top toplevel_page_academy menu-top-last","aria-haspopup":"false"},(0,e.createElement)("div",{className:"wp-menu-arrow"},(0,e.createElement)("div",null)),(0,e.createElement)("div",{className:"wp-menu-image svg",style:{backgroundImage:`url('${La}')`},"aria-hidden":"true"},(0,e.createElement)("br",null)),(0,e.createElement)("div",{className:"wp-menu-name"},qa)),(0,e.createElement)("ul",{className:"wp-submenu wp-submenu-wrap"},(0,e.createElement)("li",{className:"wp-submenu-head","aria-hidden":"true"},qa),Object.entries(a).map((([t,a],n)=>{if(["academy-get-pro","academy-license"].includes(t))return null;const s=0===n?"wp-first-item ":"";return(0,e.createElement)($n,{className:r===t?s+"current":s,key:n,parent:t,currentPath:i,subMenuItems:a.sub_items},(0,e.createElement)($,{to:`${_a}admin.php?page=${t}`},a.title,a?.sub_items&&(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"})))})),(0,e.createElement)(e.Fragment,null,Sa?(0,e.createElement)("li",{className:"academy-license"===r?"current":""},(0,e.createElement)("a",{href:"admin.php?page=academy-license"},(0,W.__)("License","academy"))):(0,e.createElement)("li",{className:"academy-get-pro"===r?"current":""},(0,e.createElement)("a",{href:"admin.php?page=academy-get-pro"},(0,e.createElement)("span",{className:"dashicons dashicons-awards academy-blue-color"})," ",(0,W.__)("Get Pro","academy"))))))},Un=function({data:t}){const{color:a,label:n,value:r,icon:i,isAddonActive:s,subLabel:o,redirectURL:l}=t;return!!s&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)($,{to:l,className:`academy-analytics-cards--card ${!l&&"academy-analytics-cards--disabled"}`},(0,e.createElement)("div",{className:`academy-analytics-card--icon icon-${a}`},(0,e.createElement)("span",{className:i})),(0,e.createElement)("div",{className:"academy-analytics-card--data"},(0,e.createElement)("p",{className:"academy-analytics-card--label"},n," ",(0,e.createElement)("span",null,o)),(0,e.createElement)("h2",{className:"academy-analytics-card--value"},r))))},Wn="fetch_analytics",Gn="total_earnings_analytics",Yn="total_refunds_analytics",Kn="total_discounts_analytics",Zn="popular_courses",Qn="enrolled_courses",Xn="recent_reviews",Jn="registered_students",er="registered_instructors",tr="fetch_all_analytics_courses",ar="fetch_all_analytics_course_students",nr="fetch_all_analytics_course_instructors",rr="fetch_all_analytics_students",ir="show_notification",sr=(e,t,a)=>n=>{n({type:ir,payload:{message:e,isShow:t,type:a}})},or=()=>async e=>{try{await nn({action:"academy/get_analytics"}).then((t=>(e({type:Wn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}},lr=function(){const t=An((e=>e.addons)),a=An((e=>e.analytics)),n=zn();(0,e.useEffect)((()=>{a.enrolled_info&&a.total_courses||n(or())}),[]);const r=[{label:(0,W.__)("Total Courses","academy"),subLabel:"",value:a.total_courses,icon:"academy-icon academy-icon--total-course",color:"course",isAddonActive:!0,redirectURL:`${_a}admin.php?page=academy-courses`},{label:(0,W.__)("Courses Enrolled","academy"),subLabel:"",value:a.total_enrolled_courses,icon:"academy-icon academy-icon--course-enrolled-two",color:"enrolled",isAddonActive:!0,redirectURL:!1},{label:(0,W.__)("Total Lessons","academy"),subLabel:"",value:a.total_lessons,icon:"academy-icon academy-icon--lessons",color:"lesson",isAddonActive:!0,redirectURL:`${_a}admin.php?page=academy-lessons`},{label:(0,W.__)("Questions","academy"),subLabel:(0,W.__)("(Waiting for an Answer)","academy"),value:a.total_questions,icon:"academy-icon academy-icon--questions-fill",color:"question",isAddonActive:!0,redirectURL:`${_a}admin.php?page=academy-question_answer`},{label:(0,W.__)("Active Instructors","academy"),subLabel:"",value:a.total_instructors,icon:"academy-icon academy-icon--multi-instructor",color:"instructor",isAddonActive:ln(t,"multi_instructor",!1),redirectURL:`${_a}admin.php?page=academy-instructors`},{label:(0,W.__)("Total Students","academy"),subLabel:"",value:a.total_students,icon:"academy-icon academy-icon--students-two",color:"students",isAddonActive:!0,redirectURL:`${_a}admin.php?page=academy-students`},{label:(0,W.__)("Course Reviews","academy"),subLabel:"",value:a.total_reviews,icon:"academy-icon academy-icon--review-half",color:"review",isAddonActive:!0},{label:(0,W.__)("Total Quizzes","academy"),subLabel:"",value:a.total_quizzes,icon:"academy-icon academy-icon--quiz-fill",isAddonActive:ln(t,"quizzes",!1),color:"quiz",redirectURL:`${_a}admin.php?page=academy-quizzes`},{label:(0,W.__)("Total Assignments","academy"),subLabel:"",value:a.total_assignments,icon:"academy-icon academy-icon--assignment-two",isAddonActive:ln(t,"assignments",!1),color:"assignments",redirectURL:`${_a}admin.php?page=academy-assignments`}];return(0,e.createElement)("div",{className:"academy-analytics-cards"},r.map(((t,a)=>(0,e.createElement)(Un,{data:t,key:a}))))};function cr(e){return e+.5|0}const ur=(e,t,a)=>Math.max(Math.min(e,a),t);function dr(e){return ur(cr(2.55*e),0,255)}function mr(e){return ur(cr(255*e),0,255)}function pr(e){return ur(cr(e/2.55)/100,0,1)}function fr(e){return ur(cr(100*e),0,100)}const hr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yr=[..."0123456789ABCDEF"],_r=e=>yr[15&e],gr=e=>yr[(240&e)>>4]+yr[15&e],br=e=>(240&e)>>4==(15&e);const vr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Er(e,t,a){const n=t*Math.min(a,1-a),r=(t,r=(t+e/30)%12)=>a-n*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function wr(e,t,a){const n=(n,r=(n+e/60)%6)=>a-a*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function xr(e,t,a){const n=Er(e,1,.5);let r;for(t+a>1&&(r=1/(t+a),t*=r,a*=r),r=0;r<3;r++)n[r]*=1-t-a,n[r]+=t;return n}function Nr(e){const t=e.r/255,a=e.g/255,n=e.b/255,r=Math.max(t,a,n),i=Math.min(t,a,n),s=(r+i)/2;let o,l,c;return r!==i&&(c=r-i,l=s>.5?c/(2-r-i):c/(r+i),o=function(e,t,a,n,r){return e===r?(t-a)/n+(t<a?6:0):t===r?(a-e)/n+2:(e-t)/n+4}(t,a,n,c,r),o=60*o+.5),[0|o,l||0,s]}function kr(e,t,a,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,a,n)).map(mr)}function Sr(e,t,a){return kr(Er,e,t,a)}function Cr(e){return(e%360+360)%360}const Or={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ir={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ar;const Tr=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Pr=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Mr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Dr(e,t,a){if(e){let n=Nr(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*a,0===t?360:1)),n=Sr(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Fr(e,t){return e?Object.assign(t||{},e):e}function Rr(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=mr(e[3]))):(t=Fr(e,{r:0,g:0,b:0,a:1})).a=mr(t.a),t}function Lr(e){return"r"===e.charAt(0)?function(e){const t=Tr.exec(e);let a,n,r,i=255;if(t){if(t[7]!==a){const e=+t[7];i=t[8]?dr(e):ur(255*e,0,255)}return a=+t[1],n=+t[3],r=+t[5],a=255&(t[2]?dr(a):ur(a,0,255)),n=255&(t[4]?dr(n):ur(n,0,255)),r=255&(t[6]?dr(r):ur(r,0,255)),{r:a,g:n,b:r,a:i}}}(e):function(e){const t=vr.exec(e);let a,n=255;if(!t)return;t[5]!==a&&(n=t[6]?dr(+t[5]):mr(+t[5]));const r=Cr(+t[2]),i=+t[3]/100,s=+t[4]/100;return a="hwb"===t[1]?function(e,t,a){return kr(xr,e,t,a)}(r,i,s):"hsv"===t[1]?function(e,t,a){return kr(wr,e,t,a)}(r,i,s):Sr(r,i,s),{r:a[0],g:a[1],b:a[2],a:n}}(e)}class qr{constructor(e){if(e instanceof qr)return e;const t=typeof e;let a;var n,r,i;"object"===t?a=Rr(e):"string"===t&&(i=(n=e).length,"#"===n[0]&&(4===i||5===i?r={r:255&17*hr[n[1]],g:255&17*hr[n[2]],b:255&17*hr[n[3]],a:5===i?17*hr[n[4]]:255}:7!==i&&9!==i||(r={r:hr[n[1]]<<4|hr[n[2]],g:hr[n[3]]<<4|hr[n[4]],b:hr[n[5]]<<4|hr[n[6]],a:9===i?hr[n[7]]<<4|hr[n[8]]:255})),a=r||function(e){Ar||(Ar=function(){const e={},t=Object.keys(Ir),a=Object.keys(Or);let n,r,i,s,o;for(n=0;n<t.length;n++){for(s=o=t[n],r=0;r<a.length;r++)i=a[r],o=o.replace(i,Or[i]);i=parseInt(Ir[s],16),e[o]=[i>>16&255,i>>8&255,255&i]}return e}(),Ar.transparent=[0,0,0,0]);const t=Ar[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||Lr(e)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var e=Fr(this._rgb);return e&&(e.a=pr(e.a)),e}set rgb(e){this._rgb=Rr(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${pr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?function(e){var t=(e=>br(e.r)&&br(e.g)&&br(e.b)&&br(e.a))(e)?_r:gr;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Nr(e),a=t[0],n=fr(t[1]),r=fr(t[2]);return e.a<255?`hsla(${a}, ${n}%, ${r}%, ${pr(e.a)})`:`hsl(${a}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const a=this.rgb,n=e.rgb;let r;const i=t===r?.5:t,s=2*i-1,o=a.a-n.a,l=((s*o==-1?s:(s+o)/(1+s*o))+1)/2;r=1-l,a.r=255&l*a.r+r*n.r+.5,a.g=255&l*a.g+r*n.g+.5,a.b=255&l*a.b+r*n.b+.5,a.a=i*a.a+(1-i)*n.a,this.rgb=a}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,a){const n=Mr(pr(e.r)),r=Mr(pr(e.g)),i=Mr(pr(e.b));return{r:mr(Pr(n+a*(Mr(pr(t.r))-n))),g:mr(Pr(r+a*(Mr(pr(t.g))-r))),b:mr(Pr(i+a*(Mr(pr(t.b))-i))),a:e.a+a*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new qr(this.rgb)}alpha(e){return this._rgb.a=mr(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=cr(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Dr(this._rgb,2,e),this}darken(e){return Dr(this._rgb,2,-e),this}saturate(e){return Dr(this._rgb,1,e),this}desaturate(e){return Dr(this._rgb,1,-e),this}rotate(e){return function(e,t){var a=Nr(e);a[0]=Cr(a[0]+t),a=Sr(a),e.r=a[0],e.g=a[1],e.b=a[2]}(this._rgb,e),this}}function jr(){}const zr=(()=>{let e=0;return()=>e++})();function Br(e){return null==e}function Hr(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function $r(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Vr(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function Ur(e,t){return Vr(e)?e:t}function Wr(e,t){return void 0===e?t:e}function Gr(e,t,a){if(e&&"function"==typeof e.call)return e.apply(a,t)}function Yr(e,t,a,n){let r,i,s;if(Hr(e))if(i=e.length,n)for(r=i-1;r>=0;r--)t.call(a,e[r],r);else for(r=0;r<i;r++)t.call(a,e[r],r);else if($r(e))for(s=Object.keys(e),i=s.length,r=0;r<i;r++)t.call(a,e[s[r]],s[r])}function Kr(e,t){let a,n,r,i;if(!e||!t||e.length!==t.length)return!1;for(a=0,n=e.length;a<n;++a)if(r=e[a],i=t[a],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Zr(e){if(Hr(e))return e.map(Zr);if($r(e)){const t=Object.create(null),a=Object.keys(e),n=a.length;let r=0;for(;r<n;++r)t[a[r]]=Zr(e[a[r]]);return t}return e}function Qr(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Xr(e,t,a,n){if(!Qr(e))return;const r=t[e],i=a[e];$r(r)&&$r(i)?Jr(r,i,n):t[e]=Zr(i)}function Jr(e,t,a){const n=Hr(t)?t:[t],r=n.length;if(!$r(e))return e;const i=(a=a||{}).merger||Xr;let s;for(let t=0;t<r;++t){if(s=n[t],!$r(s))continue;const r=Object.keys(s);for(let t=0,n=r.length;t<n;++t)i(r[t],e,s,a)}return e}function ei(e,t){return Jr(e,t,{merger:ti})}function ti(e,t,a){if(!Qr(e))return;const n=t[e],r=a[e];$r(n)&&$r(r)?ei(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Zr(r))}const ai={"":e=>e,x:e=>e.x,y:e=>e.y};function ni(e,t){const a=ai[t]||(ai[t]=function(e){const t=function(e){const t=e.split("."),a=[];let n="";for(const e of t)n+=e,n.endsWith("\\")?n=n.slice(0,-1)+".":(a.push(n),n="");return a}(e);return e=>{for(const a of t){if(""===a)break;e=e&&e[a]}return e}}(t));return a(e)}function ri(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ii=e=>void 0!==e,si=e=>"function"==typeof e,oi=(e,t)=>{if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0},li=Math.PI,ci=2*li,ui=ci+li,di=Number.POSITIVE_INFINITY,mi=li/180,pi=li/2,fi=li/4,hi=2*li/3,yi=Math.log10,_i=Math.sign;function gi(e,t,a){return Math.abs(e-t)<a}function bi(e){const t=Math.round(e);e=gi(e,t,e/1e3)?t:e;const a=Math.pow(10,Math.floor(yi(e))),n=e/a;return(n<=1?1:n<=2?2:n<=5?5:10)*a}function vi(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ei(e){return e*(li/180)}function wi(e){if(!Vr(e))return;let t=1,a=0;for(;Math.round(e*t)/t!==e;)t*=10,a++;return a}function xi(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ni(e,t){return(e-t+ui)%ci-li}function ki(e){return(e%ci+ci)%ci}function Si(e,t,a,n){const r=ki(e),i=ki(t),s=ki(a),o=ki(i-r),l=ki(s-r),c=ki(r-i),u=ki(r-s);return r===i||r===s||n&&i===s||o>l&&c<u}function Ci(e,t,a){return Math.max(t,Math.min(a,e))}function Oi(e,t,a,n=1e-6){return e>=Math.min(t,a)-n&&e<=Math.max(t,a)+n}function Ii(e,t,a){a=a||(a=>e[a]<t);let n,r=e.length-1,i=0;for(;r-i>1;)n=i+r>>1,a(n)?i=n:r=n;return{lo:i,hi:r}}const Ai=(e,t,a,n)=>Ii(e,a,n?n=>{const r=e[n][t];return r<a||r===a&&e[n+1][t]===a}:n=>e[n][t]<a),Ti=(e,t,a)=>Ii(e,a,(n=>e[n][t]>=a)),Pi=["push","pop","shift","splice","unshift"];function Mi(e,t){const a=e._chartjs;if(!a)return;const n=a.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),n.length>0||(Pi.forEach((t=>{delete e[t]})),delete e._chartjs)}const Di="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function Fi(e,t){let a=[],n=!1;return function(...r){a=r,n||(n=!0,Di.call(window,(()=>{n=!1,e.apply(t,a)})))}}const Ri=e=>"start"===e?"left":"end"===e?"right":"center",Li=(e,t,a)=>"start"===e?t:"end"===e?a:(t+a)/2;const qi=e=>0===e||1===e,ji=(e,t,a)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ci/a),zi=(e,t,a)=>Math.pow(2,-10*e)*Math.sin((e-t)*ci/a)+1,Bi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*pi),easeOutSine:e=>Math.sin(e*pi),easeInOutSine:e=>-.5*(Math.cos(li*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>qi(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>qi(e)?e:ji(e,.075,.3),easeOutElastic:e=>qi(e)?e:zi(e,.075,.3),easeInOutElastic(e){const t=.1125;return qi(e)?e:e<.5?.5*ji(2*e,t,.45):.5+.5*zi(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Bi.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375},easeInOutBounce:e=>e<.5?.5*Bi.easeInBounce(2*e):.5*Bi.easeOutBounce(2*e-1)+.5};function Hi(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function $i(e){return Hi(e)?e:new qr(e)}function Vi(e){return Hi(e)?e:new qr(e).saturate(.5).darken(.1).hexString()}const Ui=["x","y","borderWidth","radius","tension"],Wi=["color","borderColor","backgroundColor"],Gi=new Map;function Yi(e,t,a){return function(e,t){t=t||{};const a=e+JSON.stringify(t);let n=Gi.get(a);return n||(n=new Intl.NumberFormat(e,t),Gi.set(a,n)),n}(t,a).format(e)}const Ki={values:e=>Hr(e)?e:""+e,numeric(e,t,a){if(0===e)return"0";const n=this.chart.options.locale;let r,i=e;if(a.length>1){const t=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),i=function(e,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&e!==Math.floor(e)&&(a=e-Math.floor(e)),a}(e,a)}const s=yi(Math.abs(i)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Yi(e,n,l)},logarithmic(e,t,a){if(0===e)return"0";const n=a[t].significand||e/Math.pow(10,Math.floor(yi(e)));return[1,2,3,5,10,15].includes(n)||t>.8*a.length?Ki.numeric.call(this,e,t,a):""}};var Zi={formatters:Ki};const Qi=Object.create(null),Xi=Object.create(null);function Ji(e,t){if(!t)return e;const a=t.split(".");for(let t=0,n=a.length;t<n;++t){const n=a[t];e=e[n]||(e[n]=Object.create(null))}return e}function es(e,t,a){return"string"==typeof t?Jr(Ji(e,t),a):Jr(Ji(e,""),t)}class ts{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Vi(t.backgroundColor),this.hoverBorderColor=(e,t)=>Vi(t.borderColor),this.hoverColor=(e,t)=>Vi(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return es(this,e,t)}get(e){return Ji(this,e)}describe(e,t){return es(Xi,e,t)}override(e,t){return es(Qi,e,t)}route(e,t,a,n){const r=Ji(this,e),i=Ji(this,a),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=i[n];return $r(e)?Object.assign({},t,e):Wr(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var as=new ts({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Wi},numbers:{type:"number",properties:Ui}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ns(e,t,a,n,r){let i=t[r];return i||(i=t[r]=e.measureText(r).width,a.push(r)),i>n&&(n=i),n}function rs(e,t,a){const n=e.currentDevicePixelRatio,r=0!==a?Math.max(a/2,.5):0;return Math.round((t-r)*n)/n+r}function is(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function ss(e,t,a,n){os(e,t,a,n,null)}function os(e,t,a,n,r){let i,s,o,l,c,u,d,m;const p=t.pointStyle,f=t.rotation,h=t.radius;let y=(f||0)*mi;if(p&&"object"==typeof p&&(i=p.toString(),"[object HTMLImageElement]"===i||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(a,n),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(h)||h<=0)){switch(e.beginPath(),p){default:r?e.ellipse(a,n,r/2,h,0,0,ci):e.arc(a,n,h,0,ci),e.closePath();break;case"triangle":u=r?r/2:h,e.moveTo(a+Math.sin(y)*u,n-Math.cos(y)*h),y+=hi,e.lineTo(a+Math.sin(y)*u,n-Math.cos(y)*h),y+=hi,e.lineTo(a+Math.sin(y)*u,n-Math.cos(y)*h),e.closePath();break;case"rectRounded":c=.516*h,l=h-c,s=Math.cos(y+fi)*l,d=Math.cos(y+fi)*(r?r/2-c:l),o=Math.sin(y+fi)*l,m=Math.sin(y+fi)*(r?r/2-c:l),e.arc(a-d,n-o,c,y-li,y-pi),e.arc(a+m,n-s,c,y-pi,y),e.arc(a+d,n+o,c,y,y+pi),e.arc(a-m,n+s,c,y+pi,y+li),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*h,u=r?r/2:l,e.rect(a-u,n-l,2*u,2*l);break}y+=fi;case"rectRot":d=Math.cos(y)*(r?r/2:h),s=Math.cos(y)*h,o=Math.sin(y)*h,m=Math.sin(y)*(r?r/2:h),e.moveTo(a-d,n-o),e.lineTo(a+m,n-s),e.lineTo(a+d,n+o),e.lineTo(a-m,n+s),e.closePath();break;case"crossRot":y+=fi;case"cross":d=Math.cos(y)*(r?r/2:h),s=Math.cos(y)*h,o=Math.sin(y)*h,m=Math.sin(y)*(r?r/2:h),e.moveTo(a-d,n-o),e.lineTo(a+d,n+o),e.moveTo(a+m,n-s),e.lineTo(a-m,n+s);break;case"star":d=Math.cos(y)*(r?r/2:h),s=Math.cos(y)*h,o=Math.sin(y)*h,m=Math.sin(y)*(r?r/2:h),e.moveTo(a-d,n-o),e.lineTo(a+d,n+o),e.moveTo(a+m,n-s),e.lineTo(a-m,n+s),y+=fi,d=Math.cos(y)*(r?r/2:h),s=Math.cos(y)*h,o=Math.sin(y)*h,m=Math.sin(y)*(r?r/2:h),e.moveTo(a-d,n-o),e.lineTo(a+d,n+o),e.moveTo(a+m,n-s),e.lineTo(a-m,n+s);break;case"line":s=r?r/2:Math.cos(y)*h,o=Math.sin(y)*h,e.moveTo(a-s,n-o),e.lineTo(a+s,n+o);break;case"dash":e.moveTo(a,n),e.lineTo(a+Math.cos(y)*(r?r/2:h),n+Math.sin(y)*h);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function ls(e,t,a){return a=a||.5,!t||e&&e.x>t.left-a&&e.x<t.right+a&&e.y>t.top-a&&e.y<t.bottom+a}function cs(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function us(e){e.restore()}function ds(e,t,a,n,r){if(!t)return e.lineTo(a.x,a.y);if("middle"===r){const n=(t.x+a.x)/2;e.lineTo(n,t.y),e.lineTo(n,a.y)}else"after"===r!=!!n?e.lineTo(t.x,a.y):e.lineTo(a.x,t.y);e.lineTo(a.x,a.y)}function ms(e,t,a,n){if(!t)return e.lineTo(a.x,a.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?a.cp2x:a.cp1x,n?a.cp2y:a.cp1y,a.x,a.y)}function ps(e,t,a,n,r){if(r.strikethrough||r.underline){const i=e.measureText(n),s=t-i.actualBoundingBoxLeft,o=t+i.actualBoundingBoxRight,l=a-i.actualBoundingBoxAscent,c=a+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}function fs(e,t){const a=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=a}function hs(e,t,a,n,r,i={}){const s=Hr(t)?t:[t],o=i.strokeWidth>0&&""!==i.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Br(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,i),l=0;l<s.length;++l)c=s[l],i.backdrop&&fs(e,i.backdrop),o&&(i.strokeColor&&(e.strokeStyle=i.strokeColor),Br(i.strokeWidth)||(e.lineWidth=i.strokeWidth),e.strokeText(c,a,n,i.maxWidth)),e.fillText(c,a,n,i.maxWidth),ps(e,a,n,c,i),n+=Number(r.lineHeight);e.restore()}function ys(e,t){const{x:a,y:n,w:r,h:i,radius:s}=t;e.arc(a+s.topLeft,n+s.topLeft,s.topLeft,1.5*li,li,!0),e.lineTo(a,n+i-s.bottomLeft),e.arc(a+s.bottomLeft,n+i-s.bottomLeft,s.bottomLeft,li,pi,!0),e.lineTo(a+r-s.bottomRight,n+i),e.arc(a+r-s.bottomRight,n+i-s.bottomRight,s.bottomRight,pi,0,!0),e.lineTo(a+r,n+s.topRight),e.arc(a+r-s.topRight,n+s.topRight,s.topRight,0,-pi,!0),e.lineTo(a+s.topLeft,n)}const _s=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gs=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function bs(e,t){const a=(""+e).match(_s);if(!a||"normal"===a[1])return 1.2*t;switch(e=+a[2],a[3]){case"px":return e;case"%":e/=100}return t*e}const vs=e=>+e||0;function Es(e,t){const a={},n=$r(t),r=n?Object.keys(t):t,i=$r(e)?n?a=>Wr(e[a],e[t[a]]):t=>e[t]:()=>e;for(const e of r)a[e]=vs(i(e));return a}function ws(e){return Es(e,["topLeft","topRight","bottomLeft","bottomRight"])}function xs(e){const t=function(e){return Es(e,{top:"y",right:"x",bottom:"y",left:"x"})}(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ns(e,t){e=e||{},t=t||as.font;let a=Wr(e.size,t.size);"string"==typeof a&&(a=parseInt(a,10));let n=Wr(e.style,t.style);n&&!(""+n).match(gs)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Wr(e.family,t.family),lineHeight:bs(Wr(e.lineHeight,t.lineHeight),a),size:a,style:n,weight:Wr(e.weight,t.weight),string:""};return r.string=function(e){return!e||Br(e.size)||Br(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function ks(e,t,a,n){let r,i,s,o=!0;for(r=0,i=e.length;r<i;++r)if(s=e[r],void 0!==s&&(void 0!==t&&"function"==typeof s&&(s=s(t),o=!1),void 0!==a&&Hr(s)&&(s=s[a%s.length],o=!1),void 0!==s))return n&&!o&&(n.cacheable=!1),s}function Ss(e,t){return Object.assign(Object.create(e),t)}function Cs(e,t=[""],a,n,r=(()=>e[0])){const i=a||e;void 0===n&&(n=qs("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:a=>Cs([a,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,a)=>(delete t[a],delete t._keys,delete e[0][a],!0),get:(a,n)=>Ps(a,n,(()=>function(e,t,a,n){let r;for(const i of t)if(r=qs(As(i,e),a),void 0!==r)return Ts(e,r)?Rs(a,n,e,r):r}(n,t,e,a))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>js(e).includes(t),ownKeys:e=>js(e),set(e,t,a){const n=e._storage||(e._storage=r());return e[t]=n[t]=a,delete e._keys,!0}})}function Os(e,t,a,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:a,_stack:new Set,_descriptors:Is(e,n),setContext:t=>Os(e,t,a,n),override:r=>Os(e.override(r),t,a,n)};return new Proxy(r,{deleteProperty:(t,a)=>(delete t[a],delete e[a],!0),get:(e,t,a)=>Ps(e,t,(()=>function(e,t,a){const{_proxy:n,_context:r,_subProxy:i,_descriptors:s}=e;let o=n[t];return si(o)&&s.isScriptable(t)&&(o=function(e,t,a,n){const{_proxy:r,_context:i,_subProxy:s,_stack:o}=a;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(i,s||n);return o.delete(e),Ts(e,l)&&(l=Rs(r._scopes,r,e,l)),l}(t,o,e,a)),Hr(o)&&o.length&&(o=function(e,t,a,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=a;if(void 0!==i.index&&n(e))return t[i.index%t.length];if($r(t[0])){const a=t,n=r._scopes.filter((e=>e!==a));t=[];for(const l of a){const a=Rs(n,r,e,l);t.push(Os(a,i,s&&s[e],o))}}return t}(t,o,e,s.isIndexable)),Ts(t,o)&&(o=Os(o,r,i&&i[t],s)),o}(e,t,a))),getOwnPropertyDescriptor:(t,a)=>t._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,a)=>Reflect.has(e,a),ownKeys:()=>Reflect.ownKeys(e),set:(t,a,n)=>(e[a]=n,delete t[a],!0)})}function Is(e,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:a,indexable:n,isScriptable:si(a)?a:()=>a,isIndexable:si(n)?n:()=>n}}const As=(e,t)=>e?e+ri(t):t,Ts=(e,t)=>$r(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ps(e,t,a){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=a();return e[t]=n,n}function Ms(e,t,a){return si(e)?e(t,a):e}const Ds=(e,t)=>!0===e?t:"string"==typeof e?ni(t,e):void 0;function Fs(e,t,a,n,r){for(const i of t){const t=Ds(a,i);if(t){e.add(t);const i=Ms(t._fallback,a,r);if(void 0!==i&&i!==a&&i!==n)return i}else if(!1===t&&void 0!==n&&a!==n)return null}return!1}function Rs(e,t,a,n){const r=t._rootScopes,i=Ms(t._fallback,a,n),s=[...e,...r],o=new Set;o.add(n);let l=Ls(o,s,a,i||a,n);return null!==l&&(void 0===i||i===a||(l=Ls(o,s,i,l,n),null!==l))&&Cs(Array.from(o),[""],r,i,(()=>function(e,t,a){const n=e._getTarget();t in n||(n[t]={});const r=n[t];return Hr(r)&&$r(a)?a:r||{}}(t,a,n)))}function Ls(e,t,a,n,r){for(;a;)a=Fs(e,t,a,n,r);return a}function qs(e,t){for(const a of t){if(!a)continue;const t=a[e];if(void 0!==t)return t}}function js(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const a of e)for(const e of Object.keys(a).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const zs=Number.EPSILON||1e-14,Bs=(e,t)=>t<e.length&&!e[t].skip&&e[t],Hs=e=>"x"===e?"y":"x";function $s(e,t,a,n){const r=e.skip?t:e,i=t,s=a.skip?t:a,o=xi(i,r),l=xi(s,i);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,m=n*u;return{previous:{x:i.x-d*(s.x-r.x),y:i.y-d*(s.y-r.y)},next:{x:i.x+m*(s.x-r.x),y:i.y+m*(s.y-r.y)}}}function Vs(e,t,a){return Math.max(Math.min(e,a),t)}function Us(e,t,a,n,r){let i,s,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){const a=Hs(t),n=e.length,r=Array(n).fill(0),i=Array(n);let s,o,l,c=Bs(e,0);for(s=0;s<n;++s)if(o=l,l=c,c=Bs(e,s+1),l){if(c){const e=c[t]-l[t];r[s]=0!==e?(c[a]-l[a])/e:0}i[s]=o?c?_i(r[s-1])!==_i(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(e,t,a){const n=e.length;let r,i,s,o,l,c=Bs(e,0);for(let u=0;u<n-1;++u)l=c,c=Bs(e,u+1),l&&c&&(gi(t[u],0,zs)?a[u]=a[u+1]=0:(r=a[u]/t[u],i=a[u+1]/t[u],o=Math.pow(r,2)+Math.pow(i,2),o<=9||(s=3/Math.sqrt(o),a[u]=r*s*t[u],a[u+1]=i*s*t[u])))}(e,r,i),function(e,t,a="x"){const n=Hs(a),r=e.length;let i,s,o,l=Bs(e,0);for(let c=0;c<r;++c){if(s=o,o=l,l=Bs(e,c+1),!o)continue;const r=o[a],u=o[n];s&&(i=(r-s[a])/3,o[`cp1${a}`]=r-i,o[`cp1${n}`]=u-i*t[c]),l&&(i=(l[a]-r)/3,o[`cp2${a}`]=r+i,o[`cp2${n}`]=u+i*t[c])}}(e,i,t)}(e,r);else{let a=n?e[e.length-1]:e[0];for(i=0,s=e.length;i<s;++i)o=e[i],l=$s(a,o,e[Math.min(i+1,s-(n?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,a=o}t.capBezierPoints&&function(e,t){let a,n,r,i,s,o=ls(e[0],t);for(a=0,n=e.length;a<n;++a)s=i,i=o,o=a<n-1&&ls(e[a+1],t),i&&(r=e[a],s&&(r.cp1x=Vs(r.cp1x,t.left,t.right),r.cp1y=Vs(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=Vs(r.cp2x,t.left,t.right),r.cp2y=Vs(r.cp2y,t.top,t.bottom)))}(e,a)}function Ws(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Gs(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ys(e,t,a){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[a])):n=e,n}const Ks=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),Zs=["top","right","bottom","left"];function Qs(e,t,a){const n={};a=a?"-"+a:"";for(let r=0;r<4;r++){const i=Zs[r];n[i]=parseFloat(e[t+"-"+i+a])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Xs=(e,t,a)=>(e>0||t>0)&&(!a||!a.shadowRoot);function Js(e,t){if("native"in e)return e;const{canvas:a,currentDevicePixelRatio:n}=t,r=Ks(a),i="border-box"===r.boxSizing,s=Qs(r,"padding"),o=Qs(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const a=e.touches,n=a&&a.length?a[0]:e,{offsetX:r,offsetY:i}=n;let s,o,l=!1;if(Xs(r,i,e.target))s=r,o=i;else{const e=t.getBoundingClientRect();s=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:s,y:o,box:l}}(e,a),d=s.left+(u&&o.left),m=s.top+(u&&o.top);let{width:p,height:f}=t;return i&&(p-=s.width+o.width,f-=s.height+o.height),{x:Math.round((l-d)/p*a.width/n),y:Math.round((c-m)/f*a.height/n)}}const eo=e=>Math.round(10*e)/10;function to(e,t,a){const n=t||1,r=Math.floor(e.height*n),i=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(a||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||s.height!==r||s.width!==i)&&(e.currentDevicePixelRatio=n,s.height=r,s.width=i,e.ctx.setTransform(n,0,0,n,0,0),!0)}const ao=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function no(e,t){const a=function(e,t){return Ks(e).getPropertyValue(t)}(e,t),n=a&&a.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function ro(e,t,a,n){return{x:e.x+a*(t.x-e.x),y:e.y+a*(t.y-e.y)}}function io(e,t,a,n){return{x:e.x+a*(t.x-e.x),y:"middle"===n?a<.5?e.y:t.y:"after"===n?a<1?e.y:t.y:a>0?t.y:e.y}}function so(e,t,a,n){const r={x:e.cp2x,y:e.cp2y},i={x:t.cp1x,y:t.cp1y},s=ro(e,r,a),o=ro(r,i,a),l=ro(i,t,a),c=ro(s,o,a),u=ro(o,l,a);return ro(c,u,a)}function oo(e,t,a){return e?function(e,t){return{x:a=>e+e+t-a,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,a):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function lo(e,t){let a,n;"ltr"!==t&&"rtl"!==t||(a=e.canvas.style,n=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),e.prevTextDirection=n)}function co(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function uo(e){return"angle"===e?{between:Si,compare:Ni,normalize:ki}:{between:Oi,compare:(e,t)=>e-t,normalize:e=>e}}function mo({start:e,end:t,count:a,loop:n,style:r}){return{start:e%a,end:t%a,loop:n&&(t-e+1)%a==0,style:r}}function po(e,t,a){if(!a)return[e];const{property:n,start:r,end:i}=a,s=t.length,{compare:o,between:l,normalize:c}=uo(n),{start:u,end:d,loop:m,style:p}=function(e,t,a){const{property:n,start:r,end:i}=a,{between:s,normalize:o}=uo(n),l=t.length;let c,u,{start:d,end:m,loop:p}=e;if(p){for(d+=l,m+=l,c=0,u=l;c<u&&s(o(t[d%l][n]),r,i);++c)d--,m--;d%=l,m%=l}return m<d&&(m+=l),{start:d,end:m,loop:p,style:e.style}}(e,t,a),f=[];let h,y,_,g=!1,b=null;for(let e=u,a=u;e<=d;++e)y=t[e%s],y.skip||(h=c(y[n]),h!==_&&(g=l(h,r,i),null===b&&(g||l(r,_,h)&&0!==o(r,_))&&(b=0===o(h,r)?e:a),null!==b&&(!g||0===o(i,h)||l(i,_,h))&&(f.push(mo({start:b,end:e,loop:m,count:s,style:p})),b=null),a=e,_=h));return null!==b&&f.push(mo({start:b,end:d,loop:m,count:s,style:p})),f}function fo(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ho(e,t){if(!t)return!1;const a=[],n=function(e,t){return Hi(t)?(a.includes(t)||a.push(t),a.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}class yo{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,a,n){const r=t.listeners[n],i=t.duration;r.forEach((n=>n({chart:e,initial:t.initial,numSteps:i,currentStep:Math.min(a-t.start,i)})))}_refresh(){this._request||(this._running=!0,this._request=Di.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((a,n)=>{if(!a.running||!a.items.length)return;const r=a.items;let i,s=r.length-1,o=!1;for(;s>=0;--s)i=r[s],i._active?(i._total>a.duration&&(a.duration=i._total),i.tick(e),o=!0):(r[s]=r[r.length-1],r.pop());o&&(n.draw(),this._notify(n,a,e,"progress")),r.length||(a.running=!1,this._notify(n,a,e,"complete"),a.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let a=t.get(e);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,a)),a}listen(e,t,a){this._getAnims(e).listeners[t].push(a)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const a=t.items;let n=a.length-1;for(;n>=0;--n)a[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _o=new yo;const go="transparent",bo={boolean:(e,t,a)=>a>.5?t:e,color(e,t,a){const n=$i(e||go),r=n.valid&&$i(t||go);return r&&r.valid?r.mix(n,a).hexString():t},number:(e,t,a)=>e+(t-e)*a};class vo{constructor(e,t,a,n){const r=t[a];n=ks([e.to,n,r,e.from]);const i=ks([e.from,r,n]);this._active=!0,this._fn=e.fn||bo[e.type||typeof i],this._easing=Bi[e.easing]||Bi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=a,this._from=i,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,a){if(this._active){this._notify(!1);const n=this._target[this._prop],r=a-this._start,i=this._duration-r;this._start=a,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ks([e.to,t,n,e.from]),this._from=ks([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,a=this._duration,n=this._prop,r=this._from,i=this._loop,s=this._to;let o;if(this._active=r!==s&&(i||t<a),!this._active)return this._target[n]=s,void this._notify(!0);t<0?this._target[n]=r:(o=t/a%2,o=i&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(r,s,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,a)=>{e.push({res:t,rej:a})}))}_notify(e){const t=e?"res":"rej",a=this._promises||[];for(let e=0;e<a.length;e++)a[e][t]()}}class Eo{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!$r(e))return;const t=Object.keys(as.animation),a=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const r=e[n];if(!$r(r))return;const i={};for(const e of t)i[e]=r[e];(Hr(r.properties)&&r.properties||[n]).forEach((e=>{e!==n&&a.has(e)||a.set(e,i)}))}))}_animateOptions(e,t){const a=t.options,n=function(e,t){if(!t)return;let a=e.options;if(a)return a.$shared&&(e.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a;e.options=t}(e,a);if(!n)return[];const r=this._createAnimations(n,a);return a.$shared&&function(e,t){const a=[],n=Object.keys(t);for(let t=0;t<n.length;t++){const r=e[n[t]];r&&r.active()&&a.push(r.wait())}return Promise.all(a)}(e.options.$animations,a).then((()=>{e.options=a}),(()=>{})),r}_createAnimations(e,t){const a=this._properties,n=[],r=e.$animations||(e.$animations={}),i=Object.keys(t),s=Date.now();let o;for(o=i.length-1;o>=0;--o){const l=i[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const d=a.get(l);if(u){if(d&&u.active()){u.update(d,c,s);continue}u.cancel()}d&&d.duration?(r[l]=u=new vo(d,e,l,c),n.push(u)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const a=this._createAnimations(e,t);return a.length?(_o.add(this._chart,a),!0):void 0}}function wo(e,t){const a=e&&e.options||{},n=a.reverse,r=void 0===a.min?t:0,i=void 0===a.max?t:0;return{start:n?i:r,end:n?r:i}}function xo(e,t){const a=[],n=e._getSortedDatasetMetas(t);let r,i;for(r=0,i=n.length;r<i;++r)a.push(n[r].index);return a}function No(e,t,a,n={}){const r=e.keys,i="single"===n.mode;let s,o,l,c;if(null!==t){for(s=0,o=r.length;s<o;++s){if(l=+r[s],l===a){if(n.all)continue;break}c=e.values[l],Vr(c)&&(i||0===t||_i(t)===_i(c))&&(t+=c)}return t}}function ko(e,t){const a=e&&e.options.stacked;return a||void 0===a&&void 0!==t.stack}function So(e,t,a){const n=e[t]||(e[t]={});return n[a]||(n[a]={})}function Co(e,t,a,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const t=e[r.index];if(a&&t>0||!a&&t<0)return r.index}return null}function Oo(e,t){const{chart:a,_cachedMeta:n}=e,r=a._stacks||(a._stacks={}),{iScale:i,vScale:s,index:o}=n,l=i.axis,c=s.axis,u=function(e,t,a){return`${e.id}.${t.id}.${a.stack||a.type}`}(i,s,n),d=t.length;let m;for(let e=0;e<d;++e){const a=t[e],{[l]:i,[c]:d}=a;m=(a._stacks||(a._stacks={}))[c]=So(r,u,i),m[o]=d,m._top=Co(m,s,!0,n.type),m._bottom=Co(m,s,!1,n.type),(m._visualValues||(m._visualValues={}))[o]=d}}function Io(e,t){const a=e.scales;return Object.keys(a).filter((e=>a[e].axis===t)).shift()}function Ao(e,t){const a=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][a])return;delete t[n][a],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[a]&&delete t[n]._visualValues[a]}}}const To=e=>"reset"===e||"none"===e,Po=(e,t)=>t?e:Object.assign({},e);class Mo{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ko(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ao(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,a=this.getDataset(),n=(e,t,a,n)=>"x"===e?t:"r"===e?n:a,r=t.xAxisID=Wr(a.xAxisID,Io(e,"x")),i=t.yAxisID=Wr(a.yAxisID,Io(e,"y")),s=t.rAxisID=Wr(a.rAxisID,Io(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,r,i,s),c=t.vAxisID=n(o,i,r,s);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(i),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Mi(this._data,this),e._stacked&&Ao(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),a=this._data;if($r(t))this._data=function(e){const t=Object.keys(e),a=new Array(t.length);let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],a[n]={x:i,y:e[i]};return a}(t);else if(a!==t){if(a){Mi(a,this);const e=this._cachedMeta;Ao(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Pi.forEach((t=>{const a="_onData"+ri(t),n=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const r=n.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"==typeof e[a]&&e[a](...t)})),r}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,a=this.getDataset();let n=!1;this._dataCheck();const r=t._stacked;t._stacked=ko(t.vScale,t),t.stack!==a.stack&&(n=!0,Ao(t),t.stack=a.stack),this._resyncElements(e),(n||r!==t._stacked)&&Oo(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),a=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:a,_data:n}=this,{iScale:r,_stacked:i}=a,s=r.axis;let o,l,c,u=0===e&&t===n.length||a._sorted,d=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=n,a._sorted=!0,c=n;else{c=Hr(n[e])?this.parseArrayData(a,n,e,t):$r(n[e])?this.parseObjectData(a,n,e,t):this.parsePrimitiveData(a,n,e,t);const r=()=>null===l[s]||d&&l[s]<d[s];for(o=0;o<t;++o)a._parsed[o+e]=l=c[o],u&&(r()&&(u=!1),d=l);a._sorted=u}i&&Oo(this,c)}parsePrimitiveData(e,t,a,n){const{iScale:r,vScale:i}=e,s=r.axis,o=i.axis,l=r.getLabels(),c=r===i,u=new Array(n);let d,m,p;for(d=0,m=n;d<m;++d)p=d+a,u[d]={[s]:c||r.parse(l[p],p),[o]:i.parse(t[p],p)};return u}parseArrayData(e,t,a,n){const{xScale:r,yScale:i}=e,s=new Array(n);let o,l,c,u;for(o=0,l=n;o<l;++o)c=o+a,u=t[c],s[o]={x:r.parse(u[0],c),y:i.parse(u[1],c)};return s}parseObjectData(e,t,a,n){const{xScale:r,yScale:i}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let c,u,d,m;for(c=0,u=n;c<u;++c)d=c+a,m=t[d],l[c]={x:r.parse(ni(m,s),d),y:i.parse(ni(m,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,a){const n=this.chart,r=this._cachedMeta,i=t[e.axis];return No({keys:xo(n,!0),values:t._stacks[e.axis]._visualValues},i,r.index,{mode:a})}updateRangeFromParsed(e,t,a,n){const r=a[t.axis];let i=null===r?NaN:r;const s=n&&a._stacks[t.axis];n&&s&&(n.values=s,i=No(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,t){const a=this._cachedMeta,n=a._parsed,r=a._sorted&&e===a.iScale,i=n.length,s=this._getOtherScale(e),o=((e,t,a)=>e&&!t.hidden&&t._stacked&&{keys:xo(a,!0),values:null})(t,a,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:a,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?a:Number.POSITIVE_INFINITY}}(s);let d,m;function p(){m=n[d];const t=m[s.axis];return!Vr(m[e.axis])||c>t||u<t}for(d=0;d<i&&(p()||(this.updateRangeFromParsed(l,e,m,o),!r));++d);if(r)for(d=i-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,m,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,a=[];let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n][e.axis],Vr(i)&&a.push(i);return a}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,a=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:a?""+a.getLabelForValue(r[a.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,a,n,r;return $r(e)?(t=e.top,a=e.right,n=e.bottom,r=e.left):t=a=n=r=e,{top:t,right:a,bottom:n,left:r,disabled:!1===e}}(Wr(this.options.clip,function(e,t,a){if(!1===a)return!1;const n=wo(e,a),r=wo(t,a);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,a=this._cachedMeta,n=a.data||[],r=t.chartArea,i=[],s=this._drawStart||0,o=this._drawCount||n.length-s,l=this.options.drawActiveElementsOnTop;let c;for(a.dataset&&a.dataset.draw(e,r,s,o),c=s;c<s+o;++c){const t=n[c];t.hidden||(t.active&&l?i.push(t):t.draw(e,r))}for(c=0;c<i.length;++c)i[c].draw(e,r)}getStyle(e,t){const a=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(e||0,a)}getContext(e,t,a){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,a){return Ss(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return Ss(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=a,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",a){const n="active"===t,r=this._cachedDataOpts,i=e+"-"+t,s=r[i],o=this.enableOptionSharing&&ii(a);if(s)return Po(s,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=n?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),m=Object.keys(as.elements[e]),p=l.resolveNamedOptions(d,m,(()=>this.getContext(a,n,t)),u);return p.$shared&&(p.$shared=o,r[i]=Object.freeze(Po(p,o))),p}_resolveAnimations(e,t,a){const n=this.chart,r=this._cachedDataOpts,i=`animation-${t}`,s=r[i];if(s)return s;let o;if(!1!==n.options.animation){const n=this.chart.config,r=n.datasetAnimationScopeKeys(this._type,t),i=n.getOptionScopes(this.getDataset(),r);o=n.createResolver(i,this.getContext(e,a,t))}const l=new Eo(n,o&&o.animations);return o&&o._cacheable&&(r[i]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||To(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const a=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(a),i=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,a),{sharedOptions:r,includeOptions:i}}updateElement(e,t,a,n){To(n)?Object.assign(e,a):this._resolveAnimations(t,n).update(e,a)}updateSharedOptions(e,t,a){e&&!To(t)&&this._resolveAnimations(void 0,t).update(e,a)}_setStyle(e,t,a,n){e.active=n;const r=this.getStyle(t,n);this._resolveAnimations(t,a,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,a){this._setStyle(e,a,"active",!1)}setHoverStyle(e,t,a){this._setStyle(e,a,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,a=this._cachedMeta.data;for(const[e,t,a]of this._syncList)this[e](t,a);this._syncList=[];const n=a.length,r=t.length,i=Math.min(r,n);i&&this.parse(0,i),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t,a=!0){const n=this._cachedMeta,r=n.data,i=e+t;let s;const o=e=>{for(e.length+=t,s=e.length-1;s>=i;s--)e[s]=e[s-t]};for(o(r),s=e;s<i;++s)r[s]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),a&&this.updateElements(r,e,t,"reset")}updateElements(e,t,a,n){}_removeElements(e,t){const a=this._cachedMeta;if(this._parsing){const n=a._parsed.splice(e,t);a._stacked&&Ao(a,n)}a.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,a,n]=e;this[t](a,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const a=arguments.length-2;a&&this._sync(["_insertElements",e,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Do extends Mo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:a,data:n=[],_dataset:r}=t,i=this.chart._animationsDisabled;let{start:s,count:o}=function(e,t,a){const n=t.length;let r=0,i=n;if(e._sorted){const{iScale:s,_parsed:o}=e,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:m}=s.getUserBounds();d&&(r=Ci(Math.min(Ai(o,l,c).lo,a?n:Ai(t,l,s.getPixelForValue(c)).lo),0,n-1)),i=m?Ci(Math.max(Ai(o,s.axis,u,!0).hi+1,a?0:Ai(t,l,s.getPixelForValue(u),!0).hi+1),r,n)-r:n-r}return{start:r,count:i}}(t,n,i);this._drawStart=s,this._drawCount=o,function(e){const{xScale:t,yScale:a,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!n)return e._scaleRanges=r,!0;const i=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==a.min||n.ymax!==a.max;return Object.assign(n,r),i}(t)&&(s=0,o=n.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!r._decimated,a.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:l},e),this.updateElements(n,s,o,e)}updateElements(e,t,a,n){const r="reset"===n,{iScale:i,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,n),d=i.axis,m=s.axis,{spanGaps:p,segment:f}=this.options,h=vi(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===n,_=t+a,g=e.length;let b=t>0&&this.getParsed(t-1);for(let a=0;a<g;++a){const p=e[a],g=y?p:{};if(a<t||a>=_){g.skip=!0;continue}const v=this.getParsed(a),E=Br(v[m]),w=g[d]=i.getPixelForValue(v[d],a),x=g[m]=r||E?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,v,o):v[m],a);g.skip=isNaN(w)||isNaN(x)||E,g.stop=a>0&&Math.abs(v[d]-b[d])>h,f&&(g.parsed=v,g.raw=l.data[a]),u&&(g.options=c||this.resolveDataElementOptions(a,p.active?"active":n)),y||this.updateElement(p,a,g,n),b=v}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,a=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return a;const r=n[0].size(this.resolveDataElementOptions(0)),i=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(a,r,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Fo(e,t,a,n){const{controller:r,data:i,_sorted:s}=e,o=r._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&s&&i.length){const e=o._reversePixels?Ti:Ai;if(!n)return e(i,t,a);if(r._sharedOptions){const n=i[0],r="function"==typeof n.getRange&&n.getRange(t);if(r){const n=e(i,t,a-r),s=e(i,t,a+r);return{lo:n.lo,hi:s.hi}}}}return{lo:0,hi:i.length-1}}function Ro(e,t,a,n,r){const i=e.getSortedVisibleDatasetMetas(),s=a[t];for(let e=0,a=i.length;e<a;++e){const{index:a,data:o}=i[e],{lo:l,hi:c}=Fo(i[e],t,s,r);for(let e=l;e<=c;++e){const t=o[e];t.skip||n(t,a,e)}}}function Lo(e,t,a,n,r){const i=[];return r||e.isPointInArea(t)?(Ro(e,a,t,(function(a,s,o){(r||ls(a,e.chartArea,0))&&a.inRange(t.x,t.y,n)&&i.push({element:a,datasetIndex:s,index:o})}),!0),i):i}function qo(e,t,a,n,r,i){return i||e.isPointInArea(t)?"r"!==a||n?function(e,t,a,n,r,i){let s=[];const o=function(e){const t=-1!==e.indexOf("x"),a=-1!==e.indexOf("y");return function(e,n){const r=t?Math.abs(e.x-n.x):0,i=a?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(i,2))}}(a);let l=Number.POSITIVE_INFINITY;return Ro(e,a,t,(function(a,c,u){const d=a.inRange(t.x,t.y,r);if(n&&!d)return;const m=a.getCenterPoint(r);if(!i&&!e.isPointInArea(m)&&!d)return;const p=o(t,m);p<l?(s=[{element:a,datasetIndex:c,index:u}],l=p):p===l&&s.push({element:a,datasetIndex:c,index:u})})),s}(e,t,a,n,r,i):function(e,t,a,n){let r=[];return Ro(e,a,t,(function(e,a,i){const{startAngle:s,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=function(e,t){const a=t.x-e.x,n=t.y-e.y,r=Math.sqrt(a*a+n*n);let i=Math.atan2(n,a);return i<-.5*li&&(i+=ci),{angle:i,distance:r}}(e,{x:t.x,y:t.y});Si(l,s,o)&&r.push({element:e,datasetIndex:a,index:i})})),r}(e,t,a,r):[]}function jo(e,t,a,n,r){const i=[],s="x"===a?"inXRange":"inYRange";let o=!1;return Ro(e,a,t,((e,n,l)=>{e[s](t[a],r)&&(i.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,r))})),n&&!o?[]:i}var zo={evaluateInteractionItems:Ro,modes:{index(e,t,a,n){const r=Js(t,e),i=a.axis||"x",s=a.includeInvisible||!1,o=a.intersect?Lo(e,r,i,n,s):qo(e,r,i,!1,n,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,a=e.data[t];a&&!a.skip&&l.push({element:a,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,a,n){const r=Js(t,e),i=a.axis||"xy",s=a.includeInvisible||!1;let o=a.intersect?Lo(e,r,i,n,s):qo(e,r,i,!1,n,s);if(o.length>0){const t=o[0].datasetIndex,a=e.getDatasetMeta(t).data;o=[];for(let e=0;e<a.length;++e)o.push({element:a[e],datasetIndex:t,index:e})}return o},point:(e,t,a,n)=>Lo(e,Js(t,e),a.axis||"xy",n,a.includeInvisible||!1),nearest(e,t,a,n){const r=Js(t,e),i=a.axis||"xy",s=a.includeInvisible||!1;return qo(e,r,i,a.intersect,n,s)},x:(e,t,a,n)=>jo(e,Js(t,e),"x",a.intersect,n),y:(e,t,a,n)=>jo(e,Js(t,e),"y",a.intersect,n)}};const Bo=["left","top","right","bottom"];function Ho(e,t){return e.filter((e=>e.pos===t))}function $o(e,t){return e.filter((e=>-1===Bo.indexOf(e.pos)&&e.box.axis===t))}function Vo(e,t){return e.sort(((e,a)=>{const n=t?a:e,r=t?e:a;return n.weight===r.weight?n.index-r.index:n.weight-r.weight}))}function Uo(e,t,a,n){return Math.max(e[a],t[a])+Math.max(e[n],t[n])}function Wo(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Go(e,t,a,n){const{pos:r,box:i}=a,s=e.maxPadding;if(!$r(r)){a.size&&(e[r]-=a.size);const t=n[a.stack]||{size:0,count:1};t.size=Math.max(t.size,a.horizontal?i.height:i.width),a.size=t.size/t.count,e[r]+=a.size}i.getPadding&&Wo(s,i.getPadding());const o=Math.max(0,t.outerWidth-Uo(s,e,"left","right")),l=Math.max(0,t.outerHeight-Uo(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,a.horizontal?{same:c,other:u}:{same:u,other:c}}function Yo(e,t){const a=t.maxPadding;return function(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],a[e])})),n}(e?["left","right"]:["top","bottom"])}function Ko(e,t,a,n){const r=[];let i,s,o,l,c,u;for(i=0,s=e.length,c=0;i<s;++i){o=e[i],l=o.box,l.update(o.width||t.w,o.height||t.h,Yo(o.horizontal,t));const{same:s,other:d}=Go(t,a,o,n);c|=s&&r.length,u=u||d,l.fullSize||r.push(o)}return c&&Ko(r,t,a,n)||u}function Zo(e,t,a,n,r){e.top=a,e.left=t,e.right=t+n,e.bottom=a+r,e.width=n,e.height=r}function Qo(e,t,a,n){const r=a.padding;let{x:i,y:s}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*c,i=l.size||e.height;ii(l.start)&&(s=l.start),e.fullSize?Zo(e,r.left,s,a.outerWidth-r.right-r.left,i):Zo(e,t.left+l.placed,s,n,i),l.start=s,l.placed+=n,s=e.bottom}else{const n=t.h*c,s=l.size||e.width;ii(l.start)&&(i=l.start),e.fullSize?Zo(e,i,r.top,s,a.outerHeight-r.bottom-r.top):Zo(e,i,t.top+l.placed,s,n),l.start=i,l.placed+=n,i=e.right}}t.x=i,t.y=s}var Xo={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const a=e.boxes?e.boxes.indexOf(t):-1;-1!==a&&e.boxes.splice(a,1)},configure(e,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(e,t,a,n){if(!e)return;const r=xs(e.options.layout.padding),i=Math.max(t-r.width,0),s=Math.max(a-r.height,0),o=function(e){const t=function(e){const t=[];let a,n,r,i,s,o;for(a=0,n=(e||[]).length;a<n;++a)r=e[a],({position:i,options:{stack:s,stackWeight:o=1}}=r),t.push({index:a,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&i+s,stackWeight:o});return t}(e),a=Vo(t.filter((e=>e.box.fullSize)),!0),n=Vo(Ho(t,"left"),!0),r=Vo(Ho(t,"right")),i=Vo(Ho(t,"top"),!0),s=Vo(Ho(t,"bottom")),o=$o(t,"x"),l=$o(t,"y");return{fullSize:a,leftAndTop:n.concat(i),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:Ho(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:i.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;Yr(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:a,padding:r,availableWidth:i,availableHeight:s,vBoxMaxWidth:i/2/u,hBoxMaxHeight:s/2}),m=Object.assign({},r);Wo(m,xs(n));const p=Object.assign({maxPadding:m,w:i,h:s,x:r.left,y:r.top},r),f=function(e,t){const a=function(e){const t={};for(const a of e){const{stack:e,pos:n,stackWeight:r}=a;if(!e||!Bo.includes(n))continue;const i=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=r}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let i,s,o;for(i=0,s=e.length;i<s;++i){o=e[i];const{fullSize:s}=o.box,l=a[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*n:s&&t.availableWidth,o.height=r):(o.width=n,o.height=c?c*r:s&&t.availableHeight)}return a}(l.concat(c),d);Ko(o.fullSize,p,d,f),Ko(l,p,d,f),Ko(c,p,d,f)&&Ko(l,p,d,f),function(e){const t=e.maxPadding;function a(a){const n=Math.max(t[a]-e[a],0);return e[a]+=n,n}e.y+=a("top"),e.x+=a("left"),a("right"),a("bottom")}(p),Qo(o.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,Qo(o.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Yr(o.chartArea,(t=>{const a=t.box;Object.assign(a,e.chartArea),a.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class Jo{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,a){}removeEventListener(e,t,a){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,a,n){return t=Math.max(0,t||e.width),a=a||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):a)}}isAttached(e){return!0}updateConfig(e){}}class el extends Jo{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const tl="$chartjs",al={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},nl=e=>null===e||""===e,rl=!!ao&&{passive:!0};function il(e,t,a){e.canvas.removeEventListener(t,a,rl)}function sl(e,t){for(const a of e)if(a===t||a.contains(t))return!0}function ol(e,t,a){const n=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const a of e)t=t||sl(a.addedNodes,n),t=t&&!sl(a.removedNodes,n);t&&a()}));return r.observe(document,{childList:!0,subtree:!0}),r}function ll(e,t,a){const n=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const a of e)t=t||sl(a.removedNodes,n),t=t&&!sl(a.addedNodes,n);t&&a()}));return r.observe(document,{childList:!0,subtree:!0}),r}const cl=new Map;let ul=0;function dl(){const e=window.devicePixelRatio;e!==ul&&(ul=e,cl.forEach(((t,a)=>{a.currentDevicePixelRatio!==e&&t()})))}function ml(e,t,a){const n=e.canvas,r=n&&Gs(n);if(!r)return;const i=Fi(((e,t)=>{const n=r.clientWidth;a(e,t),n<r.clientWidth&&a()}),window),s=new ResizeObserver((e=>{const t=e[0],a=t.contentRect.width,n=t.contentRect.height;0===a&&0===n||i(a,n)}));return s.observe(r),function(e,t){cl.size||window.addEventListener("resize",dl),cl.set(e,t)}(e,i),s}function pl(e,t,a){a&&a.disconnect(),"resize"===t&&function(e){cl.delete(e),cl.size||window.removeEventListener("resize",dl)}(e)}function fl(e,t,a){const n=e.canvas,r=Fi((t=>{null!==e.ctx&&a(function(e,t){const a=al[e.type]||e.type,{x:n,y:r}=Js(e,t);return{type:a,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(t,e))}),e);return function(e,t,a){e.addEventListener(t,a,rl)}(n,t,r),r}class hl extends Jo{acquireContext(e,t){const a=e&&e.getContext&&e.getContext("2d");return a&&a.canvas===e?(function(e,t){const a=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[tl]={initial:{height:n,width:r,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",nl(r)){const t=no(e,"width");void 0!==t&&(e.width=t)}if(nl(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=no(e,"height");void 0!==t&&(e.height=t)}}(e,t),a):null}releaseContext(e){const t=e.canvas;if(!t[tl])return!1;const a=t[tl].initial;["height","width"].forEach((e=>{const n=a[e];Br(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=a.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[tl],!0}addEventListener(e,t,a){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),r={attach:ol,detach:ll,resize:ml}[t]||fl;n[t]=r(e,t,a)}removeEventListener(e,t){const a=e.$proxies||(e.$proxies={}),n=a[t];n&&(({attach:pl,detach:pl,resize:pl}[t]||il)(e,t,n),a[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,a,n){return function(e,t,a,n){const r=Ks(e),i=Qs(r,"margin"),s=Ys(r.maxWidth,e,"clientWidth")||di,o=Ys(r.maxHeight,e,"clientHeight")||di,l=function(e,t,a){let n,r;if(void 0===t||void 0===a){const i=Gs(e);if(i){const e=i.getBoundingClientRect(),s=Ks(i),o=Qs(s,"border","width"),l=Qs(s,"padding");t=e.width-l.width-o.width,a=e.height-l.height-o.height,n=Ys(s.maxWidth,i,"clientWidth"),r=Ys(s.maxHeight,i,"clientHeight")}else t=e.clientWidth,a=e.clientHeight}return{width:t,height:a,maxWidth:n||di,maxHeight:r||di}}(e,t,a);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=Qs(r,"border","width"),t=Qs(r,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=eo(Math.min(c,s,l.maxWidth)),u=eo(Math.min(u,o,l.maxHeight)),c&&!u&&(u=eo(c/2)),(void 0!==t||void 0!==a)&&n&&l.height&&u>l.height&&(u=l.height,c=eo(Math.floor(u*n))),{width:c,height:u}}(e,t,a,n)}isAttached(e){const t=Gs(e);return!(!t||!t.isConnected)}}class yl{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}hasValue(){return vi(this.x)&&vi(this.y)}getProps(e,t){const a=this.$animations;if(!t||!a)return this;const n={};return e.forEach((e=>{n[e]=a[e]&&a[e].active()?a[e]._to:this[e]})),n}}function _l(e,t,a,n,r){const i=Wr(n,0),s=Math.min(Wr(r,e.length),e.length);let o,l,c,u=0;for(a=Math.ceil(a),r&&(o=r-n,a=o/Math.floor(o/a)),c=i;c<0;)u++,c=Math.round(i+u*a);for(l=Math.max(i,0);l<s;l++)l===c&&(t.push(e[l]),u++,c=Math.round(i+u*a))}const gl=(e,t,a)=>"top"===t||"left"===t?e[t]+a:e[t]-a,bl=(e,t)=>Math.min(t||e,e);function vl(e,t){const a=[],n=e.length/t,r=e.length;let i=0;for(;i<r;i+=n)a.push(e[Math.floor(i)]);return a}function El(e,t,a){const n=e.ticks.length,r=Math.min(t,n-1),i=e._startPixel,s=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(r);if(!(a&&(l=1===n?Math.max(c-i,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<i-o||c>s+o)))return c}function wl(e){return e.drawTicks?e.tickLength:0}function xl(e,t){if(!e.display)return 0;const a=Ns(e.font,t),n=xs(e.padding);return(Hr(e.text)?e.text.length:1)*a.lineHeight+n.height}function Nl(e,t,a){let n=Ri(e);return(a&&"right"!==t||!a&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class kl extends yl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:a,_suggestedMax:n}=this;return e=Ur(e,Number.POSITIVE_INFINITY),t=Ur(t,Number.NEGATIVE_INFINITY),a=Ur(a,Number.POSITIVE_INFINITY),n=Ur(n,Number.NEGATIVE_INFINITY),{min:Ur(e,a),max:Ur(t,n),minDefined:Vr(e),maxDefined:Vr(t)}}getMinMax(e){let t,{min:a,max:n,minDefined:r,maxDefined:i}=this.getUserBounds();if(r&&i)return{min:a,max:n};const s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),r||(a=Math.min(a,t.min)),i||(n=Math.max(n,t.max));return a=i&&a>n?n:a,n=r&&a>n?a:n,{min:Ur(a,Ur(n,a)),max:Ur(n,Ur(a,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gr(this.options.beforeUpdate,[this])}update(e,t,a){const{beginAtZero:n,grace:r,ticks:i}=this.options,s=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,a){const{min:n,max:r}=e,i=((e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e)(t,(r-n)/2),s=(e,t)=>a&&0===e?0:e+t;return{min:s(n,-Math.abs(i)),max:s(r,i)}}(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=s<this.ticks.length;this._convertTicksToLabels(o?vl(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(this.ticks=function(e,t){const a=e.options.ticks,n=function(e){const t=e.options.offset,a=e._tickSize(),n=e._length/a+(t?0:1),r=e._maxLength/a;return Math.floor(Math.min(n,r))}(e),r=Math.min(a.maxTicksLimit||n,n),i=a.major.enabled?function(e){const t=[];let a,n;for(a=0,n=e.length;a<n;a++)e[a].major&&t.push(a);return t}(t):[],s=i.length,o=i[0],l=i[s-1],c=[];if(s>r)return function(e,t,a,n){let r,i=0,s=a[0];for(n=Math.ceil(n),r=0;r<e.length;r++)r===s&&(t.push(e[r]),i++,s=a[i*n])}(t,c,i,s/r),c;const u=function(e,t,a){const n=function(e){const t=e.length;let a,n;if(t<2)return!1;for(n=e[0],a=1;a<t;++a)if(e[a]-e[a-1]!==n)return!1;return n}(e),r=t.length/a;if(!n)return Math.max(r,1);const i=function(e){const t=[],a=Math.sqrt(e);let n;for(n=1;n<a;n++)e%n==0&&(t.push(n),t.push(e/n));return a===(0|a)&&t.push(a),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let e=0,t=i.length-1;e<t;e++){const t=i[e];if(t>r)return t}return Math.max(r,1)}(i,t,r);if(s>0){let e,a;const n=s>1?Math.round((l-o)/(s-1)):null;for(_l(t,c,u,Br(n)?0:o-n,o),e=0,a=s-1;e<a;e++)_l(t,c,u,i[e],i[e+1]);return _l(t,c,u,l,Br(n)?t.length:l+n),c}return _l(t,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,a=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,a=!a),this._startPixel=e,this._endPixel=t,this._reversePixels=a,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gr(this.options.afterUpdate,[this])}beforeSetDimensions(){Gr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Gr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let a,n,r;for(a=0,n=e.length;a<n;a++)r=e[a],r.label=Gr(t.callback,[r.value,a,e],this)}afterTickToLabelConversion(){Gr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,a=bl(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,r=t.maxRotation;let i,s,o,l=n;if(!this._isVisible()||!t.display||n>=r||a<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,m=Ci(this.chart.width-u,0,this.maxWidth);i=e.offset?this.maxWidth/a:m/(a-1),u+6>i&&(i=m/(a-(e.offset?.5:1)),s=this.maxHeight-wl(e.grid)-t.padding-xl(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=Math.min(Math.asin(Ci((c.highest.height+6)/i,-1,1)),Math.asin(Ci(s/o,-1,1))-Math.asin(Ci(d/o,-1,1)))*(180/li),l=Math.max(n,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Gr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:a,title:n,grid:r}}=this,i=this._isVisible(),s=this.isHorizontal();if(i){const i=xl(n,t.options.font);if(s?(e.width=this.maxWidth,e.height=wl(r)+i):(e.height=this.maxHeight,e.width=wl(r)+i),a.display&&this.ticks.length){const{first:t,last:n,widest:r,highest:i}=this._getLabelSizes(),o=2*a.padding,l=Ei(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const t=a.mirror?0:u*r.width+c*i.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=a.mirror?0:c*r.width+u*i.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,a,n){const{ticks:{align:r,padding:i},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=n*e.width,d=a*t.height):(u=a*e.height,d=n*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+i)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+i)*this.width/(this.width-c),0)}else{let a=t.height/2,n=e.height/2;"start"===r?(a=0,n=e.height):"end"===r&&(a=t.height,n=0),this.paddingTop=a+i,this.paddingBottom=n+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,a;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,a=e.length;t<a;t++)Br(e[t].label)&&(e.splice(t,1),a--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let a=this.ticks;t<a.length&&(a=vl(a,t)),this._labelSizes=e=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,a){const{ctx:n,_longestTextCache:r}=this,i=[],s=[],o=Math.floor(t/bl(t,a));let l,c,u,d,m,p,f,h,y,_,g,b=0,v=0;for(l=0;l<t;l+=o){if(d=e[l].label,m=this._resolveTickFontOptions(l),n.font=p=m.string,f=r[p]=r[p]||{data:{},gc:[]},h=m.lineHeight,y=_=0,Br(d)||Hr(d)){if(Hr(d))for(c=0,u=d.length;c<u;++c)g=d[c],Br(g)||Hr(g)||(y=ns(n,f.data,f.gc,y,g),_+=h)}else y=ns(n,f.data,f.gc,y,d),_=h;i.push(y),s.push(_),b=Math.max(y,b),v=Math.max(_,v)}!function(e,t){Yr(e,(e=>{const a=e.gc,n=a.length/2;let r;if(n>t){for(r=0;r<n;++r)delete e.data[a[r]];a.splice(0,n)}}))}(r,t);const E=i.indexOf(b),w=s.indexOf(v),x=e=>({width:i[e]||0,height:s[e]||0});return{first:x(0),last:x(t-1),widest:x(E),highest:x(w),widths:i,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return Ci(e,-32768,32767)}(this._alignToPixels?rs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const a=t[e];return a.$context||(a.$context=function(e,t,a){return Ss(e,{tick:a,index:t,type:"tick"})}(this.getContext(),e,a))}return this.$context||(this.$context=Ss(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Ei(this.labelRotation),a=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),i=e.autoSkipPadding||0,s=r?r.widest.width+i:0,o=r?r.highest.height+i:0;return this.isHorizontal()?o*a>s*n?s/a:o/n:o*n<s*a?o/a:s/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,a=this.chart,n=this.options,{grid:r,position:i,border:s}=n,o=r.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),u=wl(r),d=[],m=s.setContext(this.getContext()),p=m.display?m.width:0,f=p/2,h=function(e){return rs(a,e,p)};let y,_,g,b,v,E,w,x,N,k,S,C;if("top"===i)y=h(this.bottom),E=this.bottom-u,x=y-f,k=h(e.top)+f,C=e.bottom;else if("bottom"===i)y=h(this.top),k=e.top,C=h(e.bottom)-f,E=y+f,x=this.top+u;else if("left"===i)y=h(this.right),v=this.right-u,w=y-f,N=h(e.left)+f,S=e.right;else if("right"===i)y=h(this.left),N=e.left,S=h(e.right)-f,v=y+f,w=this.left+u;else if("x"===t){if("center"===i)y=h((e.top+e.bottom)/2+.5);else if($r(i)){const e=Object.keys(i)[0],t=i[e];y=h(this.chart.scales[e].getPixelForValue(t))}k=e.top,C=e.bottom,E=y+f,x=E+u}else if("y"===t){if("center"===i)y=h((e.left+e.right)/2);else if($r(i)){const e=Object.keys(i)[0],t=i[e];y=h(this.chart.scales[e].getPixelForValue(t))}v=y-f,w=v-u,N=e.left,S=e.right}const O=Wr(n.ticks.maxTicksLimit,c),I=Math.max(1,Math.ceil(c/O));for(_=0;_<c;_+=I){const e=this.getContext(_),t=r.setContext(e),n=s.setContext(e),i=t.lineWidth,c=t.color,u=n.dash||[],m=n.dashOffset,p=t.tickWidth,f=t.tickColor,h=t.tickBorderDash||[],y=t.tickBorderDashOffset;g=El(this,_,o),void 0!==g&&(b=rs(a,g,i),l?v=w=N=S=b:E=x=k=C=b,d.push({tx1:v,ty1:E,tx2:w,ty2:x,x1:N,y1:k,x2:S,y2:C,width:i,color:c,borderDash:u,borderDashOffset:m,tickWidth:p,tickColor:f,tickBorderDash:h,tickBorderDashOffset:y}))}return this._ticksLength=c,this._borderValue=y,d}_computeLabelItems(e){const t=this.axis,a=this.options,{position:n,ticks:r}=a,i=this.isHorizontal(),s=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=r,d=wl(a.grid),m=d+c,p=u?-c:m,f=-Ei(this.labelRotation),h=[];let y,_,g,b,v,E,w,x,N,k,S,C,O="middle";if("top"===n)E=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===n)E=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,v=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,v=e.x}else if("x"===t){if("center"===n)E=(e.top+e.bottom)/2+m;else if($r(n)){const e=Object.keys(n)[0],t=n[e];E=this.chart.scales[e].getPixelForValue(t)+m}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)v=(e.left+e.right)/2-m;else if($r(n)){const e=Object.keys(n)[0],t=n[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?O="top":"end"===o&&(O="bottom"));const I=this._getLabelSizes();for(y=0,_=s.length;y<_;++y){g=s[y],b=g.label;const e=r.setContext(this.getContext(y));x=this.getPixelForTick(y)+r.labelOffset,N=this._resolveTickFontOptions(y),k=N.lineHeight,S=Hr(b)?b.length:1;const t=S/2,a=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,m=w;if(i?(v=x,"inner"===w&&(m=y===_-1?this.options.reverse?"left":"right":0===y?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==f?-S*k+k/2:"center"===l?-I.highest.height/2-t*k+k:-I.highest.height+k/2:"near"===l||0!==f?k/2:"center"===l?I.highest.height/2-t*k:I.highest.height-S*k,u&&(C*=-1),0===f||e.showLabelBackdrop||(v+=k/2*Math.sin(f))):(E=x,C=(1-S)*k/2),e.showLabelBackdrop){const t=xs(e.backdropPadding),a=I.heights[y],n=I.widths[y];let r=C-t.top,i=0-t.left;switch(O){case"middle":r-=a/2;break;case"bottom":r-=a}switch(w){case"center":i-=n/2;break;case"right":i-=n}d={left:i,top:r,width:n+t.width,height:a+t.height,color:e.backdropColor}}h.push({label:b,font:N,textOffset:C,options:{rotation:f,color:a,strokeColor:o,strokeWidth:c,textAlign:m,textBaseline:O,translation:[v,E],backdrop:d}})}return h}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ei(this.labelRotation))return"top"===e?"left":"right";let a="center";return"start"===t.align?a="left":"end"===t.align?a="right":"inner"===t.align&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:a,mirror:n,padding:r}}=this.options,i=e+r,s=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+r,"near"===a?o="left":"center"===a?(o="center",l+=s/2):(o="right",l+=s)):(l=this.right-i,"near"===a?o="right":"center"===a?(o="center",l-=s/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+r,"near"===a?o="right":"center"===a?(o="center",l-=s/2):(o="left",l-=s)):(l=this.left+i,"near"===a?o="left":"center"===a?(o="center",l+=s/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:a,top:n,width:r,height:i}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(a,n,r,i),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex((t=>t.value===e));return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,a=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,i;const s=(e,t,n)=>{n.width&&n.color&&(a.save(),a.lineWidth=n.width,a.strokeStyle=n.color,a.setLineDash(n.borderDash||[]),a.lineDashOffset=n.borderDashOffset,a.beginPath(),a.moveTo(e.x,e.y),a.lineTo(t.x,t.y),a.stroke(),a.restore())};if(t.display)for(r=0,i=n.length;r<i;++r){const e=n[r];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:a,grid:n}}=this,r=a.setContext(this.getContext()),i=a.display?r.width:0;if(!i)return;const s=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=rs(e,this.left,i)-i/2,c=rs(e,this.right,s)+s/2,u=d=o):(u=rs(e,this.top,i)-i/2,d=rs(e,this.bottom,s)+s/2,l=c=o),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,a=this._computeLabelArea();a&&cs(t,a);const n=this.getLabelItems(e);for(const e of n){const a=e.options,n=e.font;hs(t,e.label,0,e.textOffset,n,a)}a&&us(t)}drawTitle(){const{ctx:e,options:{position:t,title:a,reverse:n}}=this;if(!a.display)return;const r=Ns(a.font),i=xs(a.padding),s=a.align;let o=r.lineHeight/2;"bottom"===t||"center"===t||$r(t)?(o+=i.bottom,Hr(a.text)&&(o+=r.lineHeight*(a.text.length-1))):o+=i.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,a,n){const{top:r,left:i,bottom:s,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,m,p,f=0;const h=s-r,y=o-i;if(e.isHorizontal()){if(m=Li(n,i,o),$r(a)){const e=Object.keys(a)[0],n=a[e];p=u[e].getPixelForValue(n)+h-t}else p="center"===a?(c.bottom+c.top)/2+h-t:gl(e,a,t);d=o-i}else{if($r(a)){const e=Object.keys(a)[0],n=a[e];m=u[e].getPixelForValue(n)-y+t}else m="center"===a?(c.left+c.right)/2-y+t:gl(e,a,t);p=Li(n,s,r),f="left"===a?-pi:pi}return{titleX:m,titleY:p,maxWidth:d,rotation:f}}(this,o,t,s);hs(e,a.text,0,0,r,{color:a.color,maxWidth:u,rotation:d,textAlign:Nl(s,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,a=Wr(e.grid&&e.grid.z,-1),n=Wr(e.border&&e.border.z,0);return this._isVisible()&&this.draw===kl.prototype.draw?[{z:a,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];i[a]!==this.id||e&&i.type!==e||n.push(i)}return n}_resolveTickFontOptions(e){return Ns(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Sl{constructor(e,t,a){this.type=e,this.scope=t,this.override=a,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let a;(function(e){return"id"in e&&"defaults"in e})(t)&&(a=this.register(t));const n=this.items,r=e.id,i=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,function(e,t,a){const n=Jr(Object.create(null),[a?as.get(a):{},as.get(t),e.defaults]);as.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((a=>{const n=a.split("."),r=n.pop(),i=[e].concat(n).join("."),s=t[a].split("."),o=s.pop(),l=s.join(".");as.route(i,r,l,o)}))}(t,e.defaultRoutes),e.descriptors&&as.describe(t,e.descriptors)}(e,i,a),this.override&&as.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const t=this.items,a=e.id,n=this.scope;a in t&&delete t[a],n&&a in as[n]&&(delete as[n][a],this.override&&delete Qi[a])}}class Cl{constructor(){this.controllers=new Sl(Mo,"datasets",!0),this.elements=new Sl(yl,"elements"),this.plugins=new Sl(Object,"plugins"),this.scales=new Sl(kl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,a){[...t].forEach((t=>{const n=a||this._getRegistryForType(t);a||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Yr(t,(t=>{const n=a||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,a){const n=ri(e);Gr(a["before"+n],[],a),t[e](a),Gr(a["after"+n],[],a)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const a=this._typedRegistries[t];if(a.isForType(e))return a}return this.plugins}_get(e,t,a){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+a+".");return n}}var Ol=new Cl;class Il{constructor(){this._init=[]}notify(e,t,a,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=n?this._descriptors(e).filter(n):this._descriptors(e),i=this._notify(r,e,t,a);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,t,a,n){n=n||{};for(const r of e){const e=r.plugin;if(!1===Gr(e[a],[t,n,r.options],e)&&n.cancelable)return!1}return!0}invalidate(){Br(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const a=e&&e.config,n=Wr(a.options&&a.options.plugins,{}),r=function(e){const t={},a=[],n=Object.keys(Ol.plugins.items);for(let e=0;e<n.length;e++)a.push(Ol.getPlugin(n[e]));const r=e.plugins||[];for(let e=0;e<r.length;e++){const n=r[e];-1===a.indexOf(n)&&(a.push(n),t[n.id]=!0)}return{plugins:a,localIds:t}}(a);return!1!==n||t?function(e,{plugins:t,localIds:a},n,r){const i=[],s=e.getContext();for(const o of t){const t=o.id,l=Al(n[t],r);null!==l&&i.push({plugin:o,options:Tl(e.config,{plugin:o,local:a[t]},l,s)})}return i}(e,r,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],a=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,a),e,"stop"),this._notify(n(a,t),e,"start")}}function Al(e,t){return t||!1!==e?!0===e?{}:e:null}function Tl(e,{plugin:t,local:a},n,r){const i=e.pluginScopeKeys(t),s=e.getOptionScopes(n,i);return a&&t.defaults&&s.push(t.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pl(e,t){const a=as.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function Ml(e){if("x"===e||"y"===e||"r"===e)return e}function Dl(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Fl(e,...t){if(Ml(e))return e;for(const a of t){const t=a.axis||Dl(a.position)||e.length>1&&Ml(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Rl(e,t,a){if(a[t+"AxisID"]===e)return{axis:t}}function Ll(e){const t=e.options||(e.options={});t.plugins=Wr(t.plugins,{}),t.scales=function(e,t){const a=Qi[e.type]||{scales:{}},n=t.scales||{},r=Pl(e.type,t),i=Object.create(null);return Object.keys(n).forEach((t=>{const s=n[t];if(!$r(s))return console.error(`Invalid scale configuration for scale: ${t}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=Fl(t,s,function(e,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(a.length)return Rl(e,"x",a[0])||Rl(e,"y",a[0])}return{}}(t,e),as.scales[s.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,r),c=a.scales||{};i[t]=ei(Object.create(null),[{axis:o},s,c[o],c[l]])})),e.data.datasets.forEach((a=>{const r=a.type||e.type,s=a.indexAxis||Pl(r,t),o=(Qi[r]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let a=e;return"_index_"===e?a=t:"_value_"===e&&(a="x"===t?"y":"x"),a}(e,s),r=a[t+"AxisID"]||t;i[r]=i[r]||Object.create(null),ei(i[r],[{axis:t},n[r],o[e]])}))})),Object.keys(i).forEach((e=>{const t=i[e];ei(t,[as.scales[t.type],as.scale])})),i}(e,t)}function ql(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const jl=new Map,zl=new Set;function Bl(e,t){let a=jl.get(e);return a||(a=t(),jl.set(e,a),zl.add(a)),a}const Hl=(e,t,a)=>{const n=ni(t,a);void 0!==n&&e.add(n)};class $l{constructor(e){this._config=function(e){return(e=e||{}).data=ql(e.data),Ll(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ql(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ll(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bl(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Bl(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Bl(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Bl(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const a=this._scopeCache;let n=a.get(e);return n&&!t||(n=new Map,a.set(e,n)),n}getOptionScopes(e,t,a){const{options:n,type:r}=this,i=this._cachedScopes(e,a),s=i.get(t);if(s)return s;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>Hl(o,e,t)))),t.forEach((e=>Hl(o,n,e))),t.forEach((e=>Hl(o,Qi[r]||{},e))),t.forEach((e=>Hl(o,as,e))),t.forEach((e=>Hl(o,Xi,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),zl.has(t)&&i.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Qi[t]||{},as.datasets[t]||{},{type:t},as,Xi]}resolveNamedOptions(e,t,a,n=[""]){const r={$shared:!0},{resolver:i,subPrefixes:s}=Vl(this._resolverCache,e,n);let o=i;(function(e,t){const{isScriptable:a,isIndexable:n}=Is(e);for(const r of t){const t=a(r),i=n(r),s=(i||t)&&e[r];if(t&&(si(s)||Ul(s))||i&&Hr(s))return!0}return!1})(i,t)&&(r.$shared=!1,o=Os(i,a=si(a)?a():a,this.createResolver(e,a,s)));for(const e of t)r[e]=o[e];return r}createResolver(e,t,a=[""],n){const{resolver:r}=Vl(this._resolverCache,e,a);return $r(t)?Os(r,t,void 0,n):r}}function Vl(e,t,a){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=a.join();let i=n.get(r);return i||(i={resolver:Cs(t,a),subPrefixes:a.filter((e=>!e.toLowerCase().includes("hover")))},n.set(r,i)),i}const Ul=e=>$r(e)&&Object.getOwnPropertyNames(e).reduce(((t,a)=>t||si(e[a])),!1),Wl=["top","bottom","left","right","chartArea"];function Gl(e,t){return"top"===e||"bottom"===e||-1===Wl.indexOf(e)&&"x"===t}function Yl(e,t){return function(a,n){return a[e]===n[e]?a[t]-n[t]:a[e]-n[e]}}function Kl(e){const t=e.chart,a=t.options.animation;t.notifyPlugins("afterRender"),Gr(a&&a.onComplete,[e],t)}function Zl(e){const t=e.chart,a=t.options.animation;Gr(a&&a.onProgress,[e],t)}function Ql(e){return Ws()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Xl={},Jl=e=>{const t=Ql(e);return Object.values(Xl).filter((e=>e.canvas===t)).pop()};function ec(e,t,a){const n=Object.keys(e);for(const r of n){const n=+r;if(n>=t){const i=e[r];delete e[r],(a>0||n>t)&&(e[n+a]=i)}}}function tc(e,t,a){return e.options.clip?e[a]:t[a]}class ac{static defaults=as;static instances=Xl;static overrides=Qi;static registry=Ol;static version="4.4.0";static getChart=Jl;static register(...e){Ol.add(...e),nc()}static unregister(...e){Ol.remove(...e),nc()}constructor(e,t){const a=this.config=new $l(t),n=Ql(e),r=Jl(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const i=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||function(e){return!Ws()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?el:hl}(n)),this.platform.updateConfig(a);const s=this.platform.acquireContext(n,i.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;this.id=zr(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Il,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let a;return function(...n){return t?(clearTimeout(a),a=setTimeout(e,t,n)):e.apply(this,n),t}}((e=>this.update(e)),i.resizeDelay||0),this._dataChanges=[],Xl[this.id]=this,s&&o?(_o.listen(this,"complete",Kl),_o.listen(this,"progress",Zl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:a,height:n,_aspectRatio:r}=this;return Br(e)?t&&r?r:n?a/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ol}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():to(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return is(this.canvas,this.ctx),this}stop(){return _o.stop(this),this}resize(e,t){_o.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const a=this.options,n=this.canvas,r=a.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(n,e,t,r),s=a.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,to(this,s,!0)&&(this.notifyPlugins("resize",{size:i}),Gr(a.onResize,[this,i],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Yr(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,a=this.scales,n=Object.keys(a).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const a=t[e],n=Fl(e,a),r="r"===n,i="x"===n;return{options:a,dposition:r?"chartArea":i?"bottom":"left",dtype:r?"radialLinear":i?"category":"linear"}})))),Yr(r,(t=>{const r=t.options,i=r.id,s=Fl(i,r),o=Wr(r.type,t.dtype);void 0!==r.position&&Gl(r.position,s)===Gl(t.dposition)||(r.position=t.dposition),n[i]=!0;let l=null;i in a&&a[i].type===o?l=a[i]:(l=new(Ol.getScale(o))({id:i,type:o,ctx:this.ctx,chart:this}),a[l.id]=l),l.init(r,e)})),Yr(n,((e,t)=>{e||delete a[t]})),Yr(a,(e=>{Xo.configure(this,e,e.options),Xo.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,a=e.length;if(e.sort(((e,t)=>e.index-t.index)),a>t){for(let e=t;e<a;++e)this._destroyDatasetMeta(e);e.splice(t,a-t)}this._sortedMetasets=e.slice(0).sort(Yl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,a)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(a)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let a,n;for(this._removeUnreferencedMetasets(),a=0,n=t.length;a<n;a++){const n=t[a];let r=this.getDatasetMeta(a);const i=n.type||this.config.type;if(r.type&&r.type!==i&&(this._destroyDatasetMeta(a),r=this.getDatasetMeta(a)),r.type=i,r.indexAxis=n.indexAxis||Pl(i,this.options),r.order=n.order||0,r.index=a,r.label=""+n.label,r.visible=this.isDatasetVisible(a),r.controller)r.controller.updateIndex(a),r.controller.linkScales();else{const t=Ol.getController(i),{datasetElementType:n,dataElementType:s}=as.datasets[i];Object.assign(t,{dataElementType:Ol.getElement(s),datasetElementType:n&&Ol.getElement(n)}),r.controller=new t(this,a),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Yr(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const a=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),a=!n&&-1===r.indexOf(t);t.buildOrUpdateElements(a),i=Math.max(+t.getMaxOverflow(),i)}i=this._minPadding=a.layout.autoPadding?i:0,this._updateLayout(i),n||Yr(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Yl("z","_idx"));const{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Yr(this.scales,(e=>{Xo.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),a=new Set(e.events);oi(t,a)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:a,start:n,count:r}of t)ec(e,n,"_removeElements"===a?-r:r)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,a=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=a(0);for(let e=1;e<t;e++)if(!oi(n,a(e)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Xo.update(this,this.width,this.height,e);const t=this.chartArea,a=t.width<=0||t.height<=0;this._layers=[],Yr(this.boxes,(e=>{a&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,a=this.data.datasets.length;t<a;++t)this._updateDataset(t,si(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const a=this.getDatasetMeta(e),n={meta:a,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(a.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(_o.has(this)?this.attached&&!_o.running(this)&&_o.start(this):(this.draw(),Kl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,a=[];let n,r;for(n=0,r=t.length;n<r;++n){const r=t[n];e&&!r.visible||a.push(r)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,a=e._clip,n=!a.disabled,r=function(e,t){const{xScale:a,yScale:n}=e;return a&&n?{left:tc(a,t,"left"),right:tc(a,t,"right"),top:tc(n,t,"top"),bottom:tc(n,t,"bottom")}:t}(e,this.chartArea),i={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(n&&cs(t,{left:!1===a.left?0:r.left-a.left,right:!1===a.right?this.width:r.right+a.right,top:!1===a.top?0:r.top-a.top,bottom:!1===a.bottom?this.height:r.bottom+a.bottom}),e.controller.draw(),n&&us(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return ls(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,a,n){const r=zo.modes[t];return"function"==typeof r?r(this,e,a,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],a=this._metasets;let n=a.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},a.push(n)),n}getContext(){return this.$context||(this.$context=Ss(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const a=this.getDatasetMeta(e);return"boolean"==typeof a.hidden?!a.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,a){const n=a?"show":"hide",r=this.getDatasetMeta(e),i=r.controller._resolveAnimations(void 0,n);ii(t)?(r.data[t].hidden=!a,this.update()):(this.setDatasetVisibility(e,a),i.update(r,{visible:a}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),_o.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),is(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Xl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,a=(a,n)=>{t.addEventListener(this,a,n),e[a]=n},n=(e,t,a)=>{e.offsetX=t,e.offsetY=a,this._eventHandler(e)};Yr(this.options.events,(e=>a(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,a=(a,n)=>{t.addEventListener(this,a,n),e[a]=n},n=(a,n)=>{e[a]&&(t.removeEventListener(this,a,n),delete e[a])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let i;const s=()=>{n("attach",s),this.attached=!0,this.resize(),a("resize",r),a("detach",i)};i=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),a("attach",s)},t.isAttached(this.canvas)?s():i()}unbindEvents(){Yr(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Yr(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,a){const n=a?"set":"remove";let r,i,s,o;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),s=0,o=e.length;s<o;++s){i=e[s];const t=i&&this.getDatasetMeta(i.datasetIndex).controller;t&&t[n+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],a=e.map((({datasetIndex:e,index:t})=>{const a=this.getDatasetMeta(e);if(!a)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:a.data[t],index:t}}));!Kr(a,t)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,t))}notifyPlugins(e,t,a){return this._plugins.notify(this,e,t,a)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,a){const n=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=r(t,e),s=a?e:r(e,t);i.length&&this.updateHoverStyle(i,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(e,t){const a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",a,n))return;const r=this._handleEvent(e,t,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,n),(r||a.changed)&&this.render(),this}_handleEvent(e,t,a){const{_active:n=[],options:r}=this,i=t,s=this._getActiveElements(e,n,a,i),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,a,n){return a&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,a,o);a&&(this._lastEvent=null,Gr(r.onHover,[e,s,this],this),o&&Gr(r.onClick,[e,s,this],this));const c=!Kr(s,n);return(c||t)&&(this._active=s,this._updateHoverStyles(s,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,a,n){if("mouseout"===e.type)return[];if(!a)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function nc(){return Yr(ac.instances,(e=>e._plugins.invalidate()))}function rc(e,t,a=t){e.lineCap=Wr(a.borderCapStyle,t.borderCapStyle),e.setLineDash(Wr(a.borderDash,t.borderDash)),e.lineDashOffset=Wr(a.borderDashOffset,t.borderDashOffset),e.lineJoin=Wr(a.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Wr(a.borderWidth,t.borderWidth),e.strokeStyle=Wr(a.borderColor,t.borderColor)}function ic(e,t,a){e.lineTo(a.x,a.y)}function sc(e,t,a={}){const n=e.length,{start:r=0,end:i=n-1}=a,{start:s,end:o}=t,l=Math.max(r,s),c=Math.min(i,o),u=r<s&&i<s||r>o&&i>o;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function oc(e,t,a,n){const{points:r,options:i}=t,{count:s,start:o,loop:l,ilen:c}=sc(r,a,n),u=function(e){return e.stepped?ds:e.tension||"monotone"===e.cubicInterpolationMode?ms:ic}(i);let d,m,p,{move:f=!0,reverse:h}=n||{};for(d=0;d<=c;++d)m=r[(o+(h?c-d:d))%s],m.skip||(f?(e.moveTo(m.x,m.y),f=!1):u(e,p,m,h,i.stepped),p=m);return l&&(m=r[(o+(h?c:0))%s],u(e,p,m,h,i.stepped)),!!l}function lc(e,t,a,n){const r=t.points,{count:i,start:s,ilen:o}=sc(r,a,n),{move:l=!0,reverse:c}=n||{};let u,d,m,p,f,h,y=0,_=0;const g=e=>(s+(c?o-e:e))%i,b=()=>{p!==f&&(e.lineTo(y,f),e.lineTo(y,p),e.lineTo(y,h))};for(l&&(d=r[g(0)],e.moveTo(d.x,d.y)),u=0;u<=o;++u){if(d=r[g(u)],d.skip)continue;const t=d.x,a=d.y,n=0|t;n===m?(a<p?p=a:a>f&&(f=a),y=(_*y+t)/++_):(b(),e.lineTo(t,a),m=n,_=0,p=f=a),h=a}b()}function cc(e){const t=e.options,a=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||a?oc:lc}const uc="function"==typeof Path2D;function dc(e,t,a,n){const r=e.options,{[a]:i}=e.getProps([a],n);return Math.abs(t-i)<r.radius+r.hitRadius}const mc=(e,t)=>{let{boxHeight:a=t,boxWidth:n=t}=e;return e.usePointStyle&&(a=Math.min(a,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:a,itemHeight:Math.max(t,a)}};class pc extends yl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,a){this.maxWidth=e,this.maxHeight=t,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Gr(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,a)=>e.sort(t,a,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const a=e.labels,n=Ns(a.font),r=n.size,i=this._computeTitleHeight(),{boxWidth:s,itemHeight:o}=mc(a,r);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(i,r,s,o)+10):(c=this.maxHeight,l=this._fitCols(i,n,s,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,a,n){const{ctx:r,maxWidth:i,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+s;let u=e;r.textAlign="left",r.textBaseline="middle";let d=-1,m=-c;return this.legendItems.forEach(((e,p)=>{const f=a+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+f+2*s>i)&&(u+=c,l[l.length-(p>0?0:1)]=0,m+=c,d++),o[p]={left:0,top:m,row:d,width:f,height:n},l[l.length-1]+=f+s})),u}_fitCols(e,t,a,n){const{ctx:r,maxHeight:i,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=i-e;let u=s,d=0,m=0,p=0,f=0;return this.legendItems.forEach(((e,i)=>{const{itemWidth:h,itemHeight:y}=function(e,t,a,n,r){const i=function(e,t,a,n){let r=e.text;return r&&"string"!=typeof r&&(r=r.reduce(((e,t)=>e.length>t.length?e:t))),t+a.size/2+n.measureText(r).width}(n,e,t,a),s=function(e,t,a){let n=e;return"string"!=typeof t.text&&(n=fc(t,a)),n}(r,n,t.lineHeight);return{itemWidth:i,itemHeight:s}}(a,t,r,e,n);i>0&&m+y+2*s>c&&(u+=d+s,l.push({width:d,height:m}),p+=d+s,f++,d=m=0),o[i]={left:p,top:m,col:f,width:h,height:y},d=Math.max(d,h),m+=y+s})),u+=d,l.push({width:d,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:a,labels:{padding:n},rtl:r}}=this,i=oo(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=Li(a,this.left+n,this.right-this.lineWidths[r]);for(const o of t)r!==o.row&&(r=o.row,s=Li(a,this.left+n,this.right-this.lineWidths[r])),o.top+=this.top+e+n,o.left=i.leftForLtr(i.x(s),o.width),s+=o.width+n}else{let r=0,s=Li(a,this.top+e+n,this.bottom-this.columnSizes[r].height);for(const o of t)o.col!==r&&(r=o.col,s=Li(a,this.top+e+n,this.bottom-this.columnSizes[r].height)),o.top=s,o.left+=this.left+n,o.left=i.leftForLtr(i.x(o.left),o.width),s+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;cs(e,this),this._draw(),us(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:a,ctx:n}=this,{align:r,labels:i}=e,s=as.color,o=oo(e.rtl,this.left,this.width),l=Ns(i.font),{padding:c}=i,u=l.size,d=u/2;let m;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:h}=mc(i,u),y=this.isHorizontal(),_=this._computeTitleHeight();m=y?{x:Li(r,this.left+c,this.right-a[0]),y:this.top+c+_,line:0}:{x:this.left+c,y:Li(r,this.top+_+c,this.bottom-t[0].height),line:0},lo(this.ctx,e.textDirection);const g=h+c;this.legendItems.forEach(((b,v)=>{n.strokeStyle=b.fontColor,n.fillStyle=b.fontColor;const E=n.measureText(b.text).width,w=o.textAlign(b.textAlign||(b.textAlign=i.textAlign)),x=p+d+E;let N=m.x,k=m.y;if(o.setWidth(this.width),y?v>0&&N+x+c>this.right&&(k=m.y+=g,m.line++,N=m.x=Li(r,this.left+c,this.right-a[m.line])):v>0&&k+g>this.bottom&&(N=m.x=N+t[m.line].width+c,m.line++,k=m.y=Li(r,this.top+_+c,this.bottom-t[m.line].height)),function(e,t,a){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;n.save();const r=Wr(a.lineWidth,1);if(n.fillStyle=Wr(a.fillStyle,s),n.lineCap=Wr(a.lineCap,"butt"),n.lineDashOffset=Wr(a.lineDashOffset,0),n.lineJoin=Wr(a.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=Wr(a.strokeStyle,s),n.setLineDash(Wr(a.lineDash,[])),i.usePointStyle){const s={radius:f*Math.SQRT2/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:r},l=o.xPlus(e,p/2);os(n,s,l,t+d,i.pointStyleWidth&&p)}else{const i=t+Math.max((u-f)/2,0),s=o.leftForLtr(e,p),l=ws(a.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?ys(n,{x:s,y:i,w:p,h:f,radius:l}):n.rect(s,i,p,f),n.fill(),0!==r&&n.stroke()}n.restore()}(o.x(N),k,b),N=((e,t,a,n)=>e===(n?"left":"right")?a:"center"===e?(t+a)/2:t)(w,N+p+d,y?N+x:this.right,e.rtl),function(e,t,a){hs(n,a.text,e,t+h/2,l,{strikethrough:a.hidden,textAlign:o.textAlign(a.textAlign)})}(o.x(N),k,b),y)m.x+=x+c;else if("string"!=typeof b.text){const e=l.lineHeight;m.y+=fc(b,e)+c}else m.y+=g})),co(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,a=Ns(t.font),n=xs(t.padding);if(!t.display)return;const r=oo(e.rtl,this.left,this.width),i=this.ctx,s=t.position,o=a.size/2,l=n.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=Li(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Li(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const m=Li(s,u,u+d);i.textAlign=r.textAlign(Ri(s)),i.textBaseline="middle",i.strokeStyle=t.color,i.fillStyle=t.color,i.font=a.string,hs(i,t.text,m,c,a)}_computeTitleHeight(){const e=this.options.title,t=Ns(e.font),a=xs(e.padding);return e.display?t.lineHeight+a.height:0}_getLegendItemAt(e,t){let a,n,r;if(Oi(e,this.left,this.right)&&Oi(t,this.top,this.bottom))for(r=this.legendHitBoxes,a=0;a<r.length;++a)if(n=r[a],Oi(e,n.left,n.left+n.width)&&Oi(t,n.top,n.top+n.height))return this.legendItems[a];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const a=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,r=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(n,a);n&&!r&&Gr(t.onLeave,[e,n,this],this),this._hoveredItem=a,a&&!r&&Gr(t.onHover,[e,a,this],this)}else a&&Gr(t.onClick,[e,a,this],this)}}function fc(e,t){return t*(e.text?e.text.length:0)}var hc={id:"legend",_element:pc,start(e,t,a){const n=e.legend=new pc({ctx:e.ctx,options:a,chart:e});Xo.configure(e,n,a),Xo.addBox(e,n)},stop(e){Xo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,a){const n=e.legend;Xo.configure(e,n,a),n.options=a},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,a){const n=t.datasetIndex,r=a.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:a,pointStyle:n,textAlign:r,color:i,useBorderRadius:s,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(a?0:void 0),c=xs(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class yc extends yl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const a=this.options;if(this.left=0,this.top=0,!a.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=Hr(a.text)?a.text.length:1;this._padding=xs(a.padding);const r=n*Ns(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:a,bottom:n,right:r,options:i}=this,s=i.align;let o,l,c,u=0;return this.isHorizontal()?(l=Li(s,a,r),c=t+e,o=r-a):("left"===i.position?(l=a+e,c=Li(s,n,t),u=-.5*li):(l=r-e,c=Li(s,t,n),u=.5*li),o=n-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const a=Ns(t.font),n=a.lineHeight/2+this._padding.top,{titleX:r,titleY:i,maxWidth:s,rotation:o}=this._drawArgs(n);hs(e,t.text,0,0,a,{color:t.color,maxWidth:s,rotation:o,textAlign:Ri(t.align),textBaseline:"middle",translation:[r,i]})}}var _c={id:"title",_element:yc,start(e,t,a){!function(e,t){const a=new yc({ctx:e.ctx,options:t,chart:e});Xo.configure(e,a,t),Xo.addBox(e,a),e.titleBlock=a}(e,a)},stop(e){const t=e.titleBlock;Xo.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,a){const n=e.titleBlock;Xo.configure(e,n,a),n.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const gc={average(e){if(!e.length)return!1;let t,a,n=0,r=0,i=0;for(t=0,a=e.length;t<a;++t){const a=e[t].element;if(a&&a.hasValue()){const e=a.tooltipPosition();n+=e.x,r+=e.y,++i}}return{x:n/i,y:r/i}},nearest(e,t){if(!e.length)return!1;let a,n,r,i=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(a=0,n=e.length;a<n;++a){const n=e[a].element;if(n&&n.hasValue()){const e=xi(t,n.getCenterPoint());e<o&&(o=e,r=n)}}if(r){const e=r.tooltipPosition();i=e.x,s=e.y}return{x:i,y:s}}};function bc(e,t){return t&&(Hr(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function vc(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Ec(e,t){const{element:a,datasetIndex:n,index:r}=t,i=e.getDatasetMeta(n).controller,{label:s,value:o}=i.getLabelAndValue(r);return{chart:e,label:s,parsed:i.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:o,dataset:i.getDataset(),dataIndex:r,datasetIndex:n,element:a}}function wc(e,t){const a=e.chart.ctx,{body:n,footer:r,title:i}=e,{boxWidth:s,boxHeight:o}=t,l=Ns(t.bodyFont),c=Ns(t.titleFont),u=Ns(t.footerFont),d=i.length,m=r.length,p=n.length,f=xs(t.padding);let h=f.height,y=0,_=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);_+=e.beforeBody.length+e.afterBody.length,d&&(h+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),_&&(h+=p*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(_-p)*l.lineHeight+(_-1)*t.bodySpacing),m&&(h+=t.footerMarginTop+m*u.lineHeight+(m-1)*t.footerSpacing);let g=0;const b=function(e){y=Math.max(y,a.measureText(e).width+g)};return a.save(),a.font=c.string,Yr(e.title,b),a.font=l.string,Yr(e.beforeBody.concat(e.afterBody),b),g=t.displayColors?s+2+t.boxPadding:0,Yr(n,(e=>{Yr(e.before,b),Yr(e.lines,b),Yr(e.after,b)})),g=0,a.font=u.string,Yr(e.footer,b),a.restore(),y+=f.width,{width:y,height:h}}function xc(e,t,a,n){const{x:r,width:i}=a,{width:s,chartArea:{left:o,right:l}}=e;let c="center";return"center"===n?c=r<=(o+l)/2?"left":"right":r<=i/2?c="left":r>=s-i/2&&(c="right"),function(e,t,a,n){const{x:r,width:i}=n,s=a.caretSize+a.caretPadding;return"left"===e&&r+i+s>t.width||"right"===e&&r-i-s<0||void 0}(c,e,t,a)&&(c="center"),c}function Nc(e,t,a){const n=a.yAlign||t.yAlign||function(e,t){const{y:a,height:n}=t;return a<n/2?"top":a>e.height-n/2?"bottom":"center"}(e,a);return{xAlign:a.xAlign||t.xAlign||xc(e,t,a,n),yAlign:n}}function kc(e,t,a,n){const{caretSize:r,caretPadding:i,cornerRadius:s}=e,{xAlign:o,yAlign:l}=a,c=r+i,{topLeft:u,topRight:d,bottomLeft:m,bottomRight:p}=ws(s);let f=function(e,t){let{x:a,width:n}=e;return"right"===t?a-=n:"center"===t&&(a-=n/2),a}(t,o);const h=function(e,t,a){let{y:n,height:r}=e;return"top"===t?n+=a:n-="bottom"===t?r+a:r/2,n}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,m)+r:"right"===o&&(f+=Math.max(d,p)+r),{x:Ci(f,0,n.width-t.width),y:Ci(h,0,n.height-t.height)}}function Sc(e,t,a){const n=xs(a.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function Cc(e){return bc([],vc(e))}function Oc(e,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?e.override(a):e}const Ic={beforeTitle:jr,title(e){if(e.length>0){const t=e[0],a=t.chart.data.labels,n=a?a.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return a[t.dataIndex]}return""},afterTitle:jr,beforeBody:jr,beforeLabel:jr,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const a=e.formattedValue;return Br(a)||(t+=a),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:jr,afterBody:jr,beforeFooter:jr,footer:jr,afterFooter:jr};function Ac(e,t,a,n){const r=e[t].call(a,n);return void 0===r?Ic[t].call(a,n):r}class Tc extends yl{static positioners=gc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,a=this.options.setContext(this.getContext()),n=a.enabled&&t.options.animation&&a.animations,r=new Eo(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(this,Ss(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(e,t){const{callbacks:a}=t,n=Ac(a,"beforeTitle",this,e),r=Ac(a,"title",this,e),i=Ac(a,"afterTitle",this,e);let s=[];return s=bc(s,vc(n)),s=bc(s,vc(r)),s=bc(s,vc(i)),s}getBeforeBody(e,t){return Cc(Ac(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:a}=t,n=[];return Yr(e,(e=>{const t={before:[],lines:[],after:[]},r=Oc(a,e);bc(t.before,vc(Ac(r,"beforeLabel",this,e))),bc(t.lines,Ac(r,"label",this,e)),bc(t.after,vc(Ac(r,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return Cc(Ac(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:a}=t,n=Ac(a,"beforeFooter",this,e),r=Ac(a,"footer",this,e),i=Ac(a,"afterFooter",this,e);let s=[];return s=bc(s,vc(n)),s=bc(s,vc(r)),s=bc(s,vc(i)),s}_createItems(e){const t=this._active,a=this.chart.data,n=[],r=[],i=[];let s,o,l=[];for(s=0,o=t.length;s<o;++s)l.push(Ec(this.chart,t[s]));return e.filter&&(l=l.filter(((t,n,r)=>e.filter(t,n,r,a)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,a)))),Yr(l,(t=>{const a=Oc(e.callbacks,t);n.push(Ac(a,"labelColor",this,t)),r.push(Ac(a,"labelPointStyle",this,t)),i.push(Ac(a,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=i,this.dataPoints=l,l}update(e,t){const a=this.options.setContext(this.getContext()),n=this._active;let r,i=[];if(n.length){const e=gc[a.position].call(this,n,this._eventPosition);i=this._createItems(a),this.title=this.getTitle(i,a),this.beforeBody=this.getBeforeBody(i,a),this.body=this.getBody(i,a),this.afterBody=this.getAfterBody(i,a),this.footer=this.getFooter(i,a);const t=this._size=wc(this,a),s=Object.assign({},e,t),o=Nc(this.chart,a,s),l=kc(a,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=i,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,a,n){const r=this.getCaretPosition(e,a,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,a){const{xAlign:n,yAlign:r}=this,{caretSize:i,cornerRadius:s}=a,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=ws(s),{x:d,y:m}=e,{width:p,height:f}=t;let h,y,_,g,b,v;return"center"===r?(b=m+f/2,"left"===n?(h=d,y=h-i,g=b+i,v=b-i):(h=d+p,y=h+i,g=b-i,v=b+i),_=h):(y="left"===n?d+Math.max(o,c)+i:"right"===n?d+p-Math.max(l,u)-i:this.caretX,"top"===r?(g=m,b=g-i,h=y-i,_=y+i):(g=m+f,b=g+i,h=y+i,_=y-i),v=g),{x1:h,x2:y,x3:_,y1:g,y2:b,y3:v}}drawTitle(e,t,a){const n=this.title,r=n.length;let i,s,o;if(r){const l=oo(a.rtl,this.x,this.width);for(e.x=Sc(this,a.titleAlign,a),t.textAlign=l.textAlign(a.titleAlign),t.textBaseline="middle",i=Ns(a.titleFont),s=a.titleSpacing,t.fillStyle=a.titleColor,t.font=i.string,o=0;o<r;++o)t.fillText(n[o],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+s,o+1===r&&(e.y+=a.titleMarginBottom-s)}}_drawColorBox(e,t,a,n,r){const i=this.labelColors[a],s=this.labelPointStyles[a],{boxHeight:o,boxWidth:l}=r,c=Ns(r.bodyFont),u=Sc(this,"left",r),d=n.x(u),m=o<c.lineHeight?(c.lineHeight-o)/2:0,p=t.y+m;if(r.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},a=n.leftForLtr(d,l)+l/2,c=p+o/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,ss(e,t,a,c),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,ss(e,t,a,c)}else{e.lineWidth=$r(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const t=n.leftForLtr(d,l),a=n.leftForLtr(n.xPlus(d,1),l-2),s=ws(i.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ys(e,{x:t,y:p,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),ys(e,{x:a,y:p+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,p,l,o),e.strokeRect(t,p,l,o),e.fillStyle=i.backgroundColor,e.fillRect(a,p+1,l-2,o-2))}e.fillStyle=this.labelTextColors[a]}drawBody(e,t,a){const{body:n}=this,{bodySpacing:r,bodyAlign:i,displayColors:s,boxHeight:o,boxWidth:l,boxPadding:c}=a,u=Ns(a.bodyFont);let d=u.lineHeight,m=0;const p=oo(a.rtl,this.x,this.width),f=function(a){t.fillText(a,p.x(e.x+m),e.y+d/2),e.y+=d+r},h=p.textAlign(i);let y,_,g,b,v,E,w;for(t.textAlign=i,t.textBaseline="middle",t.font=u.string,e.x=Sc(this,h,a),t.fillStyle=a.bodyColor,Yr(this.beforeBody,f),m=s&&"right"!==h?"center"===i?l/2+c:l+2+c:0,b=0,E=n.length;b<E;++b){for(y=n[b],_=this.labelTextColors[b],t.fillStyle=_,Yr(y.before,f),g=y.lines,s&&g.length&&(this._drawColorBox(t,e,b,p,a),d=Math.max(u.lineHeight,o)),v=0,w=g.length;v<w;++v)f(g[v]),d=u.lineHeight;Yr(y.after,f)}m=0,d=u.lineHeight,Yr(this.afterBody,f),e.y-=r}drawFooter(e,t,a){const n=this.footer,r=n.length;let i,s;if(r){const o=oo(a.rtl,this.x,this.width);for(e.x=Sc(this,a.footerAlign,a),e.y+=a.footerMarginTop,t.textAlign=o.textAlign(a.footerAlign),t.textBaseline="middle",i=Ns(a.footerFont),t.fillStyle=a.footerColor,t.font=i.string,s=0;s<r;++s)t.fillText(n[s],o.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+a.footerSpacing}}drawBackground(e,t,a,n){const{xAlign:r,yAlign:i}=this,{x:s,y:o}=e,{width:l,height:c}=a,{topLeft:u,topRight:d,bottomLeft:m,bottomRight:p}=ws(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===i&&this.drawCaret(e,t,a,n),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===i&&"right"===r&&this.drawCaret(e,t,a,n),t.lineTo(s+l,o+c-p),t.quadraticCurveTo(s+l,o+c,s+l-p,o+c),"bottom"===i&&this.drawCaret(e,t,a,n),t.lineTo(s+m,o+c),t.quadraticCurveTo(s,o+c,s,o+c-m),"center"===i&&"left"===r&&this.drawCaret(e,t,a,n),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,a=this.$animations,n=a&&a.x,r=a&&a.y;if(n||r){const a=gc[e.position].call(this,this._active,this._eventPosition);if(!a)return;const i=this._size=wc(this,e),s=Object.assign({},a,this._size),o=Nc(t,e,s),l=kc(e,s,o,t);n._to===l.x&&r._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=i.width,this.height=i.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const i=xs(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=a,this.drawBackground(r,e,n,t),lo(e,t.textDirection),r.y+=i.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),co(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const a=this._active,n=e.map((({datasetIndex:e,index:t})=>{const a=this.chart.getDatasetMeta(e);if(!a)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:a.data[t],index:t}})),r=!Kr(a,n),i=this._positionChanged(n,t);(r||i)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,a=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],i=this._getActiveElements(e,r,t,a),s=this._positionChanged(i,e),o=t||!Kr(i,r)||s;return o&&(this._active=i,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,a,n){const r=this.options;if("mouseout"===e.type)return[];if(!n)return t;const i=this.chart.getElementsAtEventForMode(e,r.mode,r,a);return r.reverse&&i.reverse(),i}_positionChanged(e,t){const{caretX:a,caretY:n,options:r}=this,i=gc[r.position].call(this,e,t);return!1!==i&&(a!==i.x||n!==i.y)}}var Pc={id:"tooltip",_element:Tc,positioners:gc,afterInit(e,t,a){a&&(e.tooltip=new Tc({chart:e,options:a}))},beforeUpdate(e,t,a){e.tooltip&&e.tooltip.initialize(a)},reset(e,t,a){e.tooltip&&e.tooltip.initialize(a)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",a)}},afterEvent(e,t){if(e.tooltip){const a=t.replay;e.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ic},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Mc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function Dc(e,t,{horizontal:a,minRotation:n}){const r=Ei(n),i=(a?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+e).length;return Math.min(t/i,s)}class Fc extends kl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Br(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:n,max:r}=this;const i=e=>n=t?n:e,s=e=>r=a?r:e;if(e){const e=_i(n),t=_i(r);e<0&&t<0?s(0):e>0&&t>0&&i(0)}if(n===r){let t=0===r?1:Math.abs(.05*r);s(r+t),e||i(n-t)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:a,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),a=a||11),a&&(t=Math.min(a,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let a=this.getTickLimit();a=Math.max(2,a);const n=function(e,t){const a=[],{bounds:n,step:r,min:i,max:s,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,m=r||1,p=c-1,{min:f,max:h}=t,y=!Br(i),_=!Br(s),g=!Br(l),b=(h-f)/(u+1);let v,E,w,x,N=bi((h-f)/p/m)*m;if(N<1e-14&&!y&&!_)return[{value:f},{value:h}];x=Math.ceil(h/N)-Math.floor(f/N),x>p&&(N=bi(x*N/p/m)*m),Br(o)||(v=Math.pow(10,o),N=Math.ceil(N*v)/v),"ticks"===n?(E=Math.floor(f/N)*N,w=Math.ceil(h/N)*N):(E=f,w=h),y&&_&&r&&function(e,t){const a=Math.round(e);return a-t<=e&&a+t>=e}((s-i)/r,N/1e3)?(x=Math.round(Math.min((s-i)/N,c)),N=(s-i)/x,E=i,w=s):g?(E=y?i:E,w=_?s:w,x=l-1,N=(w-E)/x):(x=(w-E)/N,x=gi(x,Math.round(x),N/1e3)?Math.round(x):Math.ceil(x));const k=Math.max(wi(N),wi(E));v=Math.pow(10,Br(o)?k:o),E=Math.round(E*v)/v,w=Math.round(w*v)/v;let S=0;for(y&&(d&&E!==i?(a.push({value:i}),E<i&&S++,gi(Math.round((E+S*N)*v)/v,i,Dc(i,b,e))&&S++):E<i&&S++);S<x;++S){const e=Math.round((E+S*N)*v)/v;if(_&&e>s)break;a.push({value:e})}return _&&d&&w!==s?a.length&&gi(a[a.length-1].value,s,Dc(s,b,e))?a[a.length-1].value=s:a.push({value:s}):_&&w!==s||a.push({value:w}),a}({maxTicks:a,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&function(e,t,a){let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n][a],isNaN(i)||(t.min=Math.min(t.min,i),t.max=Math.max(t.max,i))}(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,a=this.max;if(super.configure(),this.options.offset&&e.length){const n=(a-t)/Math.max(e.length-1,1)/2;t-=n,a+=n}this._startValue=t,this._endValue=a,this._valueRange=a-t}getLabelForValue(e){return Yi(e,this.chart.options.locale,this.options.ticks.format)}}class Rc extends Fc{static id="linear";static defaults={ticks:{callback:Zi.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Vr(e)?e:0,this.max=Vr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,a=Ei(this.options.ticks.minRotation),n=(e?Math.sin(a):Math.cos(a))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Zi.formatters.logarithmic,Zi.formatters.numeric;const Lc="label";function qc(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function jc(e,t){e.labels=t}function zc(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lc;const n=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[a]===t[a]));return r&&t.data&&!n.includes(r)?(n.push(r),Object.assign(r,t),r):{...t}}))}function Bc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lc;const a={labels:[],datasets:[]};return jc(a,e.labels),zc(a,e.datasets,t),a}function Hc(t,a){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:m,...p}=t,f=(0,e.useRef)(null),h=(0,e.useRef)(),y=()=>{f.current&&(h.current=new ac(f.current,{type:o,data:Bc(l,s),options:c&&{...c},plugins:u}),qc(a,h.current))},_=()=>{qc(a,null),h.current&&(h.current.destroy(),h.current=null)};return(0,e.useEffect)((()=>{!i&&h.current&&c&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(h.current,c)}),[i,c]),(0,e.useEffect)((()=>{!i&&h.current&&jc(h.current.config.data,l.labels)}),[i,l.labels]),(0,e.useEffect)((()=>{!i&&h.current&&l.datasets&&zc(h.current.config.data,l.datasets,s)}),[i,l.datasets]),(0,e.useEffect)((()=>{h.current&&(i?(_(),setTimeout(y)):h.current.update(m))}),[i,c,l.labels,l.datasets,m]),(0,e.useEffect)((()=>{h.current&&(_(),setTimeout(y))}),[o]),(0,e.useEffect)((()=>(y(),()=>_())),[]),e.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:r},p),d)}const $c=(0,e.forwardRef)(Hc);function Vc(t,a){return ac.register(a),(0,e.forwardRef)(((a,n)=>e.createElement($c,Object.assign({},a,{ref:n,type:t}))))}const Uc=Vc("line",Do);ac.register(class extends kl{static id="category";static defaults={ticks:{callback:Mc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:a,label:n}of t)e[a]===n&&e.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Br(e))return null;const a=this.getLabels();return((e,t)=>null===e?null:Ci(Math.round(e),0,t))(t=isFinite(t)&&a[t]===e?t:function(e,t,a,n){const r=e.indexOf(t);return-1===r?((e,t,a,n)=>("string"==typeof t?(a=e.push(t)-1,n.unshift({index:a,label:t})):isNaN(t)&&(a=null),a))(e,t,a,n):r!==e.lastIndexOf(t)?a:r}(a,e,Wr(t,e),this._addedLabels),a.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:a,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(a=0),t||(n=this.getLabels().length-1)),this.min=a,this.max=n}buildTicks(){const e=this.min,t=this.max,a=this.options.offset,n=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return Mc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},Rc,class extends yl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,a){const n=this.options,{x:r,y:i}=this.getProps(["x","y"],a);return Math.pow(e-r,2)+Math.pow(t-i,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return dc(this,e,"x",t)}inYRange(e,t){return dc(this,e,"y",t)}getCenterPoint(e){const{x:t,y:a}=this.getProps(["x","y"],e);return{x:t,y:a}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const a=this.options;this.skip||a.radius<.1||!ls(this,t,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,ss(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}},class extends yl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const a=this.options;if((a.tension||"monotone"===a.cubicInterpolationMode)&&!a.stepped&&!this._pointsUpdated){const n=a.spanGaps?this._loop:this._fullLoop;Us(this._points,a,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const a=e.points,n=e.options.spanGaps,r=a.length;if(!r)return[];const i=!!e._loop,{start:s,end:o}=function(e,t,a,n){let r=0,i=t-1;if(a&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,a&&(i+=r);i>r&&e[i%t].skip;)i--;return i%=t,{start:r,end:i}}(a,r,i,n);return function(e,t,a,n){return n&&n.setContext&&a?function(e,t,a,n){const r=e._chart.getContext(),i=fo(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=a.length,c=[];let u=i,d=t[0].start,m=d;function p(e,t,n,r){const i=o?-1:1;if(e!==t){for(e+=l;a[e%l].skip;)e-=i;for(;a[t%l].skip;)t+=i;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:r}),u=r,d=t%l)}}for(const e of t){d=o?d:e.start;let t,i=a[d%l];for(m=d+1;m<=e.end;m++){const o=a[m%l];t=fo(n.setContext(Ss(r,{type:"segment",p0:i,p1:o,p0DataIndex:(m-1)%l,p1DataIndex:m%l,datasetIndex:s}))),ho(t,u)&&p(d,m-1,e.loop,u),i=o,u=t}d<m-1&&p(d,m-1,e.loop,u)}return c}(e,t,a,n):t}(e,!0===n?[{start:s,end:o,loop:i}]:function(e,t,a,n){const r=e.length,i=[];let s,o=t,l=e[t];for(s=t+1;s<=a;++s){const a=e[s%r];a.skip||a.stop?l.skip||(n=!1,i.push({start:t%r,end:(s-1)%r,loop:n}),t=o=a.stop?s:null):(o=s,l.skip&&(t=s)),l=a}return null!==o&&i.push({start:t%r,end:o%r,loop:n}),i}(a,s,o<s?o+r:o,!!e._fullLoop&&0===s&&o===r-1),a,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,a=e.length;return a&&t[e[a-1].end]}interpolate(e,t){const a=this.options,n=e[t],r=this.points,i=function(e,t){const a=[],n=e.segments;for(let r=0;r<n.length;r++){const i=po(n[r],e.points,t);i.length&&a.push(...i)}return a}(this,{property:t,start:n,end:n});if(!i.length)return;const s=[],o=function(e){return e.stepped?io:e.tension||"monotone"===e.cubicInterpolationMode?so:ro}(a);let l,c;for(l=0,c=i.length;l<c;++l){const{start:c,end:u}=i[l],d=r[c],m=r[u];if(d===m){s.push(d);continue}const p=o(d,m,Math.abs((n-d[t])/(m[t]-d[t])),a.stepped);p[t]=e[t],s.push(p)}return 1===s.length?s[0]:s}pathSegment(e,t,a){return cc(this)(e,this,t,a)}path(e,t,a){const n=this.segments,r=cc(this);let i=this._loop;t=t||0,a=a||this.points.length-t;for(const s of n)i&=r(e,this,s,{start:t,end:t+a-1});return!!i}draw(e,t,a,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),function(e,t,a,n){uc&&!t.options.segment?function(e,t,a,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,a,n)&&r.closePath()),rc(e,t.options),e.stroke(r)}(e,t,a,n):function(e,t,a,n){const{segments:r,options:i}=t,s=cc(t);for(const o of r)rc(e,i,o.style),e.beginPath(),s(e,t,o,{start:a,end:a+n-1})&&e.closePath(),e.stroke()}(e,t,a,n)}(e,this,a,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}},_c,Pc,hc);const Wc={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,min:0,ticks:{stepSize:10}}}},Gc=t=>{const a={labels:Object.keys(t.data),datasets:[{label:t.label,data:Object.values(t.data),fill:!1,backgroundColor:"rgb(123, 104, 238)",borderColor:"rgba(23, 104, 238, 0.2)"}]};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{height:"400px"}},(0,e.createElement)(Uc,{data:a,options:Wc,height:400})))},Yc=()=>(0,e.createElement)("div",{className:"academy-pro-overlay"},(0,e.createElement)("img",{className:"academy-pro-image",src:fa+"assets/images/premium.svg",alt:""}),(0,e.createElement)("span",null,"Upgrade To Pro"));var Kc=a(5697),Zc=a.n(Kc);const Qc={suffix:Zc().string};function Xc({suffix:t}){return(0,e.createElement)("span",{className:t},(0,W.__)("PRO","academy"))}Xc.propTypes=Qc,Xc.defaultProps={suffix:"academy-pro-text"};const Jc=Xc,eu=window.wp.components,tu="show_upgrade_modal",au=e=>t=>{t({type:tu,payload:e})},nu=function(){const t=An((e=>e.analytics)),a=An((e=>e.addons)),n=ln(a,"advanced-analytics",!0),r=zn(),i=t=>{switch(t){case"total_earnings":return(0,e.createElement)("span",{className:"academy-tab-title"},(0,W.__)("Total Earnings ","academy"),!Sa&&(0,e.createElement)(Jc,null));case"total_refunds":return(0,e.createElement)("span",{className:"academy-tab-title"},(0,W.__)("Total Refunds","academy")," ",!Sa&&(0,e.createElement)(Jc,null));case"total_discounts":return(0,e.createElement)("span",{className:"academy-tab-title"},(0,W.__)("Total Discount","academy")," ",!Sa&&(0,e.createElement)(Jc,null))}},s=!Sa||n&&xa?[{name:"total_earnings",title:i("total_earnings"),className:"academy-tab-link academy-tab-link--earnings ",content:Sa?(0,e.createElement)(Gc,{label:(0,W.__)("Earnings Graph for last 30 days","academy"),data:t?.total_earnings?t?.total_earnings:[]}):(0,e.createElement)(Yc,null)},{name:"total_refunds",title:i("total_refunds"),className:"academy-tab-link academy-tab-link--refunds",content:Sa?(0,e.createElement)(Gc,{label:(0,W.__)("Refunds Graph for last 30 days","academy"),data:t?.total_refunds?t?.total_refunds:[]}):(0,e.createElement)(Yc,null)},{name:"total_discounts",title:i("total_discounts"),className:"academy-tab-link academy-tab-link--discount",content:Sa?(0,e.createElement)(Gc,{label:(0,W.__)("Discounts Graph for last 30 days","academy"),data:t?.total_discounts?t?.total_discounts:[]}):(0,e.createElement)(Yc,null)}]:[],o=[{name:"courseEnrolled",title:(0,W.__)("Course Enrolled","academy"),className:"academy-tab-link academy-tab-link--enrolled ",content:(0,e.createElement)(Gc,{label:(0,W.__)("Student enrolment graph for last 30 days","academy"),data:t?.enrolled_info?t?.enrolled_info:[]})},...s];return(0,e.createElement)(eu.TabPanel,{className:"academy-chart-tabs",activeClass:"academy-tab-link--selected",onSelect:e=>{if("courseEnrolled"===e||Sa)switch(e){case"total_earnings":t?.total_earnings||r((async e=>{try{await nn({action:"academy_pro_advanced_analytics/get_analytics_for_earnings"}).then((t=>(e({type:Gn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}));break;case"total_refunds":t?.total_refunds||r((async e=>{try{await nn({action:"academy_pro_advanced_analytics/get_analytics_for_refunds"}).then((t=>(e({type:Yn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}));break;case"total_discounts":t?.total_discounts||r((async e=>{try{await nn({action:"academy_pro_advanced_analytics/get_analytics_for_discounts"}).then((t=>(e({type:Kn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}))}else Sa||r(au(!0))},tabs:o},(t=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-chart-tab-content"},t.content))))},ru=window.moment;var iu=a.n(ru);const su={label:Zc().oneOfType([Zc().object,Zc().string]),size:Zc().string,className:Zc().string,preset:Zc().string,bg:Zc().string,onClick:Zc().func,type:Zc().string,link:Zc().string,isLoading:Zc().bool,loadingLabel:Zc().string,loadingStatus:Zc().string,icon:Zc().any,iconPosition:Zc().string,border:Zc().string,borderRadius:Zc().string,isCircle:Zc().bool,isDisabled:Zc().bool,style:Zc().object,suffix:Zc().string,target:Zc().string,isPro:Zc().bool},ou=({label:t,size:a,preset:n,className:r,onClick:i,type:s,isLoading:o,loadingLabel:l,icon:c,iconPosition:u,isCircle:d,border:m,isDisabled:p,borderRadius:f,style:h,link:y,suffix:_,target:g,isPro:b,id:v})=>{const E=[`academy-btn academy-btn--${a}`];if(n&&E.push("academy-btn--preset-"+n),u&&E.push("academy-btn--icon-"+u),d&&E.push("academy-btn--circle"),m&&E.push("academy-btn--border-"+m),f&&E.push("academy-btn--border-"+f),p&&E.push("academy-btn--disabled"),_&&E.push("academy-btn--"+_),"link"===s){const a=g?{target:g}:{};return(0,e.createElement)("a",{href:y,className:r||E.join(" "),type:s,onClick:i,disabled:p||o,style:h,rel:"noreferrer",id:v,...a},"right"!==u&&c,o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(eu.Spinner,null),l&&(0,e.createElement)("span",{className:"academy-btn--label"},l)):(0,e.createElement)(e.Fragment,null,t&&(0,e.createElement)("span",{className:"academy-btn--label"},t)),"right"===u&&c,!b&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy")))}return(0,e.createElement)("button",{className:r||E.join(" "),type:s,onClick:i,disabled:p||o,style:h,id:v},"right"!==u&&!o&&c,o?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(eu.Spinner,null),l&&(0,e.createElement)("span",{className:"academy-btn--label"},l)):(0,e.createElement)(e.Fragment,null,t&&(0,e.createElement)("span",{className:"academy-btn--label"},t)),"right"===u&&!o&&c,!b&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy")))};ou.propTypes=su,ou.defaultProps={label:"",size:"md",className:"",preset:"purple",onClick:()=>{},type:"button",link:"#",isLoading:!1,loadingLabel:null,icon:null,iconPosition:null,isCircle:!1,border:null,isDisabled:!1,isPro:!0,borderRadius:null,style:{},suffix:"",target:""};const lu=ou;function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},cu.apply(this,arguments)}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function du(e,t){if(e){if("string"==typeof e)return uu(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?uu(e,t):void 0}}function mu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,i,s,o=[],l=!0,c=!1;try{if(i=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=i.call(a)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||du(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var pu=a(4942);function fu(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?Object(arguments[t]):{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach((function(t){(0,pu.Z)(e,t,a[t])}))}return e}function hu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var yu=a(7343);function _u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,yu.Z)(n.key),n)}}function gu(e,t,a){return t&&_u(e.prototype,t),a&&_u(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}var bu=a(1002);function vu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e,t){if(t&&("object"===(0,bu.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vu(e)}function wu(e){return wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wu(e)}function xu(e,t){return xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xu(e,t)}function Nu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xu(e,t)}var ku=a(1143),Su=a.n(ku);function Cu(e){return function(e){if(Array.isArray(e))return uu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||du(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ou=function(){function e(){hu(this,e),(0,pu.Z)(this,"refs",{})}return gu(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var a=this.getIndex(e,t);-1!==a&&this.refs[e].splice(a,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(Iu)}}]),e}();function Iu(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function Au(e,t){return Object.keys(e).reduce((function(a,n){return-1===t.indexOf(n)&&(a[n]=e[n]),a}),{})}var Tu={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},Pu=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function Mu(e,t){Object.keys(t).forEach((function(a){e.style[a]=t[a]}))}function Du(e,t){e.style["".concat(Pu,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function Fu(e,t){e.style["".concat(Pu,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function Ru(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function Lu(e,t,a){return Math.max(e,Math.min(a,t))}function qu(e){return"px"===e.substr(-2)?parseFloat(e):0}function ju(e,t){var a=t.displayName||t.name;return a?"".concat(e,"(").concat(a,")"):e}function zu(e,t){var a=e.getBoundingClientRect();return{top:a.top+t.top,left:a.left+t.left}}function Bu(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Hu(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var n={left:a.left+e.offsetLeft,top:a.top+e.offsetTop};return e.parentNode===t?n:Hu(e.parentNode,t,n)}}function $u(e){var t=e.lockOffset,a=e.width,n=e.height,r=t,i=t,s="px";if("string"==typeof t){var o=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);Su()(null!==o,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),i=parseFloat(t),s=o[1]}return Su()(isFinite(r)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===s&&(r=r*a/100,i=i*n/100),{x:r,y:i}}function Vu(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),a=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return a.test(t[e])}))}(e)?e:Vu(e.parentNode):null}var Uu={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function Wu(e){return null!=e.sortableHandle}var Gu=function(){function e(t,a){hu(this,e),this.container=t,this.onScrollCallback=a}return gu(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,a=e.translate,n=e.minTranslate,r=e.maxTranslate,i=e.width,s=e.height,o={x:0,y:0},l={x:1,y:1},c=this.container,u=c.scrollTop,d=c.scrollLeft,m=c.scrollHeight,p=c.scrollWidth,f=0===u,h=m-u-c.clientHeight==0,y=0===d,_=p-d-c.clientWidth==0;a.y>=r.y-s/2&&!h?(o.y=1,l.y=10*Math.abs((r.y-s/2-a.y)/s)):a.x>=r.x-i/2&&!_?(o.x=1,l.x=10*Math.abs((r.x-i/2-a.x)/i)):a.y<=n.y+s/2&&!f?(o.y=-1,l.y=10*Math.abs((a.y-s/2-n.y)/s)):a.x<=n.x+i/2&&!y&&(o.x=-1,l.x=10*Math.abs((a.x-i/2-n.x)/i)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===o.x&&0===o.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*o.x,top:l.y*o.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),Yu={axis:Zc().oneOf(["x","y","xy"]),contentWindow:Zc().any,disableAutoscroll:Zc().bool,distance:Zc().number,getContainer:Zc().func,getHelperDimensions:Zc().func,helperClass:Zc().string,helperContainer:Zc().oneOfType([Zc().func,"undefined"==typeof HTMLElement?Zc().any:Zc().instanceOf(HTMLElement)]),hideSortableGhost:Zc().bool,keyboardSortingTransitionDuration:Zc().number,lockAxis:Zc().string,lockOffset:Zc().oneOfType([Zc().number,Zc().string,Zc().arrayOf(Zc().oneOfType([Zc().number,Zc().string]))]),lockToContainerEdges:Zc().bool,onSortEnd:Zc().func,onSortMove:Zc().func,onSortOver:Zc().func,onSortStart:Zc().func,pressDelay:Zc().number,pressThreshold:Zc().number,keyCodes:Zc().shape({lift:Zc().arrayOf(Zc().number),drop:Zc().arrayOf(Zc().number),cancel:Zc().arrayOf(Zc().number),up:Zc().arrayOf(Zc().number),down:Zc().arrayOf(Zc().number)}),shouldCancelStart:Zc().func,transitionDuration:Zc().number,updateBeforeSortStart:Zc().func,useDragHandle:Zc().bool,useWindowAsScrollContainer:Zc().bool},Ku={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},Zu={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:Ku,shouldCancelStart:function(e){return-1!==[Uu.Input,Uu.Textarea,Uu.Select,Uu.Option,Uu.Button].indexOf(e.target.tagName)||!!Ru(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},Qu=Object.keys(Yu),Xu=(0,e.createContext)({manager:{}});function Ju(t){var a,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=a=function(a){function n(t){var a;hu(this,n),a=Eu(this,wu(n).call(this,t)),(0,pu.Z)(vu(vu(a)),"state",{}),(0,pu.Z)(vu(vu(a)),"handleStart",(function(e){var t=a.props,n=t.distance,r=t.shouldCancelStart;if(2!==e.button&&!r(e)){a.touched=!0,a.position=Bu(e);var i=Ru(e.target,(function(e){return null!=e.sortableInfo}));if(i&&i.sortableInfo&&a.nodeIsChild(i)&&!a.state.sorting){var s=a.props.useDragHandle,o=i.sortableInfo,l=o.index,c=o.collection;if(o.disabled)return;if(s&&!Ru(e.target,Wu))return;a.manager.active={collection:c,index:l},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==Uu.Anchor||e.preventDefault(),n||(0===a.props.pressDelay?a.handlePress(e):a.pressTimer=setTimeout((function(){return a.handlePress(e)}),a.props.pressDelay))}}})),(0,pu.Z)(vu(vu(a)),"nodeIsChild",(function(e){return e.sortableInfo.manager===a.manager})),(0,pu.Z)(vu(vu(a)),"handleMove",(function(e){var t=a.props,n=t.distance,r=t.pressThreshold;if(!a.state.sorting&&a.touched&&!a._awaitingUpdateBeforeSortStart){var i=Bu(e),s={x:a.position.x-i.x,y:a.position.y-i.y},o=Math.abs(s.x)+Math.abs(s.y);a.delta=s,n||r&&!(o>=r)?n&&o>=n&&a.manager.isActive()&&a.handlePress(e):(clearTimeout(a.cancelTimer),a.cancelTimer=setTimeout(a.cancel,0))}})),(0,pu.Z)(vu(vu(a)),"handleEnd",(function(){a.touched=!1,a.cancel()})),(0,pu.Z)(vu(vu(a)),"cancel",(function(){var e=a.props.distance;a.state.sorting||(e||clearTimeout(a.pressTimer),a.manager.active=null)})),(0,pu.Z)(vu(vu(a)),"handlePress",(function(e){try{var t=a.manager.getActive(),n=function(){if(t){var n=function(){var t,n,r=m.sortableInfo.index,c=(t=m,{bottom:qu((n=window.getComputedStyle(t)).marginBottom),left:qu(n.marginLeft),right:qu(n.marginRight),top:qu(n.marginTop)}),h=function(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:qu(t.gridColumnGap),y:qu(t.gridRowGap)}:{x:0,y:0}}(a.container),y=a.scrollContainer.getBoundingClientRect(),_=s({index:r,node:m,collection:p});if(a.node=m,a.margin=c,a.gridGap=h,a.width=_.width,a.height=_.height,a.marginOffset={x:a.margin.left+a.margin.right+a.gridGap.x,y:Math.max(a.margin.top,a.margin.bottom,a.gridGap.y)},a.boundingClientRect=m.getBoundingClientRect(),a.containerBoundingRect=y,a.index=r,a.newIndex=r,a.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},a.offsetEdge=Hu(m,a.container),a.initialOffset=Bu(f?fu({},e,{pageX:a.boundingClientRect.left,pageY:a.boundingClientRect.top}):e),a.initialScroll={left:a.scrollContainer.scrollLeft,top:a.scrollContainer.scrollTop},a.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},a.helper=a.helperContainer.appendChild(function(e){var t="input, textarea, select, canvas, [contenteditable]",a=e.querySelectorAll(t),n=e.cloneNode(!0);return Cu(n.querySelectorAll(t)).forEach((function(e,t){"file"!==e.type&&(e.value=a[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===Uu.Canvas&&a[t].width>0&&a[t].height>0&&e.getContext("2d").drawImage(a[t],0,0)})),n}(m)),Mu(a.helper,{boxSizing:"border-box",height:"".concat(a.height,"px"),left:"".concat(a.boundingClientRect.left-c.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(a.boundingClientRect.top-c.top,"px"),width:"".concat(a.width,"px")}),f&&a.helper.focus(),l&&(a.sortableGhost=m,Mu(m,{opacity:0,visibility:"hidden"})),a.minTranslate={},a.maxTranslate={},f){var g=d?{top:0,left:0,width:a.contentWindow.innerWidth,height:a.contentWindow.innerHeight}:a.containerBoundingRect,b=g.top,v=g.left,E=g.width,w=b+g.height,x=v+E;a.axis.x&&(a.minTranslate.x=v-a.boundingClientRect.left,a.maxTranslate.x=x-(a.boundingClientRect.left+a.width)),a.axis.y&&(a.minTranslate.y=b-a.boundingClientRect.top,a.maxTranslate.y=w-(a.boundingClientRect.top+a.height))}else a.axis.x&&(a.minTranslate.x=(d?0:y.left)-a.boundingClientRect.left-a.width/2,a.maxTranslate.x=(d?a.contentWindow.innerWidth:y.left+y.width)-a.boundingClientRect.left-a.width/2),a.axis.y&&(a.minTranslate.y=(d?0:y.top)-a.boundingClientRect.top-a.height/2,a.maxTranslate.y=(d?a.contentWindow.innerHeight:y.top+y.height)-a.boundingClientRect.top-a.height/2);o&&o.split(" ").forEach((function(e){return a.helper.classList.add(e)})),a.listenerNode=e.touches?e.target:a.contentWindow,f?(a.listenerNode.addEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.addEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.addEventListener("keydown",a.handleKeyDown)):(Tu.move.forEach((function(e){return a.listenerNode.addEventListener(e,a.handleSortMove,!1)})),Tu.end.forEach((function(e){return a.listenerNode.addEventListener(e,a.handleSortEnd,!1)}))),a.setState({sorting:!0,sortingIndex:r}),u&&u({node:m,index:r,collection:p,isKeySorting:f,nodes:a.manager.getOrderedRefs(),helper:a.helper},e),f&&a.keyMove(0)},r=a.props,i=r.axis,s=r.getHelperDimensions,o=r.helperClass,l=r.hideSortableGhost,c=r.updateBeforeSortStart,u=r.onSortStart,d=r.useWindowAsScrollContainer,m=t.node,p=t.collection,f=a.manager.isKeySorting,h=function(){if("function"==typeof c){a._awaitingUpdateBeforeSortStart=!0;var t=function(t,a){try{var n=(r=m.sortableInfo.index,Promise.resolve(c({collection:p,index:r,node:m,isKeySorting:f},e)).then((function(){})))}catch(e){return a(!0,e)}var r;return n&&n.then?n.then(a.bind(null,!1),a.bind(null,!0)):a(!1,value)}(0,(function(e,t){if(a._awaitingUpdateBeforeSortStart=!1,e)throw t;return t}));if(t&&t.then)return t.then((function(){}))}}();return h&&h.then?h.then(n):n()}}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),(0,pu.Z)(vu(vu(a)),"handleSortMove",(function(e){var t=a.props.onSortMove;"function"==typeof e.preventDefault&&e.cancelable&&e.preventDefault(),a.updateHelperPosition(e),a.animateNodes(),a.autoscroll(),t&&t(e)})),(0,pu.Z)(vu(vu(a)),"handleSortEnd",(function(e){var t=a.props,n=t.hideSortableGhost,r=t.onSortEnd,i=a.manager,s=i.active.collection,o=i.isKeySorting,l=a.manager.getOrderedRefs();a.listenerNode&&(o?(a.listenerNode.removeEventListener("wheel",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("mousedown",a.handleKeyEnd,!0),a.listenerNode.removeEventListener("keydown",a.handleKeyDown)):(Tu.move.forEach((function(e){return a.listenerNode.removeEventListener(e,a.handleSortMove)})),Tu.end.forEach((function(e){return a.listenerNode.removeEventListener(e,a.handleSortEnd)})))),a.helper.parentNode.removeChild(a.helper),n&&a.sortableGhost&&Mu(a.sortableGhost,{opacity:"",visibility:""});for(var c=0,u=l.length;c<u;c++){var d=l[c],m=d.node;d.edgeOffset=null,d.boundingClientRect=null,Du(m,null),Fu(m,null),d.translate=null}a.autoScroller.clear(),a.manager.active=null,a.manager.isKeySorting=!1,a.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:s,newIndex:a.newIndex,oldIndex:a.index,isKeySorting:o,nodes:l},e),a.touched=!1})),(0,pu.Z)(vu(vu(a)),"autoscroll",(function(){var e=a.props.disableAutoscroll,t=a.manager.isKeySorting;if(e)a.autoScroller.clear();else{if(t){var n=fu({},a.translate),r=0,i=0;return a.axis.x&&(n.x=Math.min(a.maxTranslate.x,Math.max(a.minTranslate.x,a.translate.x)),r=a.translate.x-n.x),a.axis.y&&(n.y=Math.min(a.maxTranslate.y,Math.max(a.minTranslate.y,a.translate.y)),i=a.translate.y-n.y),a.translate=n,Du(a.helper,a.translate),a.scrollContainer.scrollLeft+=r,void(a.scrollContainer.scrollTop+=i)}a.autoScroller.update({height:a.height,maxTranslate:a.maxTranslate,minTranslate:a.minTranslate,translate:a.translate,width:a.width})}})),(0,pu.Z)(vu(vu(a)),"onAutoScroll",(function(e){a.translate.x+=e.left,a.translate.y+=e.top,a.animateNodes()})),(0,pu.Z)(vu(vu(a)),"handleKeyDown",(function(e){var t=e.keyCode,n=a.props,r=n.shouldCancelStart,i=n.keyCodes,s=fu({},Ku,void 0===i?{}:i);a.manager.active&&!a.manager.isKeySorting||!(a.manager.active||s.lift.includes(t)&&!r(e)&&a.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),s.lift.includes(t)&&!a.manager.active?a.keyLift(e):s.drop.includes(t)&&a.manager.active?a.keyDrop(e):s.cancel.includes(t)?(a.newIndex=a.manager.active.index,a.keyDrop(e)):s.up.includes(t)?a.keyMove(-1):s.down.includes(t)&&a.keyMove(1))})),(0,pu.Z)(vu(vu(a)),"keyLift",(function(e){var t=e.target,n=Ru(t,(function(e){return null!=e.sortableInfo})).sortableInfo,r=n.index,i=n.collection;a.initialFocusedNode=t,a.manager.isKeySorting=!0,a.manager.active={index:r,collection:i},a.handlePress(e)})),(0,pu.Z)(vu(vu(a)),"keyMove",(function(e){var t=a.manager.getOrderedRefs(),n=t[t.length-1].node.sortableInfo.index,r=a.newIndex+e,i=a.newIndex;if(!(r<0||r>n)){a.prevIndex=i,a.newIndex=r;var s=function(e,t,a){return e<a&&e>t?e-1:e>a&&e<t?e+1:e}(a.newIndex,a.prevIndex,a.index),o=t.find((function(e){return e.node.sortableInfo.index===s})),l=o.node,c=a.containerScrollDelta,u=o.boundingClientRect||zu(l,c),d=o.translate||{x:0,y:0},m=u.top+d.y-c.top,p=u.left+d.x-c.left,f=i<r,h=f&&a.axis.x?l.offsetWidth-a.width:0,y=f&&a.axis.y?l.offsetHeight-a.height:0;a.handleSortMove({pageX:p+h,pageY:m+y,ignoreTransition:0===e})}})),(0,pu.Z)(vu(vu(a)),"keyDrop",(function(e){a.handleSortEnd(e),a.initialFocusedNode&&a.initialFocusedNode.focus()})),(0,pu.Z)(vu(vu(a)),"handleKeyEnd",(function(e){a.manager.active&&a.keyDrop(e)})),(0,pu.Z)(vu(vu(a)),"isValidSortingTarget",(function(e){var t=a.props.useDragHandle,n=e.target,r=Ru(n,(function(e){return null!=e.sortableInfo}));return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(t?Wu(n):n.sortableInfo)}));var r=new Ou;return function(e){Su()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(t),a.manager=r,a.wrappedInstance=(0,e.createRef)(),a.sortableContextValue={manager:r},a.events={end:a.handleEnd,move:a.handleMove,start:a.handleStart},a}return Nu(n,a),gu(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,a=this.getContainer();Promise.resolve(a).then((function(a){e.container=a,e.document=e.container.ownerDocument||document;var n=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof n?n():n,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:Vu(e.container)||e.container,e.autoScroller=new Gu(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return Tu[t].forEach((function(a){return e.container.addEventListener(a,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return Tu[t].forEach((function(a){return e.container.removeEventListener(a,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,a=t.lockAxis,n=t.lockOffset,r=t.lockToContainerEdges,i=t.transitionDuration,s=t.keyboardSortingTransitionDuration,o=void 0===s?i:s,l=this.manager.isKeySorting,c=e.ignoreTransition,u=Bu(e),d={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(d.y-=window.pageYOffset-this.initialWindowScroll.top,d.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=d,r){var m=function(e){var t=e.height,a=e.width,n=e.lockOffset,r=Array.isArray(n)?n:[n,n];Su()(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var i=mu(r,2),s=i[0],o=i[1];return[$u({height:t,lockOffset:s,width:a}),$u({height:t,lockOffset:o,width:a})]}({height:this.height,lockOffset:n,width:this.width}),p=mu(m,2),f=p[0],h=p[1],y={x:this.width/2-f.x,y:this.height/2-f.y},_={x:this.width/2-h.x,y:this.height/2-h.y};d.x=Lu(this.minTranslate.x+y.x,this.maxTranslate.x-_.x,d.x),d.y=Lu(this.minTranslate.y+y.y,this.maxTranslate.y-_.y,d.y)}"x"===a?d.y=0:"y"===a&&(d.x=0),l&&o&&!c&&Fu(this.helper,o),Du(this.helper,d)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,a=e.hideSortableGhost,n=e.onSortOver,r=this.containerScrollDelta,i=this.windowScrollDelta,s=this.manager.getOrderedRefs(),o=this.offsetEdge.left+this.translate.x+r.left,l=this.offsetEdge.top+this.translate.y+r.top,c=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,m=s.length;d<m;d++){var p=s[d].node,f=p.sortableInfo.index,h=p.offsetWidth,y=p.offsetHeight,_={height:this.height>y?y/2:this.height/2,width:this.width>h?h/2:this.width/2},g=c&&f>this.index&&f<=u,b=c&&f<this.index&&f>=u,v={x:0,y:0},E=s[d].edgeOffset;E||(E=Hu(p,this.container),s[d].edgeOffset=E,c&&(s[d].boundingClientRect=zu(p,r)));var w=d<s.length-1&&s[d+1],x=d>0&&s[d-1];w&&!w.edgeOffset&&(w.edgeOffset=Hu(w.node,this.container),c&&(w.boundingClientRect=zu(w.node,r))),f!==this.index?(t&&Fu(p,t),this.axis.x?this.axis.y?b||f<this.index&&(o+i.left-_.width<=E.left&&l+i.top<=E.top+_.height||l+i.top+_.height<=E.top)?(v.x=this.width+this.marginOffset.x,E.left+v.x>this.containerBoundingRect.width-_.width&&w&&(v.x=w.edgeOffset.left-E.left,v.y=w.edgeOffset.top-E.top),null===this.newIndex&&(this.newIndex=f)):(g||f>this.index&&(o+i.left+_.width>=E.left&&l+i.top+_.height>=E.top||l+i.top+_.height>=E.top+y))&&(v.x=-(this.width+this.marginOffset.x),E.left+v.x<this.containerBoundingRect.left+_.width&&x&&(v.x=x.edgeOffset.left-E.left,v.y=x.edgeOffset.top-E.top),this.newIndex=f):g||f>this.index&&o+i.left+_.width>=E.left?(v.x=-(this.width+this.marginOffset.x),this.newIndex=f):(b||f<this.index&&o+i.left<=E.left+_.width)&&(v.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(g||f>this.index&&l+i.top+_.height>=E.top?(v.y=-(this.height+this.marginOffset.y),this.newIndex=f):(b||f<this.index&&l+i.top<=E.top+_.height)&&(v.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),Du(p,v),s[d].translate=v):a&&(this.sortableGhost=p,Mu(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=u);var N=c?this.prevIndex:u;n&&this.newIndex!==N&&n({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:N,isKeySorting:c,nodes:s,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return Su()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?(0,yn.findDOMNode)(this):e(r.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return(0,e.createElement)(Xu.Provider,{value:this.sortableContextValue},(0,e.createElement)(t,cu({ref:a},Au(this.props,Qu))))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(e.Component),(0,pu.Z)(a,"displayName",ju("sortableList",t)),(0,pu.Z)(a,"defaultProps",Zu),(0,pu.Z)(a,"propTypes",Yu),n}var ed={index:Zc().number.isRequired,collection:Zc().oneOfType([Zc().number,Zc().string]),disabled:Zc().bool},td=Object.keys(ed);function ad(t){var a,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=a=function(a){function n(){var t,a;hu(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=Eu(this,(t=wu(n)).call.apply(t,[this].concat(i))),(0,pu.Z)(vu(vu(a)),"wrappedInstance",(0,e.createRef)()),a}return Nu(n,a),gu(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,a=e.disabled,n=e.index,r=(0,yn.findDOMNode)(this);r.sortableInfo={collection:t,disabled:a,index:n,manager:this.context.manager},this.node=r,this.ref={node:r},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return Su()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var a=r.withRef?this.wrappedInstance:null;return(0,e.createElement)(t,cu({ref:a},Au(this.props,td)))}}]),n}(e.Component),(0,pu.Z)(a,"displayName",ju("sortableElement",t)),(0,pu.Z)(a,"contextType",Xu),(0,pu.Z)(a,"propTypes",ed),(0,pu.Z)(a,"defaultProps",{collection:0}),n}function nd(e,t,a){return function(e,t,a){const n=t<0?e.length+t:t;if(n>=0&&n<e.length){const n=a<0?e.length+a:a,[r]=e.splice(t,1);e.splice(n,0,r)}}(e=[...e],t,a),e}var rd=a(3253),id=a.n(rd);const sd={icon:Zc().string,suffix:Zc().string,options:Zc().array},od=t=>{const[a,n]=(0,e.useState)(!1),{icon:r,options:i,iconClass:s,suffix:o}=t,l=(0,e.useRef)(null),c=(0,e.useRef)(null),u=e=>{!l?.current||l?.current?.contains(e.target)||c.current.contains(e.target)||n(!1)};return(0,e.useEffect)((()=>(document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u))),[]),(0,e.useEffect)((()=>{if(a&&c.current){const e=c.current.getBoundingClientRect(),t=e.left+window.pageXOffset,a=e.top+window.pageYOffset,n=c.current.offsetHeight;l.current.style.position="absolute",l.current.style.left=t-155+"px",l.current.style.top=`${a+n+10}px`,document.body.appendChild(l.current)}else c.current&&c.current.parentNode===document.body&&document.body.removeChild(l.current)}),[a,c]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{className:`academy-dropdown-menu ${o&&`academy-dropdown-menu--${o}`}`,type:"button",ref:c,onClick:()=>{n(!a)}},s||(0,e.createElement)("span",{className:`academy-icon academy-icon--${r}`})),a&&(0,yn.createPortal)((0,e.createElement)("div",{className:`academy-dropdown-menu__lists ${o&&`academy-dropdown-menu--list-${o}`}`,ref:l},(0,e.createElement)("ul",{className:"academy-more-options"},i.map(((t,a)=>(0,e.createElement)("div",{key:a},t.action?(0,e.createElement)("form",{className:"academy-more-options__item",key:a,action:t.action,method:t.method},(0,e.createElement)(lu,{preset:"transparent",iconPosition:"left",...t}),t.hasBorder&&(0,e.createElement)("hr",{className:"academy-option-separator"})):(0,e.createElement)("li",{className:"academy-more-options__item",key:a},(0,e.createElement)(lu,{preset:"transparent",iconPosition:"left",...t,onClick:()=>(n(!1),"button"===t.type?t?.onClick():null)}),t.hasBorder&&(0,e.createElement)("hr",{className:"academy-option-separator"}))))))),document.body))};od.propTypes=sd,od.defaultProps={icon:"three-dots-menu",suffix:"",options:[]};const ld=od;var cd=a(3967),ud=a.n(cd);function dd(e,t){return ud()("academy-react-modal",e&&`academy-react-modal--${e}`,t&&`academy-react-modal--${t}`)}function md(e){return ud()("academy-react-modal__content",e&&`academy-react-modal--content-${e}`)}const pd={title:Zc().string,subtitle:Zc().string,largeModalMarginTop:Zc().string,isOpen:Zc().bool,isEnabledHeader:Zc().bool,isEnabledResizer:Zc().bool,onAfterOpen:Zc().func,onRequestClose:Zc().func,style:Zc().object,externalComponent:Zc().object,suffix:Zc().string,size:Zc().string,isSmallAvailable:Zc().bool,isLargeAvailable:Zc().bool};function fd({title:a,subtitle:n,isOpen:r,isEnabledHeader:i,isEnabledResizer:s,onAfterOpen:o,onRequestClose:l,children:c,style:u,size:d,suffix:m,isLargeAvailable:p,isSmallAvailable:f,externalComponent:h,largeModalMarginTop:y}){const[_,g]=(0,e.useState)({expandableSize:d,activeIconIndex:3}),b=e=>{g((t=>({...t,activeIconIndex:e,expandableSize:["large","medium","small"][e]})))},v="large"===_?.expandableSize?{...u,content:{...u.content,marginTop:y}}:u,E=p?[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Full screen","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--large-screen"}),onClick:()=>b(0)}]:[],w=f?[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Small screen","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--small-screen"}),onClick:()=>b(2)}]:[],x=dd(m,_?.expandableSize),N=md(_?.expandableSize);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(id(),{isOpen:r,onAfterOpen:o,onRequestClose:l,contentLabel:a,style:v,shouldCloseOnOverlayClick:!1,ariaHideApp:!0},(0,e.createElement)("div",{className:x},i&&(0,e.createElement)("div",{className:"academy-react-modal__head"},a&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-react-modal__head-title"},a),n&&(0,e.createElement)("p",null,(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),n)),(0,e.createElement)("div",{className:"academy-react-modal-buttons"},s&&(0,e.createElement)(ld,{icon:["academy-icon academy-icon--large-screen","academy-icon academy-icon--medium-screen","academy-icon academy-icon--small-screen","academy-icon academy-icon--columns"][_?.activeIconIndex],options:[...E,{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Medium screen","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--medium-screen"}),onClick:()=>b(1)},...w]}),h,(0,e.createElement)(lu,{type:"button",onClick:()=>l(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close-small"}),className:"academy-btn-close-modal"}))),(0,e.createElement)("div",{className:N},!i&&(0,e.createElement)(lu,{type:"button",onClick:()=>l(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),className:"academy-btn-close-modal"}),c))))}document.getElementById("academywrap")?id().setAppElement("#academywrap"):document.getElementById("academyLessonsWrap")?id().setAppElement("#academyLessonsWrap"):document.getElementById("academyFrontendDashWrap")?id().setAppElement("#academyFrontendDashWrap"):document.getElementById("academyFrontendModalWrap")&&id().setAppElement("#academyFrontendModalWrap"),fd.propTypes=pd,fd.defaultProps={title:"",subtitle:"",isOpen:!1,isEnabledHeader:!0,isEnabledResizer:!0,onAfterOpen:()=>{},onRequestClose:()=>{},style:{overlay:{background:"rgba(35, 40, 45, 0.62)",overflowY:"scroll",display:"flex",justifyContent:"center",zIndex:9999},content:{inset:"unset",padding:0,overflow:"none",border:0,marginTop:"50px"}},isSmallAvailable:!0,isLargeAvailable:!0,size:"medium",largeModalMarginTop:"30px"};const hd=ad((({copyColumn:t,itemIndex:a,checkedChange:n})=>(0,e.createElement)("div",{className:"kzui-list-table__filter-checked-item",key:`column-${a}`},(0,e.createElement)("span",{className:"kzui-list-table-filter-item-left"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag"}),(0,e.createElement)("span",{className:"kzui-list-table-filter-item-title"},t.name)),(0,e.createElement)("input",{id:t.name,type:"checkbox",checked:t.visible,onChange:e=>n({id:t.id,visible:e.target.checked})})))),yd=Ju((t=>(0,e.createElement)("ul",{className:"kzui-list-table__filter-items"},t.children))),_d=({setTempCopyColumns:a,tempCopyColumns:n,showColumnFilter:r,checkedChange:i,setCopyColumns:s,copyColumns:o,suffix:l})=>{const[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)([]);return(0,e.useEffect)((()=>{m([...n])}),[]),(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-filter-icon"},(0,e.createElement)(lu,{label:(0,W.__)("Columns","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--columns"}),onClick:()=>{u(!c)},preset:"transparent",border:"gray",size:"sm",borderRadius:"rounded"})),(0,e.createElement)(fd,{isOpen:c,onRequestClose:()=>{u(!1)},title:(0,W.__)("Columns","academy"),suffix:"email",size:"small"},(0,e.createElement)("div",{className:"kzui-list-table__filter-modal"},(0,e.createElement)("div",{className:"kzui-list-table__filter-modal__top-bar"},(0,e.createElement)("span",null,(0,W.__)("Columns","academy")),(0,e.createElement)(lu,{label:(0,W.__)("Reset","academy"),onClick:()=>{a([...d])},preset:"transparent",size:"sm",type:"button",suffix:"reset-all"})),r&&(0,e.createElement)(yd,{onSortEnd:({oldIndex:e,newIndex:t})=>{const r=nd(n,e,t);a(r)}},n?.map(((t,a)=>(0,e.createElement)(hd,{key:`column-${a}`,index:a,copyColumn:t,itemIndex:a,checkedChange:i})))),(0,e.createElement)("div",{className:"kzui-list-table__filter-modal__footer"},(0,e.createElement)(lu,{label:(0,W.__)("Cancel","academy"),onClick:()=>{a([...o]),u(!1)},preset:"transparent",size:"sm",type:"button",suffix:"cancel",border:"gray",borderRadius:"rounded"}),(0,e.createElement)(lu,{label:(0,W.__)("Apply","academy"),onClick:()=>{s(n),localStorage.setItem(l,JSON.stringify(n)),u(!1)},size:"sm",borderRadius:"rounded"})))))},gd=({subHeaderComponent:t,setTempCopyColumns:a,tempCopyColumns:n,showColumnFilter:r,checkedChange:i,setCopyColumns:s,copyColumns:o,suffix:l})=>(0,e.createElement)("div",{className:"kzui-list-table__sub-header"},(0,e.createElement)("div",{className:"kzui-list-table__sub-header-left"},t),(0,e.createElement)("div",{className:"kzui-list-table__sub-header-right"},r&&(0,e.createElement)(_d,{setTempCopyColumns:a,tempCopyColumns:n,showColumnFilter:r,checkedChange:i,setCopyColumns:s,copyColumns:o,suffix:l}))),bd=({visibleColumn:t,isCheckboxColumnVisible:a,copyDataArr:n,selectAllRow:r,data:i})=>{const s=i.length>0&&n;return(0,e.createElement)("div",{className:"kzui-list-table__table-head"},(0,e.createElement)("div",{className:"kzui-list-table__table-head-row"},a&&(0,e.createElement)("div",{className:"kzui-list-table__table-row-cell kzui-list-table__table-row-cell-checkbox"},(0,e.createElement)("input",{checked:s&&n?.every((e=>e.select)),type:"checkbox",onChange:r})),t?.map(((t,a)=>(0,e.createElement)("div",{className:"kzui-list-table__table-row-cell kzui-list-table__table-header-row-cell "+(t.isLabelWidth?"kzui-list-table__table-row-cell--isLabelWidth":""),key:a},t.name)))))},vd=({title:t,subText:a})=>(0,e.createElement)("div",{className:"academy-oops academy-oops__message"},(0,e.createElement)("div",{className:"academy-oops__icon"},(0,e.createElement)("img",{src:fa+"assets/images/NoDataAvailable.svg",alt:""})),(0,e.createElement)("h3",{className:"academy-oops__heading"},t),(0,e.createElement)("h3",{className:"academy-oops__text"},a)),Ed={size:Zc().string};function wd({size:t}){return(0,e.createElement)("div",{className:`academy-preloader academy-preloader--${t}`},(0,e.createElement)(eu.Spinner,null))}wd.propTypes=Ed,wd.defaultProps={size:"md"};const xd=({dataFetchingStatus:t,copyDataArr:a,visibleColumn:n,isCheckboxColumnVisible:r,selectRowChange:i,noDataText:s,loadingHeight:o,bodyRef:l})=>{const c=t||!a;return(0,e.createElement)("div",{className:"kzui-list-table__table-body",ref:l},c?(0,e.createElement)("div",{className:"kzui-list-table__loader",style:{minHeight:o}},(0,e.createElement)(wd,null)):(0,e.createElement)(e.Fragment,null,a?.length>0?(0,e.createElement)(e.Fragment,null,a?.map(((t,a)=>(0,e.createElement)("div",{key:a,className:"kzui-list-table__table-body-row"},r&&(0,e.createElement)("div",{className:"kzui-list-table__table-row-cell kzui-list-table__table-row-cell-checkbox "},(0,e.createElement)("input",{type:"checkbox",checked:t.select,onChange:e=>i({row:t,select:e.target.checked})})),n.length>0?(0,e.createElement)(e.Fragment,null,n?.map(((a,n)=>(0,e.createElement)("div",{className:"kzui-list-table__table-row-cell",key:n},a?.cell(t))))):(0,e.createElement)(vd,{title:(0,W.__)("No visible columns available!!","academy")}))))):(0,e.createElement)(vd,{title:(0,W.__)("No Data Available!!","academy"),subText:s})))},Nd=function({option:t,index:a,handleRemoveMultiSelectValue:n}){return(0,e.createElement)("div",{className:"academy-multi-select--option",key:a},(0,e.createElement)("span",{className:"academy-multi-select--option-label"},t?.label),(0,e.createElement)(lu,{className:"academy-remove-option",onClick:()=>n(t),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"})}))},kd=function({searchOptions:t,setSearchOptions:a,inputValueRef:n,onInputChange:r}){const[i,s]=(0,e.useState)("4px");return(0,e.useEffect)((()=>{n.current&&""!==t?s(`${n.current.scrollWidth}px`):""===t&&s("4px")}),[t]),(0,e.useEffect)((()=>{""!==t&&r(t)}),[t]),(0,e.createElement)("div",{className:"academy-custom-select--input-container"},(0,e.createElement)("input",{className:"academy-custom-select--search-option",type:"text",value:t,ref:n,onChange:e=>{a(e.target.value),r(e.target.value)},style:{width:i}}))},Sd=({option:t,index:a,suffix:n,handleSelectValue:r})=>(0,e.createElement)("span",{role:"presentation",key:a,className:`academy-custom-select--option ${n&&n}`,onClick:()=>r(t),onKeyDown:()=>{}},t?.label),Cd=({groupItems:t,handleSelectValue:a,searchOptions:n,multiSelectValue:r,isMulti:i,groupItemsIndex:s})=>(0,e.createElement)("div",{className:"academy-grouped-items",key:s},t.options.length>0&&(0,e.createElement)("p",{className:"academy-grouped-items--title"},t.label),t.options?.filter((e=>0===(i?r.filter((t=>t.value===e.value)):!r.includes(e)).length))?.filter((e=>e?.label?.toLowerCase()?.includes(n.toLowerCase()))).map(((t,n)=>(0,e.createElement)(Sd,{option:t,index:n,key:n,handleSelectValue:a})))),Od=({isGrouped:t,value:a,options:n,isMulti:r,multiSelectValue:i,searchOptions:s,handleSelectValue:o})=>(0,e.createElement)(e.Fragment,null,t?(0,e.createElement)(e.Fragment,null,n.length>0?(0,e.createElement)(e.Fragment,null,n.map(((t,a)=>(0,e.createElement)(Cd,{groupItems:t,handleSelectValue:o,searchOptions:s,multiSelectValue:i,isMulti:r,groupItemsIndex:a,key:a})))):(0,e.createElement)("span",{className:"academy-custom-select--default-text"},(0,W.__)("No items found","academy"))):(0,e.createElement)(e.Fragment,null,n.length>0?(0,e.createElement)(e.Fragment,null,r?n?.filter((e=>0===i.filter((t=>t.value===e.value)).length))?.filter((e=>e?.label?.toLowerCase()?.includes(s.toLowerCase()))).map(((t,a)=>(0,e.createElement)(Sd,{option:t,index:a,key:a,handleSelectValue:o}))):(0,e.createElement)(e.Fragment,null,n?.filter((e=>!(e.value===a)))?.filter((e=>e?.label?.toLowerCase()?.includes(s.toLowerCase())))?.map(((t,r)=>{const i=a===t.value&&n.findIndex((e=>e.value===t.value))===r?" academy-custom-select--option--active":"";return(0,e.createElement)(Sd,{option:t,index:r,key:r,suffix:i,handleSelectValue:o})})))):(0,e.createElement)("span",{className:"academy-custom-select--default-text"},(0,W.__)("No items found","academy")))),Id={label:Zc().string,placeholder:Zc().string,value:Zc().oneOfType([Zc().object,Zc().array]),suffix:Zc().string,isSearchable:Zc().bool,isDisabled:Zc().bool,isClearable:Zc().bool,isGrouped:Zc().bool,options:Zc().array,onChangeHandler:Zc().func,isMulti:Zc().bool,isLoading:Zc().bool,onMenuOpen:Zc().func,onInputChange:Zc().func,positionTop:Zc().string},Ad={label:"",placeholder:(0,W.__)("Select","academy"),value:{},suffix:"",options:[],isSearchable:!1,isDisabled:!1,isClearable:!1,isGrouped:!1,isMulti:!1,isLoading:!1,onMenuOpen:()=>{},onInputChange:()=>{},positionTop:"100%"},Td=({label:t,placeholder:a,value:n,suffix:r,isSearchable:i,isClearable:s,isGrouped:o,options:l,onChangeHandler:c,isMulti:u,isLoading:d,onMenuOpen:m,onInputChange:p,isDisabled:f,positionTop:h})=>{const y=(0,e.useRef)(null),_=(0,e.useRef)(null),g=(0,e.useRef)(null),[b,v]=(0,e.useState)(!1),[E,w]=(0,e.useState)(""),[x,N]=(0,e.useState)(u&&n.length?[...n]:[]);(0,e.useEffect)((()=>{b&&""!==E&&m(E)}),[b,E]);const k=e=>{let t=[...x];t=t.filter((t=>t.value!==e.value)),c(t),N(t)};return(0,e.useEffect)((()=>{const e=e=>{y?.current&&!y?.current?.contains(e.target)&&v(!1)};if(document.addEventListener("mousedown",e),g.current){const e=g.current.offsetHeight,t=y.current.getBoundingClientRect(),a=window.innerHeight-t.bottom,n=t.top;g.current.style.top=a<e&&n>a?`-${e+12}px`:h}return()=>{document.removeEventListener("mousedown",e)}}),[b,E,l]),(0,e.createElement)("div",{role:"presentation",className:`academy-control academy-custom-select ${r&&"academy-custom-select--"+r} ${f&&"academy-custom-select--disabled"}`,onClick:()=>{_?.current?.focus()}},(0,e.createElement)("label",null,t),(0,e.createElement)("div",{className:"academy-custom-select--container",ref:y},(0,e.createElement)("div",{role:"presentation",className:"academy-custom-select--inner-content",onClick:()=>v(!b)},(0,e.createElement)("div",{className:"academy-custom-select--box"},u?(0,e.createElement)("div",{className:"academy-custom-select--multi-value"},x?.length>0?x.map(((t,a)=>(0,e.createElement)(Nd,{option:t,index:a,key:a,handleRemoveMultiSelectValue:k}))):(0,e.createElement)("span",{className:"academy-select-default-text"},a),i&&(0,e.createElement)(kd,{searchOptions:E,setSearchOptions:w,inputValueRef:_,onInputChange:p})):(0,e.createElement)("div",{className:"academy-custom-select--single-value"},i&&E?.length>0?"":(t=>{let r="";return r=n?.value?l?.find((e=>e.value===n.value))?.label:l?.find((e=>e.value===n))?.label,r?(0,e.createElement)("div",{className:"academy-select-single-label"},(0,e.createElement)("span",null,r),s&&(0,e.createElement)(lu,{className:"academy-remove-option",onClick:()=>{c(""),w(""),r=""},icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"})})):a})(n.value),i&&(0,e.createElement)(kd,{searchOptions:E,setSearchOptions:w,inputValueRef:_,onInputChange:p}))),(0,e.createElement)("div",{className:"academy-custom-select--indicator"},(0,e.createElement)("span",{className:"academy-icon academy-icon--arrow-down"}))),(0,e.createElement)("div",{role:"presentation",className:"academy-custom-select--options"+(b?" academy-custom-select--options--toggle":""),onClick:()=>{v(!b)},ref:g},d?(0,e.createElement)(wd,null):(0,e.createElement)(Od,{isGrouped:o,options:l,isMulti:u,multiSelectValue:x,searchOptions:E,handleSelectValue:e=>{if(u){const t=[];x.find((t=>t.value===e.value))||(t.push(e),N([...x,...t]),c([...x,...t]))}else c(e.value);w("")},value:n}))))};Td.propTypes=Id,Td.defaultProps=Ad;const Pd=Td,Md={totalItems:Zc().number,fetchHandler:Zc().func},Dd=({totalItems:t,fetchHandler:a})=>{const[n,r]=(0,e.useState)(1),i=Math.ceil(t/10)||0,s=Array.from({length:i},((e,t)=>t+1)),o=n<s.length&&t>10,l=n>1&&t>10,c=e=>{r(e),a(e)};return(0,e.createElement)("div",{className:"academy-pagination"},l&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{icon:(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-left"}),(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-left"})),onClick:()=>{c(1)}}),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-left"}),onClick:()=>{c(n-1)}})),s.length>1&&(0,e.createElement)("ul",{className:"academy-pagination-list"},(()=>{const t=[];if(s.length<=5)s.forEach(((a,r)=>{const i=(0,e.createElement)("li",{className:`academy-pagination-list__item ${a===n&&"academy-pagination-list__item-active"}`,key:r,onClick:()=>{c(a)},role:"presentation"},a);t.push(i)}));else if(n<=3){for(let a=1;a<=3;a++){const r=(0,e.createElement)("li",{className:`academy-pagination-list__item ${a===n&&"academy-pagination-list__item-active"}`,key:a,onClick:()=>{c(a)},role:"presentation"},a);t.push(r)}t.push((0,e.createElement)("li",{className:"academy-pagination-list__item academy-pagination-list__item-dots",key:"dots"},"..."));const a=(0,e.createElement)("li",{className:"academy-pagination-list__item",key:i,onClick:()=>{c(i)},role:"presentation"},i);t.push(a)}else if(n>=i-2){const a=(0,e.createElement)("li",{className:"academy-pagination-list__item",key:1,onClick:()=>{c(1)},role:"presentation"},1);t.push(a),t.push((0,e.createElement)("li",{className:"academy-pagination-list__item academy-pagination-list__item-dots",key:"dots"},"..."));for(let a=i-2;a<=i;a++){const r=(0,e.createElement)("li",{className:`academy-pagination-list__item ${a===n&&"academy-pagination-list__item-active"}`,key:a,onClick:()=>{c(a)},role:"presentation"},a);t.push(r)}}else{const a=(0,e.createElement)("li",{className:"academy-pagination-list__item",key:1,onClick:()=>{c(1)},role:"presentation"},1);t.push(a),t.push((0,e.createElement)("li",{className:"academy-pagination-list__item academy-pagination-list__item-dots",key:"dots-start"},"..."));for(let a=n-1;a<=n+1;a++){const r=(0,e.createElement)("li",{className:`academy-pagination-list__item ${a===n&&"academy-pagination-list__item-active"}`,key:a,onClick:()=>{c(a)},role:"presentation"},a);t.push(r)}t.push((0,e.createElement)("li",{className:"academy-pagination-list__item academy-pagination-list__item-dots",key:"dots-end"},"..."));const r=(0,e.createElement)("li",{className:"academy-pagination-list__item",key:i,onClick:()=>{c(i)},role:"presentation"},i);t.push(r)}return t})()),o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),onClick:()=>{c(n+1)}}),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"})),onClick:()=>{c(s.length)}})))};Dd.propTypes=Md,Dd.defaultProps={totalItems:0,page:1,fetchHandler:()=>{}};const Fd=Dd,Rd=[{value:"10",label:(0,W.__)("10","academy")},{value:"15",label:(0,W.__)("15","academy")},{value:"20",label:(0,W.__)("20","academy")},{value:"25",label:(0,W.__)("25","academy")},{value:"30",label:(0,W.__)("30","academy")}],Ld=({data:t,totalItems:a,paginationPerPageChange:n,rowsPerPage:r,onChangePage:i})=>(0,e.createElement)("div",{className:"kzui-list-table__footer"},(0,e.createElement)("span",{className:"kzui-list-table__footer-left"},(0,W.sprintf)(
// translators: %s: totalItems
(0,W.__)("Showing result %s out of %s"),t?.length,a)),(0,e.createElement)("div",{className:"kzui-list-table__footer-right"},(0,e.createElement)("div",{className:"kzui-list-table__footer-pagination per__page"},(0,e.createElement)("p",null,(0,W.__)("Rows per page","academy")),(0,e.createElement)(Pd,{onChangeHandler:n,value:r?Rd.find((e=>parseInt(e.value)===parseInt(r))):Rd[0],options:Rd,positionTop:"-160px"})),(0,e.createElement)("div",{className:"kzui-list-table__footer-pagination-pages icons"},(0,e.createElement)(Fd,{totalItems:a,fetchHandler:i})))),qd={columns:Zc().array,data:Zc().array,isRowSelectable:Zc().bool,getSelectRowValue:Zc().func,showSubHeader:Zc().bool,subHeaderComponent:Zc().object,showColumnFilter:Zc().bool,showPagination:Zc().bool,onChangePage:Zc().func,onChangeItemsPerPage:Zc().func,suffix:Zc().string,noDataText:Zc().string,currentPageNumber:Zc().number,totalItems:Zc().number,dataFetchingStatus:Zc().bool,resetSelected:Zc().bool,rowsPerPage:Zc().number},jd={columns:[],data:[],isRowSelectable:!0,getSelectRowValue:()=>{},showSubHeader:!0,subHeaderComponent:{},showColumnFilter:!0,showPagination:!1,onChangePage:()=>{},onChangeItemsPerPage:()=>{},suffix:"",noDataText:(0,W.__)("Please, create data to see the available list here."),totalItems:0,dataFetchingStatus:!1,resetSelected:!1,currentPageNumber:1,rowsPerPage:10},zd=t=>{const{columns:a,data:n,isRowSelectable:r,getSelectRowValue:i,showSubHeader:s,subHeaderComponent:o,showColumnFilter:l,showPagination:c,onChangePage:u,onChangeItemsPerPage:d,suffix:m,totalItems:p,dataFetchingStatus:f,resetSelected:h,noDataText:y,currentPageNumber:_,rowsPerPage:g}=t,b=(0,e.useRef)(null),[v,E]=(0,e.useState)("0px"),[w,x]=(0,e.useState)(g),[N,k]=(0,e.useState)(!1),[S,C]=(0,e.useState)(a?.map(((e,t)=>({...e,visible:!0,id:`column-${t}`})))),[O,I]=(0,e.useState)(S?.filter((e=>e.visible))),[A,T]=(0,e.useState)([...S]),[P,M]=(0,e.useState)(!1),D=O.length>0&&r;(0,e.useEffect)((()=>{k(n&&n?.map(((e,t)=>({...e,rowId:`row-${t}`,select:!1}))))}),[n]),(0,e.useEffect)((()=>{0===n.length||!1===n?E("400px"):b.current.offsetHeight<100?E("100px"):E(`${b.current.offsetHeight}px`)}),[n,b,w]),(0,e.useEffect)((()=>{const e=S.filter((e=>!0===e.visible));function t(){window.innerWidth<1280||e.length>6?M(!0):M(!1)}return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}}),[window.innerWidth,S]),(0,e.useEffect)((()=>{I(S?.filter((e=>e.visible))),E(!1)}),[S]),(0,e.useEffect)((()=>{const e=JSON.parse(localStorage.getItem(m));if(e){const t=S.reduce(((t,a)=>(e.forEach((e=>{e.id===a.id&&t.push({...e,cell:a.cell})})),t)),[]),a=e.reduce(((e,a)=>(t.forEach((t=>{a.id===t.id&&e.push({...t})})),e)),[]);T(a),C(a)}}),[]),(0,e.useEffect)((()=>{"function"==typeof i&&i(N&&N?.filter((e=>e.select)))}),[N]),(0,e.useEffect)((()=>{h&&k(n&&n?.map((e=>({...e,select:!1}))))}),[h]);const F=c&&N?.length>0;return(0,e.createElement)("div",{className:`kzui-list-table ${m&&"kzui-list-table--"+m} ${Ca?"":"academy-dashboard__content"}`},(0,e.createElement)("div",{className:"kzui-list-table__container"},s&&(0,e.createElement)(gd,{subHeaderComponent:o,setTempCopyColumns:T,tempCopyColumns:A,showColumnFilter:l,checkedChange:({id:e,visible:t})=>{let a;a="reset"===e?A.map((e=>({...e,visible:!0}))):A.map((a=>a.id===e?{...a,visible:t}:a)),T(a)},setCopyColumns:C,copyColumns:S,suffix:m}),(0,e.createElement)("div",{className:`kzui-list-table__table ${P&&"kzui-list-table--has-slider"}`},(0,e.createElement)(bd,{data:n,visibleColumn:O,copyDataArr:N,selectAllRow:e=>k((t=>t.map((t=>({...t,select:e.target.checked}))))),isCheckboxColumnVisible:D}),(0,e.createElement)(xd,{dataFetchingStatus:f,copyDataArr:N,visibleColumn:O,isCheckboxColumnVisible:D,selectRowChange:({row:e,select:t})=>{const a=N.map((a=>a.rowId===e.rowId?{...a,select:t}:a));k(a)},noDataText:y,loadingHeight:v,bodyRef:b})),F&&!f&&(0,e.createElement)(Ld,{data:n,totalItems:p,paginationPerPageChange:e=>{E(`${b.current.offsetHeight}px`),x(e),d(parseInt(e),parseInt(_))},rowsPerPage:w,onChangePage:u})))};zd.propTypes=qd,zd.defaultProps=jd;const Bd=zd,Hd=function({data:t,progressPendingStatus:a}){const n=[{name:(0,W.__)("Course Name","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("span",{className:"academy-table-title",dangerouslySetInnerHTML:{__html:t.post_title}}))},{name:(0,W.__)("Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.post_date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.post_date).format("h:mm A")))},{name:(0,W.__)("Average Reviews","academy"),cell:t=>(0,e.createElement)("div",{className:"average-reviews"},t?.reviews?.rating_avg,"(",t?.reviews?.rating_count,")"),sortable:!0},{name:(0,W.__)("Go Link","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)(lu,{type:"link",target:"_blank",link:t.permalink,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}),preset:"transparent"}))}];return(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:n,data:t,noDataText:(0,W.__)("No enrollment data was found see the available list here."),dataFetchingStatus:a,showColumnFilter:!1,isRowSelectable:!1,showSubHeader:!1,suffix:"last-enrolled-course"}))},$d=function({data:t,progressPendingStatus:a}){const n=[{name:(0,W.__)("Student","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("span",null,t.display_name))},{name:(0,W.__)("Email","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.user_email)},{name:(0,W.__)("Registered at","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.user_registered).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.user_registered).format("h:mm A"))),sortable:!0}];return(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:n,data:t,dataFetchingStatus:a,noDataText:(0,W.__)("No registration data was found to see the available list here."),showColumnFilter:!1,isRowSelectable:!1,showSubHeader:!1,suffix:"new-registered-student"}))},Vd=function({data:t,progressPendingStatus:a}){const n=[{name:(0,W.__)("Teacher","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("span",null,t.display_name))},{name:(0,W.__)("Email","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.user_email)},{name:(0,W.__)("Registered at","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.user_registered).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.user_registered).format("h:mm A"))),sortable:!0}];return(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:n,data:t,dataFetchingStatus:a,showColumnFilter:!1,noDataText:(0,W.__)("No registration data was found to see the available list here."),isRowSelectable:!1,showSubHeader:!1,suffix:"new-registered-teachers"}))},Ud=function({data:t}){const a=[{name:(0,W.__)("Course Name","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",{className:"academy-table-title",dangerouslySetInnerHTML:{__html:t.post_title}}))},{name:(0,W.__)("Total Enrolled","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.enrolled_count)},{name:(0,W.__)("Average Reviews","academy"),cell:t=>(0,e.createElement)("div",{className:"average-reviews"},t?.reviews?.rating_avg,"(",t?.reviews?.rating_count,")"),sortable:!0},{name:(0,W.__)("Go Link","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)(lu,{type:"link",target:"_blank",suffix:"link-btn",link:t.permalink,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}),preset:"transparent"}))}];return(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:a,data:t,showColumnFilter:!1,noDataText:(0,W.__)("No data was found to see the available list here."),isRowSelectable:!1,showSubHeader:!1,suffix:"popular-course"}))},Wd=function({data:t,progressPendingStatus:a}){const n=[{name:(0,W.__)("Course","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("span",null,t?.course?.title))},{name:(0,W.__)("Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.comment_date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.comment_date).format("h:mm A")))},{name:(0,W.__)("Student","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.comment_author)},{name:(0,W.__)("Feedback","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("div",null,t.rating),(0,e.createElement)("div",null,t.comment_content)),sortable:!0},{name:(0,W.__)("Go Link","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)(lu,{type:"link",target:"_blank",suffix:"link-btn",link:t?.course?.permalink,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}),preset:"transparent"}))}];return(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:n,data:t,dataFetchingStatus:a,noDataText:(0,W.__)("No reviews were found to see the available list here."),showColumnFilter:!1,isRowSelectable:!1,showSubHeader:!1,suffix:"recent-review"}))},Gd=function(){const t=An((e=>e.analytics)),a=zn(),[n,r]=(0,e.useState)(!1);(0,e.useEffect)((()=>{Sa&&!t.popular_courses&&a((async e=>{try{await nn({action:"academy_pro_advanced_analytics/get_popular_courses"}).then((t=>(e({type:Zn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}))}),[]);const i=t=>{switch(t){case"popular_courses":return(0,e.createElement)("span",null,(0,W.__)("Popular Courses","academy")," ",!Sa&&(0,e.createElement)(Jc,null));case"enrolled_courses":return(0,e.createElement)("span",null,(0,W.__)("Last Enrolled Course","academy")," ",!Sa&&(0,e.createElement)(Jc,null));case"recent_reviews":return(0,e.createElement)("span",null,(0,W.__)("Recent Reviews","academy")," ",!Sa&&(0,e.createElement)(Jc,null));case"registered_students":return(0,e.createElement)("span",null,(0,W.__)("New Reg. Students","academy")," ",!Sa&&(0,e.createElement)(Jc,null));case"registered_teachers":return(0,e.createElement)("span",null,(0,W.__)("New Reg. Instructors","academy")," ",!Sa&&(0,e.createElement)(Jc,null))}},s=[{name:"popular_course",title:i("popular_courses"),className:"academy-tab-link academy-tab-link--earnings "+(Sa?"academy-pro-active":"academy-pro-not-active"),content:(0,e.createElement)(Ud,{data:t.popular_courses?t.popular_courses:[]})},{name:"enrolled_courses",title:i("enrolled_courses"),className:"academy-tab-link academy-tab-link--enrolled "+(Sa?"academy-pro-active":"academy-pro-not-active"),content:(0,e.createElement)(Hd,{data:t.enrolled_courses?t.enrolled_courses:[],progressPendingStatus:n})},{name:"recent_reviews",title:i("recent_reviews"),className:"academy-tab-link academy-tab-link--refunds "+(Sa?"academy-pro-active":"academy-pro-not-active"),content:(0,e.createElement)(Wd,{data:t.recent_reviews?t.recent_reviews:[],progressPendingStatus:n})},{name:"registered_students",title:i("registered_students"),className:"academy-tab-link academy-tab-link--discount "+(Sa?"academy-pro-active":"academy-pro-not-active"),content:(0,e.createElement)($d,{data:t.students?t.students:[],progressPendingStatus:n})},{name:"registered_teachers",title:i("registered_teachers"),className:"academy-tab-link academy-tab-link--discount "+(Sa?"academy-pro-active":"academy-pro-not-active"),content:(0,e.createElement)(Vd,{data:t.instructors?t.instructors:[],progressPendingStatus:n})}];return(0,e.createElement)(eu.TabPanel,{className:"academy-list-tabs",activeClass:"academy-tab-link--selected",tabs:s,onSelect:e=>{if(Sa||"popular_course"===e)switch(e){case"enrolled_courses":t?.enrolled_courses||(r(!0),a((async e=>{try{await nn({action:"academy_pro_advanced_analytics/recent_enrolled_courses"}).then((t=>(e({type:Qn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}})).then((()=>r(!1))));break;case"recent_reviews":t?.recent_reviews||(r(!0),a((async e=>{try{await nn({action:"academy_pro_advanced_analytics/recent_reviews"}).then((t=>(e({type:Xn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}})).then((()=>r(!1))));break;case"registered_students":t?.students||(r(!0),a((async e=>{try{await nn({action:"academy_pro_advanced_analytics/recent_students"}).then((t=>(e({type:Jn,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}})).then((()=>r(!1))));break;case"registered_teachers":t?.instructors||(r(!0),a((async e=>{try{await nn({action:"academy_pro_advanced_analytics/recent_instructors"}).then((t=>(e({type:er,payload:t.data.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}})).then((()=>r(!1))))}else Sa||a(au(!0))}},(t=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:Sa?"academy-chart-tab-content":"academy-overlay-wrapper"},t.content,!Sa&&(0,e.createElement)(Yc,null)))))},Yd=function(){const a=An((e=>e.addons)),n=An((e=>e.analytics)),r=ln(a,"advanced-analytics",!0);return(0,e.createElement)(t().Fragment,null,n.enrolled_info?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lr,null),(0,e.createElement)("div",{className:"academy-charts"},(0,e.createElement)(nu,null)),(!Sa||r)&&(0,e.createElement)("div",{className:"academy-list-table-tab"},(0,e.createElement)(Gd,null))):(0,e.createElement)(wd,null))},Kd={title:Zc().string,isOpen:Zc().bool,onRequestClose:Zc().func,isFullScreen:Zc().bool,disableFooter:Zc().bool,disableButtonCancel:Zc().bool,shouldCloseOnClickOutside:Zc().bool,buttonCancel:Zc().object,buttonUpdate:Zc().object,style:Zc().object,suffix:Zc().string,size:Zc().string};function Zd({title:a,isOpen:n,onRequestClose:r,children:i,isFullScreen:s,size:o,suffix:l,shouldCloseOnClickOutside:c}){return(0,e.createElement)(t().Fragment,null,n&&(0,e.createElement)(eu.Modal,{title:a,onRequestClose:r,contentLabel:a,isFullScreen:s,shouldCloseOnClickOutside:c,className:`academy-wp-modal academy-wp-modal--${o} ${l&&" academy-wp-modal--"+l}`},(0,e.createElement)("div",{className:"academy-wp-modal__content"},i)))}Zd.propTypes=Kd,Zd.defaultProps={title:"",isOpen:!1,onRequestClose:()=>{},disableFooter:!1,isFullScreen:!1,shouldCloseOnClickOutside:!1,disableButtonCancel:!1,style:{overlay:{background:"rgba(35, 40, 45, 0.62)",zIndex:9999},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",width:"50%",marginRight:"-50%",padding:0,transform:"translate(-50%, -50%)"}},size:"medium"};var Qd=function(e,t,a){var n=null,r=null,i=function(){n&&(clearTimeout(n),r=null,n=null)},s=function(){if(!t)return e.apply(this,arguments);var s=this,o=arguments,l=a&&!n;return i(),r=function(){e.apply(s,o)},n=setTimeout((function(){if(n=null,!l){var e=r;return r=null,e()}}),t),l?r():void 0};return s.cancel=i,s.flush=function(){var e=r;i(),e&&e()},s};const Xd={placeholder:Zc().string,onSearchHandler:Zc().func,defaultValue:Zc().string};function Jd({placeholder:a,onSearchHandler:n,defaultValue:r}){const[i,s]=(0,e.useState)(r);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-search-component"},(0,e.createElement)("span",{className:"academy-search-component__search academy-icon academy-icon--search"}),(0,e.createElement)("input",{id:"search",type:"text",className:"academy-search-component__input academy-input",placeholder:a,value:i,onChange:e=>(e=>{s(e);const t=Qd((e=>{n(e)}),500);null!==e&&t(e)})(e.target.value)}),i&&(0,e.createElement)("button",{onClick:()=>{i&&(s(""),n(""))},className:"academy-search-component__control"},(0,e.createElement)("span",{className:"academy-icon academy-icon--close-small"}))))}Jd.propTypes=Xd,Jd.defaultProps={placeholder:"Search...",defaultValue:"",onSearchHandler:()=>{}};const em=({title:t,data:a,notDocsFound:n})=>(0,e.createElement)("div",{className:"academy-get-help-list"},(0,e.createElement)("span",{className:"academy-get-help-list__title"},t,a.length>0&&(0,e.createElement)("span",null," (",a.length,") ")),a.length>0?(0,e.createElement)("ul",{className:"academy-get-help-list__list-items"},a.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-docs-title"},cn(t.title,40)),(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"})))))):(0,e.createElement)("div",{className:"academy-item-center"},(0,e.createElement)("div",{className:"academy-item-center--linear"},(0,e.createElement)("span",{className:"academy-icon academy-icon--search"})),(0,e.createElement)("span",{className:"academy-item-center__title"},n))),tm=({isOpen:t,closeModal:a,searchText:n,setSearchText:r,relatedData:i,commonData:s,searchedData:o})=>(0,e.createElement)(Zd,{isOpen:t,title:(0,W.__)("Help","academy"),suffix:"help",onRequestClose:a,contentLabel:(0,W.__)("Need Help?","academy"),shouldCloseOnClickOutside:!0},(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-left"}),onClick:a,suffix:"close-modal"}),(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Docs","academy"),onSearchHandler:e=>r(e.trim()),value:n,searchText:n,setSearchText:r}),0===n.length?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(em,{title:(0,W.__)("Related Docs","academy"),data:i,notDocsFound:(0,W.__)("No Related docs available","academy")}),(0,e.createElement)(em,{title:(0,W.__)("Common Docs","academy"),data:s,notDocsFound:(0,W.__)("No Related docs available","academy")})):(0,e.createElement)(em,{title:(0,W.__)("Search Results","academy"),data:o,notDocsFound:(0,W.__)("No results found!","academy")})),am=[{title:(0,W.__)("How to use Advanced Analytics","academy"),link:"https://academylms.net/docs/how-to-use-advanced-analytics/",tags:"analytics, advance"},{title:(0,W.__)("How to create course","academy"),link:"https://academylms.net/docs/how-to-create-course/",tags:"course, create "},{title:(0,W.__)("How to create lesson","academy"),link:"https://academylms.net/docs/how-to-create-lesson/",tags:"lesson, create"},{title:(0,W.__)("Automatic WooCommerce Product Creation","academy"),link:"https://academylms.net/docs/automatic-woocommerce-product-creation/",tags:"woocommerce, product"},{title:(0,W.__)("Announcement And QA Section Disabling","academy"),link:"https://academylms.net/docs/announcement-and-qa-section-disabling/",tags:"announcement, disable, q&a, disable"},{title:(0,W.__)("Academy LMS Public Course Explanation","academy"),link:"https://academylms.net/docs/academy-lms-public-course-explanation/",tags:"course, public"},{title:(0,W.__)("How to use Content Drip","academy"),link:"https://academylms.net/docs/how-to-use-content-drip/",tags:"course, drip, content"},{title:(0,W.__)("Course Prerequisites","academy"),link:"https://academylms.net/docs/course-prerequisites/",tags:"course, prerequisites"},{title:(0,W.__)("How to embed Canva design in Academy LMS","academy"),link:"https://academylms.net/docs/how-to-embed-canva-design-in-academy-lms/",tags:"canva, design"},{title:(0,W.__)("How to use Academy LMS quiz builder","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-quiz-builder/",tags:"quiz, builder"},{title:(0,W.__)("How to use Zoom Integration in Academy LMS","academy"),link:"https://academylms.net/docs/how-to-use-zoom-integration-in-academy-lms/",tags:"zoom, setup"},{title:(0,W.__)("Academy LMS Tutor Booking","academy"),link:"https://academylms.net/docs/academy-lms-tutor-booking/",tags:"tutor, booking"},{title:(0,W.__)("How to use Academy LMS Assignment","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-assignment/",tags:"assignment"},{title:(0,W.__)("How to ask questions from teachers","academy"),link:"https://academylms.net/docs/how-to-ask-questions-from-teachers/",tags:"q&a, question, teacher"},{title:(0,W.__)("Money management","academy"),link:"https://academylms.net/docs/academy-lms-money-management/",tags:"money, management"},{title:(0,W.__)("How to Set a Course Expiration Date","academy"),link:"https://academylms.net/docs/how-to-set-expire-enrollment/",tags:"course, expire, enrollment, expiration"},{title:(0,W.__)("How to use Academy Certificate Builder","academy"),link:"https://academylms.net/docs/how-to-use-academy-certificate-builder/",tags:"certificate, builder"},{title:(0,W.__)("How to add Global Announcement","academy"),link:"https://academylms.net/docs/global-announcement-usage/",tags:"global, announcement"},{title:(0,W.__)("How to use the Multi Instructor addon","academy"),link:"https://academylms.net/docs/how-to-use-the-multi-instructor-addon/",tags:"multi , instructor, addon"},{title:(0,W.__)("How to complete a lesson","academy"),link:"https://academylms.net/docs/how-to-complete-a-lesson/",tags:"lesson, complete"},{title:(0,W.__)("How to complete a course","academy"),link:"https://academylms.net/docs/how-to-complete-a-course/",tags:"course, complete"},{title:(0,W.__)("How to get announcements from teachers","academy"),link:"https://academylms.net/docs/how-to-get-announcements-from-teachers/",tags:"announcement, teacher, instructor"},{title:(0,W.__)("How to download certificates","academy"),link:"https://academylms.net/docs/how-to-download-certificates/",tags:"certificate, download"},{title:(0,W.__)("How to access my courses","academy"),link:"https://academylms.net/docs/how-to-access-my-courses/",tags:"course"},{title:(0,W.__)("How to enroll in a free course","academy"),link:"https://academylms.net/docs/how-to-enroll-in-a-free-course/",tags:"course, free, enroll"},{title:(0,W.__)("How to enroll in a paid course","academy"),link:"https://academylms.net/docs/how-to-enroll-in-a-paid-course/",tags:"paid, course"},{title:(0,W.__)("How to use/active Academy LMS addons?","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-addons/",tags:"addon, active "},{title:(0,W.__)("How to re-generate pages","academy"),link:"https://academylms.net/docs/how-to-re-generate-pages/",tags:"regenerate, pages"},{title:(0,W.__)("How use Academy LMS Shortcode","academy"),link:"https://academylms.net/docs-category/shortcodes/",tags:"shortcode"},{title:(0,W.__)("How to use reCAPTCHA","academy"),link:"https://academylms.net/docs/how-to-use-recaptcha/",tags:"recaptcha, setting"},{title:(0,W.__)("How to Activate Academy LMS License","academy"),link:"https://academylms.net/docs/how-to-activate-academy-lms-license/",tags:"license, activate"},{title:(0,W.__)("How to use Academy LMS manual enrollment","academy"),link:"https://academylms.net/docs/academy-lms-manual-enrollment/",tags:"student, enrollment, manual"},{title:(0,W.__)("Bulk Instructor Import From CSV File","academy"),link:"https://academylms.net/docs/bulk-instructor-import-from-csv-file/",tags:"bulk, instructor, import"},{title:(0,W.__)("Lesson Export/Import","academy"),link:"https://academylms.net/docs/academy-lms-email-settings/",tags:"lesson, import, export"},{title:(0,W.__)("Quiz Export/Import","academy"),link:"https://academylms.net/docs/quiz-export-import/",tags:"quizzes, import, export"},{title:(0,W.__)("Course grid shortcode","academy"),link:"https://academylms.net/docs/course-grid-shortcode/",tags:"course, shortcode"},{title:(0,W.__)("Login shortcode","academy"),link:"https://academylms.net/docs/login-shortcode/",tags:"shortcode, login"},{title:(0,W.__)("How to use Academy LMS dashboard shortcode?","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-dashboard-shortcode/",tags:"shortcode, dashboard"},{title:(0,W.__)("How to use Academy LMS PDF shortcode?","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-pdf-shortcode/",tags:"shortcode"},{title:(0,W.__)("How to Use Academy LMS student registration shortcode?","academy"),link:"https://academylms.net/docs/how-to-use-student-registration-shortcode/",tags:"student, shortcode, registration"},{title:(0,W.__)("How to use Academy LMS instructor registration shortcode?","academy"),link:"https://academylms.net/docs/how-to-use-instructor-registration-shortcode/",tags:"instructor, registration, shortcode"},{title:(0,W.__)("How to use Academy LMS search shortcode?","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-search-shortcode/",tags:"shortcode, search"},{title:(0,W.__)("Enroll Form Shortcode","academy"),link:"https://academylms.net/docs/enroll-form-shortcode/",tags:"shortcode, enroll"},{title:(0,W.__)("Course Filter Shortcode","academy"),link:"https://academylms.net/docs/course-filter-shortcode/",tags:"shortcode, course, filter"},{title:(0,W.__)("How to use Email Notification?","academy"),link:"https://academylms.net/docs/academy-lms-email-settings/",tags:"setting, notification"},{title:(0,W.__)("How to Use White Label Addon?","academy"),link:"https://academylms.net/docs/how-to-use-white-label-addon/",tags:"addon, setting, white label"},{title:(0,W.__)("How to Use SCORM Content in Academy LMS?","academy"),link:"https://academylms.net/docs/how-to-use-scorm-content-in-academy-lms/",tags:"addon, course, scorm, xapi"},{title:(0,W.__)("How to Use Academy LMS migration tool?","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-migration-tool/",tags:"migration, addon"},{title:(0,W.__)("How to Use Academy LMS form builder?","academy"),link:"https://academylms.net/docs/how-to-use-academy-lms-form-builder/",tags:"form builder, setting"}],nm=({filterText:t})=>{const a=An((e=>e.addons)),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(""),o=am.filter((e=>{const a=t.some((t=>e.title.toLowerCase().includes(t.toLowerCase()))),n=t.some((t=>e.tags.toLowerCase().includes(t.toLowerCase())));return a||n})),l=am.filter((e=>{const a=t.some((t=>e.title.toLowerCase().includes(t.toLowerCase()))),n=t.some((t=>e.tags.toLowerCase().includes(t.toLowerCase())));return!a||!n})),c=am.filter((e=>!(!e.title.toLowerCase().includes(i.toLowerCase())&&!e.tags.includes(i.toLowerCase()))&&e));return(0,e.createElement)(e.Fragment,null,!ln(a,"white-label",!0)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{className:"academy-get-help-text",onClick:()=>r(!0),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--questions"}),label:(0,e.createElement)(e.Fragment,null," ",(0,e.createElement)("b",null,(0,W.__)("Got Stuck!"))," ",(0,e.createElement)("span",null,(0,W.__)("Find instant answer")))}),(0,e.createElement)("div",{className:"academy-ripple-effect"},(0,e.createElement)("div",{className:"academy-ripple-effect-container"},(0,e.createElement)("div",{className:"academy-ripple-effect-rain"},(0,e.createElement)("div",{className:"academy-ripple-effect-waves"},(0,e.createElement)("div",null),(0,e.createElement)("div",null)))))),(0,e.createElement)(tm,{isOpen:n,closeModal:()=>{r(!1),s("")},searchText:i,setSearchText:s,relatedData:o,commonData:l,searchedData:c}))},rm="fetch_all_notifications",im="fetch_mark_as_read_notifications",sm="fetch_mark_as_unread_notifications",om="delete_notifications",lm=()=>async e=>{try{return await nn({action:"academy_pro_notifications/frontend/render_notifications"}).then((t=>(e({type:rm,payload:t.data.data}),t.data.data)))}catch(e){dn(e)}},cm=e=>async t=>{try{return await nn({action:"academy_pro_notifications/frontend/mark_as_read_notifications",ID:e}).then((e=>(t({type:im,payload:e.data}),on((0,W.__)("Notification reding done ","academy"),"success"),e)))}catch(e){dn(e)}},um=e=>async t=>{try{return await nn({action:"academy_pro_notifications/frontend/mark_as_unread_notifications",ID:e}).then((e=>(t({type:sm,payload:e.data}),on((0,W.__)("Notification Unread ","academy"),"success"),e)))}catch(e){dn(e)}},dm=e=>async t=>{try{await nn({action:"academy_pro_notifications/frontend/delete_notifications",ID:e}).then((a=>(t({type:om,payload:e}),on((0,W.__)("Notification Deleted","academy"),"success"),a)))}catch(e){dn(e)}},mm=()=>{const t=An((e=>e.addons)),[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),s=An((e=>e.notifications)),o=zn(),l=s.data&&s.data?.reduce(((e,t)=>("UNREAD"===t.status&&e.push(t),e)),[]);(0,e.useEffect)((()=>{(!s.data||s.data&&s.data.length<=1)&&(i(!0),o(lm()).then((()=>{i(!1)})))}),[]);const c=(e,t=!1)=>{t?e.forEach((e=>{o(cm(e.ID)).then((()=>{i(!0),o(lm()).then((()=>{i(!1)}))}))})):o(cm(e.ID)).then((()=>{i(!0),o(lm()).then((()=>{i(!1)}))}))},u=(e,t=!1)=>{t?e.forEach((e=>{o(um(e.ID)).then((()=>{i(!0),o(lm()).then((()=>{i(!1)}))}))})):o(um(e.ID)).then((()=>{i(!0),o(lm()).then((()=>{i(!1)}))}))},d=(e,t=!1)=>{t?e.forEach((e=>{o(dm(e.ID)).then((()=>{i(!0),o(lm()).then((()=>{i(!1)}))}))})):o(dm(e.ID)).then((()=>{i(!0),o(lm()).then((()=>{i(!1)}))}))};return(0,e.createElement)(e.Fragment,null,ln(t,"notifications",!0)&&(0,e.createElement)(lu,{className:"academy-get-notification",onClick:()=>n(!0),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--notification"}),label:`${l?.length>0?l?.length:""}`}),(0,e.createElement)(Zd,{isOpen:a,title:(0,W.__)("Notifications","academy"),suffix:"notification",onRequestClose:()=>{n(!1)},contentLabel:(0,W.__)("Notifications","academy"),shouldCloseOnClickOutside:!0},(0,e.createElement)(ld,{icon:"three-dots-menu",suffix:"notification",options:[{type:"button",label:(0,W.__)("Mark all as read","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>c(s?.data,!0)},{type:"button",label:(0,W.__)("Mark all as unread","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>u(s?.data,!0)},{type:"button",label:(0,W.__)("Delete all","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash"}),onClick:()=>d(s?.data,!0)}]}),(0,e.createElement)(e.Fragment,null,r?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,s.data&&s?.data.length>0?(0,e.createElement)(e.Fragment,null,s?.data?.map(((t,a)=>(0,e.createElement)("div",{className:"academy-notification-card",key:a},(0,e.createElement)("div",{className:"notification-item"},(0,e.createElement)("div",{className:"notification-item__content"},(0,e.createElement)("div",{className:"notification-item__title"},(0,e.createElement)("h5",null,t.title),(0,e.createElement)("span",{className:`academy-notification-time ${"UNREAD"===t.status&&"academy-notification-unread"}`},iu()(t.created_at).fromNow())),(0,e.createElement)("span",{className:"notification-item__message"},t.content)),(0,e.createElement)(ld,{icon:"three-dots-menu",suffix:"item-notification",options:[{type:"button",label:(0,W.__)("View","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}),onClick:()=>{c(t),window.open(t.topic_url,"_blank")}},{type:"button",label:(0,W.__)("Mark as read","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>c(t)},{type:"button",label:(0,W.__)("Mark as unread","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>u(t)},{type:"button",label:(0,W.__)("Delete","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash"}),onClick:()=>d(t)}]})))))):(0,e.createElement)("p",{className:"academy-notification-data"},(0,W.__)("No notification available","academy"))))))},pm="toggle_frontend_collapsible_menu",fm="toggle_frontend_responsive_menu",hm=e=>t=>{t({type:pm,payload:e})},ym=e=>t=>{t({type:fm,payload:e})},_m={label:Zc().string,render:Zc().func,rightContent:Zc().func};function gm(a){const n=An((e=>e.user)),r=zn(),[i,s]=(0,e.useState)(!!n.is_frontend_responsive_menu&&n.is_frontend_responsive_menu),o=document.querySelector("#academyFrontendDashWrap");return(0,e.useEffect)((()=>{function e(){window.innerWidth<769?s(!0):s(!1)}return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[r]),(0,e.createElement)(t().Fragment,null,Ca&&(0,e.createElement)("div",{className:"academy-topbar"},(0,e.createElement)("div",{className:"academy-topbar__entry-left"},Ca?(0,e.createElement)("img",{className:"academy-entry-icon",src:ja,alt:(0,W.__)("logo","academy")}):(0,e.createElement)(e.Fragment,null,i?(0,e.createElement)("div",{className:"academy-frontend-menu "+(n.is_frontend_responsive_menu?"academy-frontend-menu--close":"academy-frontend-menu--open"),role:"presentation",onClick:()=>{r(ym(!n.is_frontend_responsive_menu))}},(0,e.createElement)("span",{className:"academy-icon academy-icon--menu"})):(0,e.createElement)("div",{className:"academy-collapsible-menu "+(n.is_frontend_collapsible_menu?"academy-collapsible-menu--close":"academy-collapsible-menu--open"),role:"presentation",onClick:()=>{r(hm(!n.is_frontend_collapsible_menu))}},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-"+(n.is_frontend_collapsible_menu?"right":"left")}))),a.render(),o&&(0,e.createElement)(mm,null)),(0,e.createElement)("div",{className:"academy-topbar__entry-right"},a.rightContent())))}function bm({heading:a,children:n}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-sub-top-header"},(0,e.createElement)("div",{className:"academy-sub-top-header__title"},a),(0,e.createElement)("div",{className:"academy-sub-top-header__content"},n)))}gm.propTypes=_m,gm.defaultProps={label:"",render:()=>{},rightContent:()=>{}},bm.propTypes={},bm.defaultProps={};const vm=({tabHandler:t})=>{const a=An((e=>e.addons)),n=ln(a,"advanced-analytics",!0),[r,i]=(0,e.useState)("overview"),s=!Sa||n?[{value:"overview",label:(0,W.__)("Overview","academy")},{value:"courses",label:(0,W.__)("Courses","academy"),isDisabled:!Sa,isPro:Sa},{value:"students",label:(0,W.__)("Students","academy"),isDisabled:!Sa,isPro:Sa}]:[];return(0,e.createElement)(bm,{heading:(0,W.__)("Overview","academy")},n&&(0,e.createElement)("div",{className:"academy-dashboard-select"},(0,e.createElement)(Pd,{className:"academy-select academy-select--time-format",suffix:"dashboard-select",options:s,value:s.find((e=>e.value===r)),onChangeHandler:e=>{t(e),i(e)}})))},Em=function({data:t}){const a=An((e=>e.addons)),{number_of_assignments:n,number_of_enrolled:r,number_of_instructors:i,number_of_lessons:s,number_of_questions:o,number_of_quizzes:l,number_of_zoom_meetings:c,number_of_tutor_bookings:u,number_of_reviews:d}=t,m=ln(a,"quizzes")?[{label:(0,W.__)("Total Quizzes","academy"),subLabel:"",value:l||0,icon:"academy-icon academy-icon--quiz-fill",isAddonActive:ln(a,"quizzes",!1),color:"quiz"}]:[],p=ln(a,"assignments")?[{label:(0,W.__)("Total Assignments","academy"),subLabel:"",value:n||0,icon:"academy-icon academy-icon--assignment-two",isAddonActive:ln(a,"assignments",!1),color:"course"}]:[],f=ln(a,"multi_instructor")?[{label:(0,W.__)("Instructors","academy"),subLabel:"",value:i||0,icon:"academy-icon academy-icon--multi-instructor",color:"students",isAddonActive:!0}]:[],h=ln(a,"tutor-booking")?[{label:(0,W.__)("Tutor Booking","academy"),subLabel:"",value:u||0,icon:"academy-icon academy-icon--tutor-booking-fill",isAddonActive:ln(a,"tutor-booking",!1),color:"enrolled"}]:[],y=ln(a,"meeting")?[{label:(0,W.__)("Meeting","academy"),subLabel:"",value:c||0,icon:"academy-icon academy-icon--meeting",isAddonActive:ln(a,"meeting",!1),color:"quiz"}]:[],_=[{label:(0,W.__)("Lessons","academy"),subLabel:"",value:s||0,icon:"academy-icon academy-icon--lessons",color:"lesson",isAddonActive:!0},...m,...p,...h,...y,{label:(0,W.__)("Students","academy"),subLabel:"",value:r||0,icon:"academy-icon academy-icon--students-two",color:"instructor",isAddonActive:ln(a,"multi_instructor",!1)},...f,{label:(0,W.__)("Questions","academy"),subLabel:(0,W.__)("(Waiting for an Answer)","academy"),value:o||0,icon:"academy-icon academy-icon--questions-fill",color:"question",isAddonActive:!0},{label:(0,W.__)("Reviews","academy"),subLabel:"",value:d||0,icon:"academy-icon academy-icon--review-half",color:"review",isAddonActive:!0}];return(0,e.createElement)("div",{className:"academy-analytics-cards"},_.map(((t,a)=>(0,e.createElement)("div",{className:"academy-analytics-cards--card",key:a},(0,e.createElement)("div",{className:`academy-analytics-card--icon icon-${t.color}`},(0,e.createElement)("span",{className:t.icon})),(0,e.createElement)("div",{className:"academy-analytics-card--data"},(0,e.createElement)("h2",{className:"academy-analytics-card--value"},t.value),(0,e.createElement)("p",{className:"academy-analytics-card--label"},t.label," ",(0,e.createElement)("span",null,t.subLabel)))))))},wm=function({data:t}){const a=[{label:(0,W.__)("Enrolled Course","academy"),subLabel:"",value:t?.total_number_of_enrolled_course?t?.total_number_of_enrolled_course:0,icon:"academy-icon academy-icon--course-enrolled-two",color:"instructor",isAddonActive:!0},{label:(0,W.__)("Completed Course","academy"),subLabel:"",value:t?.total_number_of_complete_course?t?.total_number_of_complete_course:0,icon:"academy-icon academy-icon--certificate",color:"students",isAddonActive:!0},{label:(0,W.__)("In Progress Courses","academy"),subLabel:"",value:t?.total_number_of_inprogress_course?t?.total_number_of_inprogress_course:0,icon:"academy-icon academy-icon--students",color:"students",isAddonActive:!0},{label:(0,W.__)("Reviews","academy"),subLabel:"",value:t?.total_number_of_write_reviews?t?.total_number_of_write_reviews:0,icon:"academy-icon academy-icon--review-half",color:"review",isAddonActive:!0}];return(0,e.createElement)("div",{className:"academy-analytics-cards"},a.map(((t,a)=>(0,e.createElement)("div",{className:"academy-analytics-cards--card",key:a},(0,e.createElement)("div",{className:`academy-analytics-card--icon icon-${t.color}`},(0,e.createElement)("span",{className:t.icon})),(0,e.createElement)("div",{className:"academy-analytics-card--data"},(0,e.createElement)("h2",{className:"academy-analytics-card--value"},t.value),(0,e.createElement)("p",{className:"academy-analytics-card--label"},t.label," ",(0,e.createElement)("span",null,t.subLabel)))))))},xm=({ID:a})=>{const[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),o=An((e=>e.addons));(0,e.useEffect)((()=>{i||((e=1,t=10)=>{const n={page:e,per_page:t};r(!0),nn({action:"academy_pro_advanced_analytics/admin/get_student_details",student_id:parseInt(a),...n}).then((e=>{s(e.data.data),r(!1)}))})()}),[i]);const l=ln(o,"assignments")?[{name:(0,W.__)("Assignments","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_assignments}/${t?.completed_topics?.assignment?Object.keys(t?.completed_topics?.assignment)?.length:0}`)}]:[],c=ln(o,"quizzes")?[{name:(0,W.__)("Quizzes","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_quizzes}/${t?.completed_topics?.quiz?Object.keys(t?.completed_topics?.quiz)?.length:0}`)}]:[],u=ln(o,"tutor-booking")?[{name:(0,W.__)("Bookings","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_tutor_bookings}/${t?.completed_topics?.booking?Object.keys(t?.completed_topics?.booking)?.length:0}`)}]:[],d=ln(o,"meeting")?[{name:(0,W.__)("Meetings","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_zoom_meetings}/${t?.completed_topics?.zoom?Object.keys(t?.completed_topics?.zoom)?.length:0}`)}]:[],m=[{name:(0,W.__)("Course","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},t.title))},{name:(0,W.__)("Enroll Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,iu()(t.date).format("MMMM Do YYYY"))},{name:(0,W.__)("Lessons","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_lessons}/${t?.completed_topics?.lesson?Object.keys(t?.completed_topics?.lesson)?.length:0}`)},...c,...l,...u,...d,{name:(0,W.__)("Progress","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.progress_percentage)}];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(wm,{data:i}),(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:m,data:i?.enrolled_courses,showSubHeader:!1,isRowSelectable:!1,noDataText:(0,W.__)("No data was found to see the available list here."),showColumnFilter:!0,showPagination:!1,progressPending:n,suffix:"students-course-table"})))},Nm=({ID:t})=>{const[a,n]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{type:"button",preset:"purple",size:"sm",label:(0,W.__)("Details","academy"),onClick:()=>n(!a)}),(0,e.createElement)(fd,{isOpen:a,onRequestClose:()=>{n(!a)},title:(0,W.__)("Student Details","academy"),suffix:"analytics-student-details",size:"medium",isSmallAvailable:!1},(0,e.createElement)(xm,{ID:t})))},km=({ID:t})=>{const[a,n]=(0,e.useState)(!1),r=An((e=>e.analytics)),i=An((e=>e.addons)),s=zn(),o=r.courses.find((e=>parseInt(e.ID)===parseInt(t))),l=ln(i,"assignments")?[{name:(0,W.__)("Assignments","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_assignments}/${t?.completed_topics?.assignment?Object.keys(t?.completed_topics?.assignment)?.length:0}`)}]:[],c=ln(i,"quizzes")?[{name:(0,W.__)("Quizzes","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_quizzes}/${t?.completed_topics?.quiz?Object.keys(t?.completed_topics?.quiz)?.length:0}`)}]:[],u=ln(i,"tutor-booking")?[{name:(0,W.__)("Bookings","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_tutor_bookings}/${t?.completed_topics?.booking?Object.keys(t?.completed_topics?.booking)?.length:0}`)}]:[],d=ln(i,"meeting")?[{name:(0,W.__)("Meetings","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_zoom_meetings}/${t?.completed_topics?.zoom?Object.keys(t?.completed_topics?.zoom)?.length:0}`)}]:[];(0,e.useEffect)((()=>{o?.analytics_students||(n(!0),s(((e,t=1,a=10)=>async n=>{try{const r={page:t,per_page:a};await nn({action:"academy_pro_advanced_analytics/admin/get_students_by_course_id",course_id:parseInt(e),...r}).then((t=>(n({type:ar,payload:{courseId:parseInt(e),data:t.data.data,totalItems:parseInt(t.headers["x-wp-total"])}}),t)))}catch(e){var r;n(sr(null!==(r=e?.response?.data?.message)&&void 0!==r?r:e?.message,!0,"error"))}})(t)).then((()=>{n(!1)})))}),[o?.analytics_students]);const m=[{name:(0,W.__)("Student","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},cn(t.student_display_name)))},{name:(0,W.__)("Enroll Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,iu()(t.post_date).format("MMMM Do YYYY, h:mm:ss a"))},{name:(0,W.__)("Lessons","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,`${t.number_of_lessons}/${t?.completed_topics?.lesson?Object.keys(t?.completed_topics?.lesson)?.length:0}`)},...c,...l,...u,...d,{name:(0,W.__)("Progress","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.progress_percentage)},{name:(0,W.__)("Actions","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(Nm,{ID:t.student_ID}))}];return(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:m,data:o?.analytics_students?.data,showSubHeader:!1,isRowSelectable:!1,noDataText:(0,W.__)("No data was found to see the available list here."),showColumnFilter:!0,showPagination:!1,progressPending:a,suffix:"course-student-table"}))},Sm=({ID:t})=>{const[a,n]=(0,e.useState)(!1),r=An((e=>e.analytics)),i=zn(),s=r.courses.find((e=>parseInt(e.ID)===parseInt(t)));(0,e.useEffect)((()=>{s.analytics_instructors||(n(!0),i(((e,t=1,a=10)=>async n=>{try{const r={page:t,per_page:a};await nn({action:"academy_pro_advanced_analytics/admin/get_instructors_by_course_id",course_id:parseInt(e),...r}).then((t=>(n({type:nr,payload:{courseId:parseInt(e),data:t.data.data,totalItems:parseInt(t.headers["x-wp-total"])}}),t)))}catch(e){var r;n(sr(null!==(r=e?.response?.data?.message)&&void 0!==r?r:e?.message,!0,"error"))}})(t)).then((()=>{n(!1)})))}),[s?.analytics_instructors]);const o=[{name:(0,W.__)("Instructor","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},t.display_name))},{name:(0,W.__)("Courses","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.total_number_of_courses)},{name:(0,W.__)("Students","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.total_number_of_students)},{name:(0,W.__)("Rating","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t?.reviews.rating_avg||0," (",t?.reviews.rating_count," ",(0,W.__)("Reviews","academy"),")")}];return(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:o,data:s?.analytics_instructors?.data,showSubHeader:!1,isRowSelectable:!1,noDataText:(0,W.__)("No data was found to see the available list here."),showColumnFilter:!0,showPagination:!1,progressPending:a,suffix:"course-instructor-table"}))},Cm=({isOpen:t,onRequestClose:a,data:n})=>(0,e.createElement)(fd,{isOpen:t,onRequestClose:a,title:(0,W.__)("Course Details","academy"),suffix:"analytics-course-details",size:"medium",isSmallAvailable:!1},(0,e.createElement)(Em,{data:n}),(0,e.createElement)(km,{ID:n.ID}),(0,e.createElement)(Sm,{ID:n.ID})),Om=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1),i=An((e=>e.analytics)),s=zn(),o=An((e=>e.addons)),l=ln(o,"assignments")?[{name:(0,W.__)("Assignments","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.number_of_assignments)}]:[],c=ln(o,"quizzes")?[{name:(0,W.__)("Quizzes","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.number_of_quizzes)}]:[],u=ln(o,"tutor-booking")?[{name:(0,W.__)("Bookings","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.number_of_tutor_bookings)}]:[],d=ln(o,"tutor-booking")?[{name:(0,W.__)("Meetings","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.number_of_zoom_meetings)}]:[];(0,e.useEffect)((()=>{(!i.courses||i.courses&&i.courses.length<=1)&&(a(!0),s(((e=1,t=10)=>async a=>{try{const n={page:e,per_page:t};await nn({action:"academy_pro_advanced_analytics/admin/get_courses",...n}).then((e=>(a({type:tr,payload:{data:e.data.data,total_courses:parseInt(e.headers["x-wp-total"])}}),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}})()).then((()=>{a(!1)})))}),[]);const m=[{name:(0,W.__)("Course","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},cn(t.post_title),(0,e.createElement)("a",{href:t.guid,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}))))},{name:(0,W.__)("Lessons","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.number_of_lessons)},...c,...d,...u,...l,{name:(0,W.__)("Learners","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.number_of_enrolled)},{name:(0,W.__)("Earning","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t?.total_earnings?t?.total_earnings:t?.course_type)},{name:(0,W.__)("Action","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(Cm,{data:t}),(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Details","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--details"}),onClick:()=>(e=>{r(e)})(t)},{type:"submit",label:(0,W.__)("Export","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--export"}),action:`admin.php?page=academy&path=courses&exportType=course&id=${t.ID}&security=${ua}`,method:"POST"}]}))}];return(0,e.createElement)(e.Fragment,null,i.courses?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-list-wrap"},(0,e.createElement)(Bd,{columns:m,data:i.courses,showSubHeader:!1,isRowSelectable:!1,showColumnFilter:!0,showPagination:!1,progressPending:t,suffix:"analytics-course"})),n&&(0,e.createElement)(Cm,{isOpen:!!n,onRequestClose:()=>r(!1),data:n})):(0,e.createElement)(wd,null))},Im=()=>{const[a,n]=(0,e.useState)(!1),r=An((e=>e.analytics)),i=zn();(0,e.useEffect)((()=>{(!r.students||r.students&&r.students.length<=1)&&(n(!0),i(((e=1,t=10)=>async a=>{try{const n={page:e,per_page:t};await nn({action:"academy_pro_advanced_analytics/admin/get_students",...n}).then((e=>(a({type:rr,payload:{data:e.data.data,total_students:parseInt(e.headers["x-wp-total"])}}),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}})()).then((()=>{n(!1)})))}),[]);const s=[{name:(0,W.__)("Name","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title"},t.display_name)},{name:(0,W.__)("Email","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.user_email)},{name:(0,W.__)("Registration Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,iu()(t.user_registered).format("MMMM Do YYYY, h:mm:ss a"))},{name:(0,W.__)("Course Taken","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.total_number_of_course_taken)},{name:(0,W.__)("Action","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(Nm,{ID:t.ID}),(0,e.createElement)(ld,{options:[{type:"submit",label:(0,W.__)("Export","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--export"}),action:`admin.php?page=academy&path=students&exportType=students&id=${t.ID}&security=${ua}`,method:"POST"}]}))}];return(0,e.createElement)(t().Fragment,null,r.students?(0,e.createElement)(Bd,{columns:s,data:r.students,showSubHeader:!1,isRowSelectable:!1,noDataText:(0,W.__)("No data was found to see the available list here."),showColumnFilter:!0,showPagination:!1,progressPending:a,suffix:"analytics-students"}):(0,e.createElement)(wd,null))},Am=()=>{const a=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}().get("path"),[n,r]=(0,e.useState)(null!==a?a:"overview"),i=An((e=>e.analytics)),s=zn(),o=P();return(0,e.useEffect)((()=>{i.enrolled_info&&i.total_courses||s(or())}),[]),(0,e.useEffect)((()=>{o(`${_a}admin.php?page=academy${null!==a?`&path=${n}`:""}`,{replace:!0}),r(n)}),[a]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)("div",{className:"academy-topbar__left-items"},(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Dashboard","academy")),(0,e.createElement)(nm,{filterText:["analytics"]}))}),(0,e.createElement)(vm,{tabHandler:e=>{o(`${_a}admin.php?page=academy${"overview"!==e?`&path=${e}`:""}`,{replace:!0}),r(e)},tab:n}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--analytics"},"overview"===n&&(0,e.createElement)(Yd,null),"courses"===n&&(0,e.createElement)(Om,null),"students"===n&&(0,e.createElement)(Im,null)))};var Tm=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Pm}(e)}(e)},Pm="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Mm(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Fm((a=e,Array.isArray(a)?[]:{}),e,t):e;var a}function Dm(e,t,a){return e.concat(t).map((function(e){return Mm(e,a)}))}function Fm(e,t,a){(a=a||{}).arrayMerge=a.arrayMerge||Dm,a.isMergeableObject=a.isMergeableObject||Tm;var n=Array.isArray(t);return n===Array.isArray(e)?n?a.arrayMerge(e,t,a):function(e,t,a){var n={};return a.isMergeableObject(e)&&Object.keys(e).forEach((function(t){n[t]=Mm(e[t],a)})),Object.keys(t).forEach((function(r){a.isMergeableObject(t[r])&&e[r]?n[r]=Fm(e[r],t[r],a):n[r]=Mm(t[r],a)})),n}(e,t,a):Mm(t,a)}Fm.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,a){return Fm(e,a,t)}),{})};const Rm=Fm;var Lm=a(8630),qm=a.n(Lm),jm=a(9590),zm=a.n(jm);const Bm=function(e,t){};var Hm=a(6678),$m=a.n(Hm),Vm=a(84),Um=a.n(Vm),Wm=a(361),Gm=a.n(Wm);function Ym(){return Ym=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ym.apply(this,arguments)}function Km(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function Zm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qm=(0,e.createContext)(void 0);Qm.displayName="FormikContext";var Xm=Qm.Provider,Jm=Qm.Consumer;function ep(){var t=(0,e.useContext)(Qm);return t||Bm(!1),t}var tp=function(e){return Array.isArray(e)&&0===e.length},ap=function(e){return"function"==typeof e},np=function(e){return null!==e&&"object"==typeof e},rp=function(e){return String(Math.floor(Number(e)))===e},ip=function(e){return"[object String]"===Object.prototype.toString.call(e)},sp=function(t){return 0===e.Children.count(t)},op=function(e){return np(e)&&ap(e.then)};function lp(e,t,a,n){void 0===n&&(n=0);for(var r=Um()(t);e&&n<r.length;)e=e[r[n++]];return n===r.length||e?void 0===e?a:e:a}function cp(e,t,a){for(var n=$m()(e),r=n,i=0,s=Um()(t);i<s.length-1;i++){var o=s[i],l=lp(e,s.slice(0,i+1));if(l&&(np(l)||Array.isArray(l)))r=r[o]=$m()(l);else{var c=s[i+1];r=r[o]=rp(c)&&Number(c)>=0?[]:{}}}return(0===i?e:r)[s[i]]===a?e:(void 0===a?delete r[s[i]]:r[s[i]]=a,0===i&&void 0===a&&delete n[s[i]],n)}function up(e,t,a,n){void 0===a&&(a=new WeakMap),void 0===n&&(n={});for(var r=0,i=Object.keys(e);r<i.length;r++){var s=i[r],o=e[s];np(o)?a.get(o)||(a.set(o,!0),n[s]=Array.isArray(o)?[]:{},up(o,t,a,n[s])):n[s]=t}return n}var dp={},mp={};function pp(t){var a=t.validateOnChange,n=void 0===a||a,r=t.validateOnBlur,i=void 0===r||r,s=t.validateOnMount,o=void 0!==s&&s,l=t.isInitialValid,c=t.enableReinitialize,u=void 0!==c&&c,d=t.onSubmit,m=Km(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=Ym({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:d},m),f=(0,e.useRef)(p.initialValues),h=(0,e.useRef)(p.initialErrors||dp),y=(0,e.useRef)(p.initialTouched||mp),_=(0,e.useRef)(p.initialStatus),g=(0,e.useRef)(!1),b=(0,e.useRef)({});(0,e.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var v=(0,e.useState)(0)[1],E=(0,e.useRef)({values:p.initialValues,errors:p.initialErrors||dp,touched:p.initialTouched||mp,status:p.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=E.current,x=(0,e.useCallback)((function(e){var t=E.current;E.current=function(e,t){switch(t.type){case"SET_VALUES":return Ym({},e,{values:t.payload});case"SET_TOUCHED":return Ym({},e,{touched:t.payload});case"SET_ERRORS":return zm()(e.errors,t.payload)?e:Ym({},e,{errors:t.payload});case"SET_STATUS":return Ym({},e,{status:t.payload});case"SET_ISSUBMITTING":return Ym({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Ym({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Ym({},e,{values:cp(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Ym({},e,{touched:cp(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Ym({},e,{errors:cp(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Ym({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Ym({},e,{touched:up(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Ym({},e,{isSubmitting:!1});default:return e}}(t,e),t!==E.current&&v((function(e){return e+1}))}),[]),N=(0,e.useCallback)((function(e,t){return new Promise((function(a,n){var r=p.validate(e,t);null==r?a(dp):op(r)?r.then((function(e){a(e||dp)}),(function(e){n(e)})):a(r)}))}),[p.validate]),k=(0,e.useCallback)((function(e,t){var a=p.validationSchema,n=ap(a)?a(t):a,r=t&&n.validateAt?n.validateAt(t,e):function(e,t,a,n){void 0===a&&(a=!1);var r=hp(e);return t[a?"validateSync":"validate"](r,{abortEarly:!1,context:r})}(e,n);return new Promise((function(e,t){r.then((function(){e(dp)}),(function(a){"ValidationError"===a.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return cp(t,e.path,e.message);var a=e.inner,n=Array.isArray(a),r=0;for(a=n?a:a[Symbol.iterator]();;){var i;if(n){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}var s=i;lp(t,s.path)||(t=cp(t,s.path,s.message))}}return t}(a)):t(a)}))}))}),[p.validationSchema]),S=(0,e.useCallback)((function(e,t){return new Promise((function(a){return a(b.current[e].validate(t))}))}),[]),C=(0,e.useCallback)((function(e){var t=Object.keys(b.current).filter((function(e){return ap(b.current[e].validate)})),a=t.length>0?t.map((function(t){return S(t,lp(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(a).then((function(e){return e.reduce((function(e,a,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===a||a&&(e=cp(e,t[n],a)),e}),{})}))}),[S]),O=(0,e.useCallback)((function(e){return Promise.all([C(e),p.validationSchema?k(e):{},p.validate?N(e):{}]).then((function(e){var t=e[0],a=e[1],n=e[2];return Rm.all([t,a,n],{arrayMerge:yp})}))}),[p.validate,p.validationSchema,C,N,k]),I=gp((function(e){return void 0===e&&(e=w.values),x({type:"SET_ISVALIDATING",payload:!0}),O(e).then((function(e){return g.current&&(x({type:"SET_ISVALIDATING",payload:!1}),x({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){o&&!0===g.current&&zm()(f.current,p.initialValues)&&I(f.current)}),[o,I]);var A=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:f.current,a=e&&e.errors?e.errors:h.current?h.current:p.initialErrors||{},n=e&&e.touched?e.touched:y.current?y.current:p.initialTouched||{},r=e&&e.status?e.status:_.current?_.current:p.initialStatus;f.current=t,h.current=a,y.current=n,_.current=r;var i=function(){x({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:a,touched:n,status:r,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(p.onReset){var s=p.onReset(w.values,K);op(s)?s.then(i):i()}else i()}),[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);(0,e.useEffect)((function(){!0!==g.current||zm()(f.current,p.initialValues)||u&&(f.current=p.initialValues,A(),o&&I(f.current))}),[u,p.initialValues,A,o,I]),(0,e.useEffect)((function(){u&&!0===g.current&&!zm()(h.current,p.initialErrors)&&(h.current=p.initialErrors||dp,x({type:"SET_ERRORS",payload:p.initialErrors||dp}))}),[u,p.initialErrors]),(0,e.useEffect)((function(){u&&!0===g.current&&!zm()(y.current,p.initialTouched)&&(y.current=p.initialTouched||mp,x({type:"SET_TOUCHED",payload:p.initialTouched||mp}))}),[u,p.initialTouched]),(0,e.useEffect)((function(){u&&!0===g.current&&!zm()(_.current,p.initialStatus)&&(_.current=p.initialStatus,x({type:"SET_STATUS",payload:p.initialStatus}))}),[u,p.initialStatus,p.initialTouched]);var T=gp((function(e){if(b.current[e]&&ap(b.current[e].validate)){var t=lp(w.values,e),a=b.current[e].validate(t);return op(a)?(x({type:"SET_ISVALIDATING",payload:!0}),a.then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),x({type:"SET_ISVALIDATING",payload:!1})}))):(x({type:"SET_FIELD_ERROR",payload:{field:e,value:a}}),Promise.resolve(a))}return p.validationSchema?(x({type:"SET_ISVALIDATING",payload:!0}),k(w.values,e).then((function(e){return e})).then((function(t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:lp(t,e)}}),x({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),P=(0,e.useCallback)((function(e,t){var a=t.validate;b.current[e]={validate:a}}),[]),M=(0,e.useCallback)((function(e){delete b.current[e]}),[]),D=gp((function(e,t){return x({type:"SET_TOUCHED",payload:e}),(void 0===t?i:t)?I(w.values):Promise.resolve()})),F=(0,e.useCallback)((function(e){x({type:"SET_ERRORS",payload:e})}),[]),R=gp((function(e,t){var a=ap(e)?e(w.values):e;return x({type:"SET_VALUES",payload:a}),(void 0===t?n:t)?I(a):Promise.resolve()})),L=(0,e.useCallback)((function(e,t){x({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),q=gp((function(e,t,a){return x({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===a?n:a)?I(cp(w.values,e,t)):Promise.resolve()})),j=(0,e.useCallback)((function(e,t){var a,n=t,r=e;if(!ip(e)){e.persist&&e.persist();var i=e.target?e.target:e.currentTarget,s=i.type,o=i.name,l=i.id,c=i.value,u=i.checked,d=(i.outerHTML,i.options),m=i.multiple;n=t||o||l,r=/number|range/.test(s)?(a=parseFloat(c),isNaN(a)?"":a):/checkbox/.test(s)?function(e,t,a){if("boolean"==typeof e)return Boolean(t);var n=[],r=!1,i=-1;if(Array.isArray(e))n=e,r=(i=e.indexOf(a))>=0;else if(!a||"true"==a||"false"==a)return Boolean(t);return t&&a&&!r?n.concat(a):r?n.slice(0,i).concat(n.slice(i+1)):n}(lp(w.values,n),u,c):d&&m?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(d):c}n&&q(n,r)}),[q,w.values]),z=gp((function(e){if(ip(e))return function(t){return j(t,e)};j(e)})),B=gp((function(e,t,a){return void 0===t&&(t=!0),x({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===a?i:a)?I(w.values):Promise.resolve()})),H=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var a=e.target,n=a.name,r=a.id,i=(a.outerHTML,t||n||r);B(i,!0)}),[B]),$=gp((function(e){if(ip(e))return function(t){return H(t,e)};H(e)})),V=(0,e.useCallback)((function(e){ap(e)?x({type:"SET_FORMIK_STATE",payload:e}):x({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),U=(0,e.useCallback)((function(e){x({type:"SET_STATUS",payload:e})}),[]),W=(0,e.useCallback)((function(e){x({type:"SET_ISSUBMITTING",payload:e})}),[]),G=gp((function(){return x({type:"SUBMIT_ATTEMPT"}),I().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var a;try{if(void 0===(a=Z()))return}catch(e){throw e}return Promise.resolve(a).then((function(e){return g.current&&x({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw x({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(x({type:"SUBMIT_FAILURE"}),t))throw e}))})),Y=gp((function(e){e&&e.preventDefault&&ap(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ap(e.stopPropagation)&&e.stopPropagation(),G().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),K={resetForm:A,validateForm:I,validateField:T,setErrors:F,setFieldError:L,setFieldTouched:B,setFieldValue:q,setStatus:U,setSubmitting:W,setTouched:D,setValues:R,setFormikState:V,submitForm:G},Z=gp((function(){return d(w.values,K)})),Q=gp((function(e){e&&e.preventDefault&&ap(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&ap(e.stopPropagation)&&e.stopPropagation(),A()})),X=(0,e.useCallback)((function(e){return{value:lp(w.values,e),error:lp(w.errors,e),touched:!!lp(w.touched,e),initialValue:lp(f.current,e),initialTouched:!!lp(y.current,e),initialError:lp(h.current,e)}}),[w.errors,w.touched,w.values]),J=(0,e.useCallback)((function(e){return{setValue:function(t,a){return q(e,t,a)},setTouched:function(t,a){return B(e,t,a)},setError:function(t){return L(e,t)}}}),[q,B,L]),ee=(0,e.useCallback)((function(e){var t=np(e),a=t?e.name:e,n=lp(w.values,a),r={name:a,value:n,onChange:z,onBlur:$};if(t){var i=e.type,s=e.value,o=e.as,l=e.multiple;"checkbox"===i?void 0===s?r.checked=!!n:(r.checked=!(!Array.isArray(n)||!~n.indexOf(s)),r.value=s):"radio"===i?(r.checked=n===s,r.value=s):"select"===o&&l&&(r.value=r.value||[],r.multiple=!0)}return r}),[$,z,w.values]),te=(0,e.useMemo)((function(){return!zm()(f.current,w.values)}),[f.current,w.values]),ae=(0,e.useMemo)((function(){return void 0!==l?te?w.errors&&0===Object.keys(w.errors).length:!1!==l&&ap(l)?l(p):l:w.errors&&0===Object.keys(w.errors).length}),[l,te,w.errors,p]);return Ym({},w,{initialValues:f.current,initialErrors:h.current,initialTouched:y.current,initialStatus:_.current,handleBlur:$,handleChange:z,handleReset:Q,handleSubmit:Y,resetForm:A,setErrors:F,setFormikState:V,setFieldTouched:B,setFieldValue:q,setFieldError:L,setStatus:U,setSubmitting:W,setTouched:D,setValues:R,submitForm:G,validateForm:I,validateField:T,isValid:ae,dirty:te,unregisterField:M,registerField:P,getFieldProps:ee,getFieldMeta:X,getFieldHelpers:J,validateOnBlur:i,validateOnChange:n,validateOnMount:o})}function fp(t){var a=pp(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return(0,e.useImperativeHandle)(s,(function(){return a})),(0,e.createElement)(Xm,{value:a},n?(0,e.createElement)(n,a):i?i(a):r?ap(r)?r(a):sp(r)?null:e.Children.only(r):null)}function hp(e){var t=Array.isArray(e)?[]:{};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=String(a);!0===Array.isArray(e[n])?t[n]=e[n].map((function(e){return!0===Array.isArray(e)||qm()(e)?hp(e):""!==e?e:void 0})):qm()(e[n])?t[n]=hp(e[n]):t[n]=""!==e[n]?e[n]:void 0}return t}function yp(e,t,a){var n=e.slice();return t.forEach((function(t,r){if(void 0===n[r]){var i=!1!==a.clone&&a.isMergeableObject(t);n[r]=i?Rm(Array.isArray(t)?[]:{},t,a):t}else a.isMergeableObject(t)?n[r]=Rm(e[r],t,a):-1===e.indexOf(t)&&n.push(t)})),n}var _p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;function gp(t){var a=(0,e.useRef)(t);return _p((function(){a.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.current.apply(void 0,t)}),[])}function bp(t){var a=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,l=t.className,c=Km(t,["validate","name","render","children","as","component","className"]),u=Km(ep(),["validate","validationSchema"]),d=u.registerField,m=u.unregisterField;(0,e.useEffect)((function(){return d(n,{validate:a}),function(){m(n)}}),[d,m,n,a]);var p=u.getFieldProps(Ym({name:n},c)),f=u.getFieldMeta(n),h={field:p,form:u};if(r)return r(Ym({},h,{meta:f}));if(ap(i))return i(Ym({},h,{meta:f}));if(o){if("string"==typeof o){var y=c.innerRef,_=Km(c,["innerRef"]);return(0,e.createElement)(o,Ym({ref:y},p,_,{className:l}),i)}return(0,e.createElement)(o,Ym({field:p,form:u},c,{className:l}),i)}var g=s||"input";if("string"==typeof g){var b=c.innerRef,v=Km(c,["innerRef"]);return(0,e.createElement)(g,Ym({ref:b},p,v,{className:l}),i)}return(0,e.createElement)(g,Ym({},p,c,{className:l}),i)}var vp=(0,e.forwardRef)((function(t,a){var n=t.action,r=Km(t,["action"]),i=null!=n?n:"#",s=ep(),o=s.handleReset,l=s.handleSubmit;return(0,e.createElement)("form",Ym({onSubmit:l,ref:a,onReset:o,action:i},r))}));function Ep(t){var a=function(a){return(0,e.createElement)(Jm,null,(function(n){return n||Bm(!1),(0,e.createElement)(t,Ym({},a,{formik:n}))}))},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return a.WrappedComponent=t,a.displayName="FormikConnect("+n+")",Pn()(a,t)}vp.displayName="Form";var xp=function(e,t,a){var n=Np(e);return n.splice(t,0,a),n},Np=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Ym({},e,{length:t+1}))}return[]},kp=function(e,t){var a="function"==typeof e?e:t;return function(e){if(Array.isArray(e)||np(e)){var t=Np(e);return a(t)}return e}},Sp=function(t){function a(e){var a;return(a=t.call(this,e)||this).updateArrayField=function(e,t,n){var r=a.props,i=r.name;(0,r.formik.setFormikState)((function(a){var r=kp(n,e),s=kp(t,e),o=cp(a.values,i,e(lp(a.values,i))),l=n?r(lp(a.errors,i)):void 0,c=t?s(lp(a.touched,i)):void 0;return tp(l)&&(l=void 0),tp(c)&&(c=void 0),Ym({},a,{values:o,errors:n?cp(a.errors,i,l):a.errors,touched:t?cp(a.touched,i,c):a.touched})}))},a.push=function(e){return a.updateArrayField((function(t){return[].concat(Np(t),[Gm()(e)])}),!1,!1)},a.handlePush=function(e){return function(){return a.push(e)}},a.swap=function(e,t){return a.updateArrayField((function(a){return function(e,t,a){var n=Np(e),r=n[t];return n[t]=n[a],n[a]=r,n}(a,e,t)}),!0,!0)},a.handleSwap=function(e,t){return function(){return a.swap(e,t)}},a.move=function(e,t){return a.updateArrayField((function(a){return function(e,t,a){var n=Np(e),r=n[t];return n.splice(t,1),n.splice(a,0,r),n}(a,e,t)}),!0,!0)},a.handleMove=function(e,t){return function(){return a.move(e,t)}},a.insert=function(e,t){return a.updateArrayField((function(a){return xp(a,e,t)}),(function(t){return xp(t,e,null)}),(function(t){return xp(t,e,null)}))},a.handleInsert=function(e,t){return function(){return a.insert(e,t)}},a.replace=function(e,t){return a.updateArrayField((function(a){return function(e,t,a){var n=Np(e);return n[t]=a,n}(a,e,t)}),!1,!1)},a.handleReplace=function(e,t){return function(){return a.replace(e,t)}},a.unshift=function(e){var t=-1;return a.updateArrayField((function(a){var n=a?[e].concat(a):[e];return t=n.length,n}),(function(e){return e?[null].concat(e):[null]}),(function(e){return e?[null].concat(e):[null]})),t},a.handleUnshift=function(e){return function(){return a.unshift(e)}},a.handleRemove=function(e){return function(){return a.remove(e)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(Zm(a)),a.pop=a.pop.bind(Zm(a)),a}var n,r;r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=a.prototype;return i.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!zm()(lp(e.formik.values,e.name),lp(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},i.remove=function(e){var t;return this.updateArrayField((function(a){var n=a?Np(a):[];return t||(t=n[e]),ap(n.splice)&&n.splice(e,1),ap(n.every)&&n.every((function(e){return void 0===e}))?[]:n}),!0,!0),t},i.pop=function(){var e;return this.updateArrayField((function(t){var a=t.slice();return e||(e=a&&a.pop&&a.pop()),a}),!0,!0),e},i.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},a=this.props,n=a.component,r=a.render,i=a.children,s=a.name,o=Ym({},t,{form:Km(a.formik,["validate","validationSchema"]),name:s});return n?(0,e.createElement)(n,o):r?r(o):i?"function"==typeof i?i(o):sp(i)?null:e.Children.only(i):null},a}(e.Component);Sp.defaultProps={validateOnChange:!0};var Cp=Ep(Sp);const Op="fetch_all_addons",Ip=({field:t,disabled:a,form:{touched:n,errors:r},...i})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-control-switch"},(0,e.createElement)("label",{className:"academy-switch"},(0,e.createElement)("input",{type:"checkbox",className:"form-control",...t,...i,checked:!a&&t.value,disabled:a}),(0,e.createElement)("span",{className:"academy-slider"})),(0,e.createElement)("span",{className:"switch-title"}),r[t.name]&&n[t.name]?(0,e.createElement)("span",{className:"academy-control-switch__error"},r[t.name]):null)),Ap={type:Zc().string};function Tp({children:a,type:n}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-tooltip"},"info"===n&&(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),"pro"===n&&(0,e.createElement)("span",{className:"academy-icon academy-icon--lock-light"}),(0,e.createElement)("span",{className:"academy-tooltip__text"},a)))}Tp.propTypes=Ap,Tp.defaultProps={type:"info"};const Pp="fetch_admin_menu_items",Mp="fetch_settings",Dp="update_settings",Fp="update_form_builder_settings",Rp=()=>async e=>{try{return await Za.get(pa+"settings").then((t=>(e({type:Mp,payload:t.data}),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}},Lp=(e,t="update_base_settings",a="academy",n="")=>async r=>{try{return await nn({action:a+"/"+t,...e}).then((t=>{if(t.data.success)return r({type:Dp,payload:n?{[n]:e}:e}),r(sr((0,W.__)("Settings Saved!","academy"),!0,"success")),t;r(sr(t.data.data,!0,"error"))}))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},qp=(e,t,a=!0)=>async n=>{try{const r=(a?e.instructor:e.student).reduce(((e,t)=>{const a=t.fields.map((e=>e));return e.push(a),e}),[]);return await nn({action:"academy/"+t,form_fields:r}).then((t=>(n({type:Fp,payload:e}),n(sr((0,W.__)("Settings Saved!","academy"),!0,"success")),t)))}catch(e){var r;n(sr(null!==(r=e?.response?.data?.message)&&void 0!==r?r:e?.message,!0,"error"))}},jp=({item:a,index:n,value:r,setFieldValue:i})=>{const s=An((e=>e.addons)),o=zn(),{values:l}=ep(),c=!Sa&&a.is_pro;return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:`academy-dashboard-addon-card academy-dashboard-addon-card--${n}`,key:n,disabled:c},(0,e.createElement)("div",{className:"academy-dashboard-addon-card-top"},(0,e.createElement)("span",{className:"academy-dashboard-addon-card__icon"},a.icon),(0,e.createElement)("span",{className:"academy-dashboard-addon-card__heading"},a.label),(0,e.createElement)("span",{className:"academy-dashboard-addon-card__details"},a.details),c?(0,e.createElement)("span",{className:"academy-dashboard-addon-card__pro"},(0,e.createElement)("span",{className:"academy-pro-badge"},"PRO")):(0,e.createElement)(e.Fragment,null,!c&&l[a.name]&&!1!==a.url&&(0,e.createElement)($,{to:a.url},(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--settings"}),className:"academy-btn-settings"}))),!ln(s,"white-label",!0)&&(0,e.createElement)(lu,{label:(0,W.__)("How it works","academy"),type:"link",link:a.docsUrl,target:"blank",className:"academy-dashboard-addon-card__docs",iconPosition:"right",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--questions"})}),(0,e.createElement)("div",{className:"academy-dashboard-addon-card-bottom"},(0,e.createElement)("div",{className:"academy-dashboard-addon-card-bottom--left"},(0,e.createElement)("span",null,a.required_plugin?(0,W.__)("Required plugins","academy"):(0,W.__)("No extra plugin required","academy"),a.required_plugin.length>0&&(0,e.createElement)(Tp,null,a.required_plugin.map(((t,a)=>(0,e.createElement)("span",{key:a},t.plugin_name)))))),!c&&(0,e.createElement)(bp,{type:"checkbox",name:`${a.name}`,onChange:()=>{const e=!r;nn({action:"academy/addons/saved_addon_status",addon_name:a.label,addon_slug:a.name,status:e,required_plugin:a.required_plugin}).then((t=>{t.data.success?(i(a.name,e),o({type:Op,payload:t.data?.data}),o((async e=>nn({action:"academy/get_admin_menu_items"}).then((t=>(e({type:Pp,payload:JSON.parse(t.data?.data)}),t)),(t=>{var a;e(sr(null!==(a=t?.response?.data?.message)&&void 0!==a?a:t?.message,!0,"error"))})))).then((()=>{const e=t.data?.data[a.name]?(0,W.__)("Activated","academy"):(0,W.__)("Deactivate","academy");o(sr((0,W.sprintf)(
// translators: %1$s: AddonName, %2$s: AddonStatus
(0,W.__)("%1$s successfully %2$s","academy"),a.label,e),!0,"success"))})),o(Rp())):(i(a.name,!1),o(sr(t.data?.data,!0,"error")))}))},component:Ip})))))},zp=[{label:(0,W.__)("Advanced Analytics","academy"),name:"advanced-analytics",is_pro:!0,details:(0,W.__)("With this addon, get more accurate and detailed analytics on your eLearning site through charts, tables, and more. ","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--advance-analytics-fill"}),url:`${va}admin.php?page=academy`,docsUrl:"https://academylms.net/docs/how-to-use-advanced-analytics/"},{label:(0,W.__)("Assignments","academy"),name:"assignments",is_pro:!0,required_plugin:!1,details:(0,W.__)("With the Assignments add-on, create assignments and streamline your course content.","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--assignment-two"}),url:`${va}admin.php?page=academy-assignments`,docsUrl:"https://academylms.net/docs/how-to-use-academy-lms-assignment/"},{label:(0,W.__)("Course Bundle","academy"),name:"course-bundle",is_pro:!0,details:(0,W.__)("Course bundle helps to group courses to sell together.","academy"),required_plugin:[{plugin_dir_path:"woocommerce/woocommerce.php",plugin_name:"WooCommerce"}],icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--course-bundle"}),url:`${va}admin.php?page=academy-course-bundle`,docsUrl:"https://academylms.net/docs/course-bundle"},{label:(0,W.__)("Content Drip","academy"),name:"content-drip",is_pro:!0,required_plugin:!1,details:(0,W.__)("Allow admins & instructors to schedule course content sequentially using the content drip option","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--content-drip"}),url:`${va}admin.php?page=academy-courses`,docsUrl:"https://academylms.net/docs/how-to-use-content-drip/"},{label:(0,W.__)("Course Prerequisites","academy"),name:"course-prerequisites",is_pro:!0,details:(0,W.__)("Course prerequisites helps to add course enroll dependency before enroll course.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--course-prerequisites"}),url:!1,docsUrl:"https://academylms.net/docs/course-prerequisites/"},{label:(0,W.__)("Email","academy"),name:"email",is_pro:!0,required_plugin:!1,details:(0,W.__)("Send automated emails to students, instructors, and admins without leaving your eLearning site","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--email-fill"}),url:`${va}admin.php?page=academy-settings&path=email&tab=false`,docsUrl:"https://academylms.net/docs/academy-lms-email-settings/"},{label:(0,W.__)("FluentCRM","academy"),name:"fluent-crm",is_pro:!0,details:(0,W.__)("Enhance your LMS with Fluent CRM for seamless email marketing, automation, and student engagement.","academy"),required_plugin:[{plugin_dir_path:"fluent-crm/fluent-crm.php",plugin_name:"FluentCRM"}],icon:(0,e.createElement)("img",{className:"academy-icon-fluent-crm",src:fa+"assets/images/addons/fluent-crm.svg",alt:(0,W.__)("FluentCRM","academy")}),url:!1,docsUrl:"https://academylms.net/docs/how-to-use-fluentcrm-with-academy-lms/"},{label:(0,W.__)("GamiPress","academy"),name:"gamipress",is_pro:!0,details:(0,W.__)("Enhance your LMS with gamification: unlock badges, points, and rewards with GamiPress!","academy"),required_plugin:[{plugin_dir_path:"gamipress/gamipress.php",plugin_name:"GamiPress"}],icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--gamipress"}),url:`${va}admin.php?page=academy-meeting`,docsUrl:"https://academylms.net/docs/how-to-use-gamipress-with-academy-lms/"},{label:(0,W.__)("Google Classroom","academy"),name:"google-classroom",is_pro:!0,details:(0,W.__)("Transform your LMS with seamless Google Classroom integration for enhanced interactive learning.","academy"),required_plugin:!1,icon:(0,e.createElement)("img",{className:"academy-icon-google-classroom",src:fa+"assets/images/addons/google-classroom.svg",alt:(0,W.__)("Google Classroom","academy")}),url:`${va}admin.php?page=academy-google-classroom`,docsUrl:"https://academylms.net/docs/how-to-use-google-classroom-with-academy-lms/"},{label:(0,W.__)("Grade Book","academy"),name:"grade_book",is_pro:!0,details:(0,W.__)("Streamline your grading system. Track, manage and analyse your student performance. ","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--gradebook"}),url:`${va}admin.php?page=academy-grade-book`,docsUrl:"https://academylms.net/docs/how-to-use-academy-lms-grade-book-addon/"},{label:(0,W.__)("Manual Enrolment","academy"),name:"enrollment",is_pro:!0,required_plugin:!1,details:(0,W.__)("Empower admins to manually enroll students on your eLearning site using the manual enrolment option.","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--enrollment-fill"}),url:`${va}admin.php?page=academy-students`,docsUrl:"https://academylms.net/docs/academy-lms-manual-enrollment/"},{label:(0,W.__)("MailChimp","academy"),name:"mail_chimp",is_pro:!0,details:(0,W.__)("Boost your LMS with MailChimp integration for seamless email marketing and enhanced learner engagement.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--mailchimp"}),url:`${va}admin.php?page=academy-settings&path=advanced&tab=mail_chimp`,docsUrl:"https://academylms.net/docs/how-to-use-mailchimp-with-academy-lms/"},{label:(0,W.__)("Meeting","academy"),name:"meeting",is_pro:!0,details:(0,W.__)("Connect your LMS to Zoom and Google Meet for enhance teaching.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--meeting"}),url:`${va}admin.php?page=academy-meeting`,docsUrl:"https://academylms.net/docs/how-to-use-academy-lms-meeting-addon/"},{label:(0,W.__)("Migration Tool","academy"),name:"migration-tool",is_pro:!1,details:(0,W.__)("Migrate seamlessly course content in Academy LMS from other LMS data.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--migration-addon"}),url:`${va}admin.php?page=academy-tools&path=migration`,docsUrl:"https://academylms.net/docs/how-to-use-academy-lms-migration-tool/"},{label:(0,W.__)("Multi Instructor","academy"),name:"multi_instructor",is_pro:!1,required_plugin:!1,details:(0,W.__)("Assign multiple instructors by activating this feature for the courses of your eLearning platform. ","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--multi-instructor-fill"}),url:`${va}admin.php?page=academy-instructors`,docsUrl:"https://academylms.net/docs/how-to-use-the-multi-instructor-addon/"},{label:(0,W.__)("Notifications","academy"),name:"notifications",is_pro:!0,details:(0,W.__)("Send real time course alerts, announcement and more notification using this add-ons.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--notifications-fill"}),url:`${va}admin.php?page=academy-settings&path=advanced&tab=notification`,docsUrl:"https://academylms.net/docs/how-to-use-academy-lms-notification-addon/"},{label:(0,W.__)("Paid Memberships Pro","academy"),name:"paid-memberships-pro",is_pro:!0,details:(0,W.__)("Easily manage and sell your course memberships with the Paid Memberships Pro addon","academy"),required_plugin:[{plugin_dir_path:"paid-memberships-pro/paid-memberships-pro.php",plugin_name:"Paid Memberships Pro"}],icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--paid-member"}),url:!1,docsUrl:"https://academylms.net/docs/paid-memberships-pro-integration/"},{label:(0,W.__)("Quizzes","academy"),name:"quizzes",is_pro:!1,required_plugin:!1,details:(0,W.__)("Enable or disable Quizzes for the courses on your eLearning site.","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--add-quiz"}),url:`${va}admin.php?page=academy-quizzes`,docsUrl:"https://academylms.net/docs/how-to-use-academy-lms-quiz-builder/"},{label:(0,W.__)("SCORM","academy"),name:"scorm",is_pro:!0,details:(0,W.__)("SCORM lets you import and track SCORM courses, providing a seamless learning experience.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--scorm"}),url:!1,docsUrl:"https://academylms.net/docs/how-to-use-scorm-content-in-academy-lms/"},{label:(0,W.__)("SureCart","academy"),name:"surecart",is_pro:!0,details:(0,W.__)("Sale Paid course via SureCart.","academy"),required_plugin:[{plugin_dir_path:"surecart/surecart.php",plugin_name:"SureCart"}],icon:(0,e.createElement)("img",{className:"academy-icon-surecart",src:fa+"assets/images/addons/surecart.svg",alt:(0,W.__)("SureCart","academy")}),url:!1,docsUrl:"https://academylms.net/docs/how-to-use-academy-lms-surecart-integration/"},{label:(0,W.__)("SureMembers","academy"),name:"suremembers",is_pro:!0,details:(0,W.__)("Enlarge your LMS with SureMembers: seamless membership management, course access control, and more!","academy"),required_plugin:[{plugin_dir_path:"suremembers/suremembers.php",plugin_name:"SureMembers"}],icon:(0,e.createElement)("img",{className:"academy-icon-suremembers",src:fa+"assets/images/addons/suremember.svg",alt:(0,W.__)("SureMembers","academy")}),docsUrl:"https://academylms.net/docs/how-to-use-suremembers-with-academy-lms/"},{label:(0,W.__)("Social Login/Register","academy"),name:"social-login",is_pro:!0,details:(0,W.__)("Maximize your LMS with Social Login/Register for seamless access and improved user engagement.","academy"),required_plugin:!1,icon:(0,e.createElement)("img",{className:"academy-icon-social-login",src:fa+"assets/images/addons/social-login.svg",alt:(0,W.__)("Social Login/Register","academy")}),url:`${va}admin.php?page=academy-settings&path=advanced&tab=social-login`,docsUrl:"https://academylms.net/docs/how-to-use-social-login-with-academy-lms/"},{label:(0,W.__)("Tutor Booking","academy"),name:"tutor-booking",is_pro:!0,details:(0,W.__)("The tutor booking add-on simplifies the process of scheduling face-to-face sessions for students.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--tutor-booking-fill"}),url:`${va}admin.php?page=academy-tutor-booking`,docsUrl:"https://academylms.net/docs/academy-lms-tutor-booking/"},{label:(0,W.__)("Webhooks","academy"),name:"webhooks",is_pro:!1,details:(0,W.__)("Connect your LMS to other apps, Automate integrations, and improve workflows.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--webhoocks"}),url:`${va}admin.php?page=academy-webhooks`,docsUrl:"https://academylms.net/docs/academy-lms-webhooks/"},{label:(0,W.__)("Wishlist Member","academy"),name:"wishlist-member",is_pro:!0,details:(0,W.__)("Upgrade your LMS with Wishlist Member integration for seamless membership management and control.","academy"),required_plugin:[{plugin_dir_path:"wishlist-member/wpm.php",plugin_name:"Wishlist Member"}],icon:(0,e.createElement)("img",{className:"academy-icon-wishlist",src:fa+"assets/images/addons/wishlist.svg",alt:(0,W.__)("Wishlist","academy")}),url:!1,docsUrl:"https://academylms.net/docs/how-to-use-wishlist-member-with-academy-lms/"},{label:(0,W.__)("White Label","academy"),name:"white-label",is_pro:!0,details:(0,W.__)("Start Customize and brand your eLearning platform with the White Label add-on.","academy"),required_plugin:!1,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--customize"}),url:`${va}admin.php?page=academy-settings&path=advanced&tab=white-label`,docsUrl:"https://academylms.net/docs/how-to-use-white-label-addon/"},{label:(0,W.__)("WooCommerce Subscriptions","academy"),name:"woocommerce-subscriptions",is_pro:!0,required_plugin:[{plugin_dir_path:"woocommerce/woocommerce.php",plugin_name:"WooCommerce"},{plugin_dir_path:"woocommerce-subscriptions/woocommerce-subscriptions.php",plugin_name:"WooCommerce Subscriptions"}],details:(0,W.__)("Collect recurring payments for the paid courses Using this option.","academy"),icon:(0,e.createElement)("img",{className:"academy-icon-woocommerce",src:fa+"assets/images/addons/Woocommerce.svg",alt:(0,W.__)("Woo-Commerce","academy")}),url:!1,docsUrl:"https://academylms.net/docs/academy-lms-woocommerce-subscriptions/"},{label:(0,W.__)("WooCommerce","academy"),name:"woocommerce",is_pro:!1,required_plugin:[{plugin_dir_path:"woocommerce/woocommerce.php",plugin_name:"WooCommerce"}],details:(0,W.__)("Collect recurring payments for the paid courses Using this option.","academy"),icon:(0,e.createElement)("img",{className:"academy-icon-woocommerce",src:fa+"assets/images/addons/Woocommerce.svg",alt:(0,W.__)("Woo-Commerce","academy")}),url:!1,docsUrl:"#"},{label:(0,W.__)("Easy Digital Downloads","academy"),name:"easy-digital-downloads",is_pro:!1,required_plugin:[{plugin_dir_path:"easy-digital-downloads/easy-digital-downloads.php",plugin_name:"Easy Digital Downloads"}],details:(0,W.__)("Collect recurring payments for the paid courses Using this option.","academy"),icon:(0,e.createElement)("img",{className:"academy-icon-woocommerce",src:fa+"assets/images/addons/edd.svg",alt:(0,W.__)("Woo-Commerce","academy")}),url:!1,docsUrl:"#"}],Bp=[{slug:"all",title:(0,W.__)("All","academy")},{slug:"active",title:(0,W.__)("Active","academy")},{slug:"inactive",title:(0,W.__)("Inactive","academy")},{slug:"free",title:(0,W.__)("Free","academy")},{slug:"pro",title:(0,W.__)("Pro","academy")}],Hp=()=>{const[t,a]=(0,e.useState)({}),[n,r]=(0,e.useState)(""),[i,s]=(0,e.useState)("all");return(0,e.useEffect)((()=>{nn({action:"academy/addons/get_all_addons"}).then((e=>{a(e.data?.data)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Add-ons","academy")),(0,e.createElement)(nm,{filterText:["addon"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Add-ons","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--addons"},(0,e.createElement)("div",{className:"academy-addons-wrap"},(0,e.createElement)("div",{className:"academy-addons-filter-options"},Bp.map(((t,a)=>(0,e.createElement)("button",{key:a,className:"academy-addons-filter-option "+(i===t.slug?"active-filter":""),onClick:()=>s(t.slug)},(0,e.createElement)("span",null,t.title))))),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Add-ons"),onSearchHandler:e=>r(e.trim())}))),(0,e.createElement)("div",{className:"academy-addons"},(0,e.createElement)(fp,{enableReinitialize:!0,initialValues:{multi_instructor:!1,quizzes:!1,...t}},(({setFieldValue:t,values:a})=>{const r=(e=>zp.filter((t=>{if(t.label.toLowerCase().includes(n.toLowerCase())){if("all"===i)return t;if("active"===i&&e[t.name])return t;if("inactive"===i&&!e[t.name])return t;if("pro"===i&&t.is_pro)return t;if("free"===i&&!t.is_pro)return t}return!1})))(a);return(0,e.createElement)("form",null,(0,e.createElement)("div",{className:"academy-dashboard-addon-cards"},r.length?r.map(((n,r)=>(0,e.createElement)(jp,{item:n,key:r,index:r,value:a[n.name],setFieldValue:t}))):(0,e.createElement)("div",{className:"academy-dashboard-addon-cards-message"},(0,e.createElement)(vd,{title:(0,W.__)("No Addons Found!","academy")}))))})))))},$p=Hp;Hp.propTypes={},Hp.defaultProps={};const Vp="create_new_category",Up="update_category",Wp="delete_category",Gp="fetch_all_categories",Yp="create_new_tag",Kp="UPDATE_tag",Zp="delete_tag",Qp="fetch_all_tags",Xp=e=>async t=>{try{return await Za.post(pa+"academy_courses_category",e).then((e=>(t({type:Vp,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Jp=(e="")=>async t=>{try{let a={per_page:100};return e&&(a={...a,search:e}),await Za.get(pa+"academy_courses_category",{params:a}).then((e=>(t({type:Gp,payload:{data:e.data}}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},ef="fetch_all_bookings",tf="create_new_booking",af="update_booking",nf="delete_booking",rf="fetch_all_booking_categories",sf="create_booking_category",of="update_booking_category",lf="delete_booking_category",cf="fetch_all_booking_tags",uf="create_booking_tag",df="update_booking_tag",mf="delete_booking_tag",pf="fetch_all_bookings_schedule",ff="update_booking_schedule",hf="delete_booking_schedule",yf="move_booking_to_trash",_f="restore_booking",gf="booking_status_update",bf="update_current_page",vf="update_booking_item_per_page",Ef=(e="publish",t=1,a=10,n="")=>async r=>{try{let i={status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};return Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n}),await Za.get(pa+"academy_booking",{params:i}).then((t=>{r({type:ef,payload:{data:t.data,totalItems:parseInt(t.headers["x-wp-total"]),bookingStatus:e}})}))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},wf=e=>async t=>{const a={...e,status:"draft"};try{return await Za.post(`${pa}academy_booking/${parseInt(e.id)}`,a).then((e=>(t({type:_f,payload:e.data}),t(sr((0,W.__)("Booking Restored","academy"),!0,"success")),e)))}catch(e){var n;t(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},xf=e=>async t=>{try{return await Za.post(`${pa}academy_booking/${parseInt(e)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}}).then((e=>{t({type:nf,payload:e.data.previous}),t(sr((0,W.__)("Booking Deleted!","academy"),!0,"success"))}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Nf=({ID:e})=>async t=>{try{return await Za.post(`${pa}academy_booking/${parseInt(e)}`,{force:!1},{headers:{"X-HTTP-Method-Override":"DELETE"}}).then((e=>{t({type:yf,payload:e.data}),t(sr((0,W.__)("Moved To Trash!","academy"),!0,"success"))}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},kf=(e="")=>async t=>{try{let a={per_page:100};return e&&(a={...a,search:e}),await Za.get(pa+"academy_booking_category",{params:a}).then((e=>{t({type:rf,payload:{data:e.data}})}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Sf=e=>async t=>{try{await Za.post(pa+"academy_booking_category",e).then((e=>{t({type:sf,payload:e.data})}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Cf=(e="")=>async t=>{try{let a={per_page:100};return e&&(a={...a,search:e}),await Za.get(pa+"academy_booking_tag",{params:a}).then((e=>{t({type:cf,payload:{data:e.data}})}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Of=e=>async t=>{try{return await Za.post(pa+"academy_booking_tag",e).then((e=>(t({type:uf,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},If=(e="")=>async t=>{try{let a={};return e&&(a={...a,search:e}),nn({action:"academy_pro/booking/admin/get_booked_schedules",...a}).then((e=>(t({type:pf,payload:{data:e.data?.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e?.data)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Af={actionButtons:Zc().array,itemsLength:Zc().number,isActionSelected:Zc().object,confirmHandler:Zc().function,resetHandler:Zc().function},Tf=({actionButtons:t,itemsLength:a,confirmHandler:n,isActionSelected:r,resetHandler:i})=>{const s=(0,e.useRef)(null),o=document.querySelector("#academywrap")||document.querySelector("#academyFrontendDashWrap")||document.querySelector("#academyLessonsWrap")||document.querySelector("#academy_frontend_dashboard_react_render");return(0,e.useEffect)((()=>(a&&o?(s.current.style.position="fixed",s.current.style.left="40%",s.current.style.bottom="50px",document.body.appendChild(s.current)):s.current&&s.current.parentNode===document.body&&document.body.removeChild(s.current),()=>{s.current&&s.current.parentNode===document.body&&document.body.removeChild(s.current)})),[]),(0,e.createElement)(e.Fragment,null,a&&(0,yn.createPortal)((0,e.createElement)("div",{className:"academy-snackbar-action",ref:s},(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),preset:"transparent",suffix:"close",onClick:i}),r?.value?(0,e.createElement)("div",{className:"academy-snackbar-action__after"},(0,e.createElement)("div",{className:"academy-snackbar-action__left"},r?.message),(0,e.createElement)("div",{className:"academy-snackbar-action__left"},(0,e.createElement)(lu,{label:(0,W.__)("Cancel","academy"),onClick:i,preset:"transparent",border:"gray"}),(0,e.createElement)(lu,{label:(0,W.__)("Confirm","academy"),onClick:()=>n(!0),suffix:"confirm"}))):(0,e.createElement)("div",{className:"academy-snackbar-action__before"},(0,e.createElement)("div",{className:"academy-snackbar-action__left"},(0,e.createElement)("div",{className:"academy-snackbar-action__items-length"},(0,e.createElement)("span",{className:""},a),(0,e.createElement)("p",null,(0,W.__)("Items selected","academy")))),(0,e.createElement)("div",{className:"academy-snackbar-action__right"},t.map(((t,a)=>(0,e.createElement)(lu,{...t,key:a})))))),document.body))};Tf.propTypes=Af,Tf.defaultProps={actionButtons:[],itemsLength:0,isActionSelected:{},confirmHandler:()=>{},resetHandler:()=>{}};const Pf=Tf,Mf={deleteHandler:Zc().func};function Df({viewFrom:a,editItemHandler:n,deleteHandler:r}){const[i,s]=(0,e.useState)(!1),o=An((e=>e.categories)),l=An((e=>e.bookings.categories)),[c,u]=(0,e.useState)([]),[d,m]=(0,e.useState)({}),[p,f]=(0,e.useState)(!1),[h,y]=(0,e.useState)(!1),_=zn(),g=[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>m({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}];(0,e.useEffect)((()=>{"course"===a?(!o.data||o.data&&o.data.length<=1)&&(s(!0),_(Jp()).then((()=>{s(!1)}))):(!l||l&&l.length<=1)&&(s(!0),_(kf()).then((()=>{s(!1)})))}),[a]);const b=()=>{u([]),m({}),y(!0),f(!1)},v=(e=1,t=10)=>{s(!0),_(Jp("any")).then((()=>{s(!1)}))};t().useMemo((()=>{p?(d.value,c.forEach((e=>{r(e?.id)})),b()):b()}),[p]);const E=[{name:(0,W.__)("Name","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("div",{onClick:()=>n(t),className:"academy-table-title",role:"presentation"},(0,e.createElement)("p",null,cn(t.name))),(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}))),(0,e.createElement)("div",{className:"academy-table-sub-title"},(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,W.__)("ID: ","academy"),t.id)))},{name:(0,W.__)("Slug","academy"),cell:t=>(0,e.createElement)("span",null,t.slug)},{name:(0,W.__)("Description","academy"),cell:t=>(0,e.createElement)("span",null,""!==t?.description?cn(t.description,30):"-")},{name:(0,W.__)("Count","academy"),cell:t=>(0,e.createElement)("span",null,t.count)},{name:(0,W.__)("Parent","academy"),cell:t=>{const a=x&&x?.filter((e=>e.id===t.parent));return a?.length?(0,e.createElement)("span",null,a[0]?.name):"-"}},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t)},{type:"link",label:(0,W.__)("View","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--eye"}),link:t.link,target:"_blank"},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure you want to permanently delete selected course category?","academy"))&&r(e.id));var e}}]}))}],w=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Category"),onSearchHandler:e=>{"course"===a?(s(!0),_(Jp(e)).then((()=>{s(!1)}))):(s(!0),_(kf(e)).then((()=>{s(!1)})))}}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[]),x="course"===a?o?.data:l;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:E,data:x||[],showSubHeader:!0,subHeaderComponent:w,isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{u(e),y(!1)},noDataText:(0,W.__)("Please, create Category to see the available list here."),showPagination:!1,onChangePage:(e=1)=>{_((e=>t=>{t({type:"update_current_page",payload:e})})(e)),v(e,o?.itemPerPage||l?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{var a;_((a=e,e=>{e({type:"update_item_per_page",payload:a})})),v(t,e)},totalItems:o?.totalItems,totalRows:o?.data?.length,dataFetchingStatus:i,resetSelected:h,suffix:`${a}-category`}),c.length>0&&(0,e.createElement)(Pf,{actionButtons:g,itemsLength:c?.length,confirmHandler:f,isActionSelected:d,resetHandler:b}))}Df.propTypes=Mf,Df.defaultProps={deleteHandler:()=>{}};const Ff=({parentItem:t,type:a})=>{const n=(t.children||[]).map((t=>(0,e.createElement)(Ff,{parentItem:t,key:t.id,type:"child"})));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("option",{key:t.id,value:t.id,label:"child"===a?"-"+t.name:t.name}),n)};function Rf({item:a}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(Ff,{parentItem:a}))}function Lf({viewFrom:a}){const{values:n,setFieldValue:r}=ep(),i=An((e=>e.categories)),s=An((e=>e.bookings.categories)),o=sn("course"===a?i.data:s);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-term__form"},(0,e.createElement)("div",{className:"academy-term-form__item"},(0,e.createElement)("div",{className:"academy-term-form__item--field"},(0,e.createElement)("label",{htmlFor:"name",className:"academy-mb-2"},(0,W.__)("Name","academy")),(0,e.createElement)(bp,{id:"name",name:"name",placeholder:(0,W.__)("Add category name here","academy"),onBlur:e=>{0===parseInt(n.id)&&r("slug",Qa(e.target.value))},className:"academy-input"})),(0,e.createElement)("div",{className:"academy-term-form__item--field"},(0,e.createElement)("label",{htmlFor:"slug",className:"academy-mb-2"},(0,W.__)("Slug","academy")),(0,e.createElement)(bp,{id:"slug",name:"slug",placeholder:(0,W.__)("Add slug here","academy"),onBlur:e=>{0===parseInt(n.id)&&r("slug",Qa(e.target.value))},className:"academy-input"}))),(0,e.createElement)("div",{className:"academy-term-form__item--field"},(0,e.createElement)("label",{htmlFor:"parent",className:"academy-mb-2"},(0,W.__)("Parent Category","academy"),(0,e.createElement)(Tp,null,(0,W.__)("Assign a parent term to create a hierarchy. The term Jazz, for example, would be the parent of Bebop and Big Band","academy"))),(0,e.createElement)(bp,{className:"academy-term-select",id:"parent",name:"parent",as:"select"},(0,e.createElement)("option",{value:"0",label:(0,W.__)(" Parent Category ","academy")}),o.length>0&&o.map(((t,a)=>(0,e.createElement)(Rf,{item:t,key:a}))))),(0,e.createElement)("div",{className:"academy-term-form__item--field academy-mt-6"},(0,e.createElement)("div",{className:"academy-term-form__item--label"},(0,e.createElement)("label",{htmlFor:"description",className:"academy-mb-2"},(0,W.__)("Description","academy")),(0,e.createElement)(bp,{id:"description",placeholder:(0,W.__)("Add description here","academy"),name:"description",as:"textarea",className:"academy-input"})))))}const qf={title:Zc().oneOfType([Zc().object,Zc().string]),isOpen:Zc().bool,isLoading:Zc().bool,isLargeAvailable:Zc().bool,isSmallAvailable:Zc().bool,onAfterOpen:Zc().func,onRequestClose:Zc().func,cancelButtonLabel:Zc().string,submitButtonLabel:Zc().string,style:Zc().object,suffix:Zc().string,size:Zc().string,formik:Zc().object,isEnabledFooter:Zc().bool},jf={title:"",isOpen:!1,isSmallAvailable:!0,isLargeAvailable:!0,onAfterOpen:()=>{},onRequestClose:()=>{},cancelButtonLabel:(0,W.__)("Cancel","academy"),submitButtonLabel:(0,W.__)("Update","academy"),style:{overlay:{background:"rgba(35, 40, 45, 0.62)",overflowY:"scroll",display:"flex",justifyContent:"center",zIndex:9999},content:{inset:"unset",padding:0,border:0,overflow:"none",marginTop:"50px"}},size:"medium",formik:{},isEnabledFooter:!0};function zf({title:a,isOpen:n,onAfterOpen:r,onRequestClose:i,children:s,submitButtonLabel:o,cancelButtonLabel:l,style:c,size:u,suffix:d,formik:m,isLargeAvailable:p,isSmallAvailable:f,isEnabledFooter:h}){const[y,_]=(0,e.useState)({expandableSize:u,activeIconIndex:3}),g=["academy-icon academy-icon--large-screen","academy-icon academy-icon--medium-screen","academy-icon academy-icon--small-screen","academy-icon academy-icon--columns"],b=e=>{_((t=>({...t,activeIconIndex:e,expandableSize:["large","medium","small"][e]})))},v="large"===y.expandableSize?{...c,content:{...c.content,marginTop:"30px"}}:c,E=p?[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Full screen","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--large-screen"}),onClick:()=>b(0)}]:[],w=f?[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Small screen","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--small-screen"}),onClick:()=>b(2)}]:[],x="object"==typeof a?a.props.children[0]:a,N=dd(d,y?.expandableSize),k=md(y?.expandableSize);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(id(),{isOpen:n,onAfterOpen:r,onRequestClose:i,contentLabel:x,style:v,shouldCloseOnOverlayClick:!1,ariaHideApp:!0},(0,e.createElement)(fp,{...m},(({isSubmitting:t})=>(0,e.createElement)(vp,null,(0,e.createElement)("div",{className:N},(0,e.createElement)("div",{className:"academy-react-modal__head"},a&&(0,e.createElement)("h3",{className:"academy-react-modal__head-title"},a),(0,e.createElement)("div",{className:"academy-react-modal-buttons"},(0,e.createElement)(ld,{icon:g[y?.activeIconIndex],options:[...E,{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Medium screen","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--medium-screen"}),onClick:()=>b(1)},...w]}),(0,e.createElement)(lu,{type:"button",onClick:()=>i(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close-small"}),className:"academy-btn-close-modal"}))),(0,e.createElement)("div",{className:k},s),h&&(0,e.createElement)("div",{className:"academy-react-modal__footer"},(0,e.createElement)(lu,{type:"button",onClick:()=>i(),borderRadius:"rounded",preset:"border-purple",label:l}),(0,e.createElement)(lu,{type:"submit",borderRadius:"rounded",label:o,isLoading:t}))))))))}document.getElementById("academywrap")?id().setAppElement("#academywrap"):document.getElementById("academyLessonsWrap")?id().setAppElement("#academyLessonsWrap"):document.getElementById("academyFrontendDashWrap")?id().setAppElement("#academyFrontendDashWrap"):document.getElementById("academyFrontendModalWrap")&&id().setAppElement("#academyFrontendModalWrap"),zf.propTypes=qf,zf.defaultProps=jf;const Bf=a=>{const{viewFrom:n}=a,r=zn(),[i,s]=(0,e.useState)({}),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!1);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),"course"===n?(0,W.__)("Course Category","academy"):(0,W.__)("Booking Category","academy")),(0,e.createElement)(nm,{filterText:["category"]}))}),(0,e.createElement)(bm,{heading:"course"===n?(0,W.__)("Course Category","academy"):(0,W.__)("Booking Category","academy")},Aa.manage_categories&&(0,e.createElement)(lu,{type:"button",onClick:()=>u(!0),label:(0,W.__)("Add New Category","academy")})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--category"},(0,e.createElement)(Df,{viewFrom:n,values:o,editItemHandler:e=>{s({...e}),u(!0)},selectHandler:(e,t)=>{l(e?e=>[...e,t.id]:e=>e.filter((e=>parseInt(e)!==parseInt(t.id))))},deleteHandler:e=>{r("course"===n?(e=>async t=>{try{const a=await Za.post(`${pa}academy_courses_category/${parseInt(e)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:Wp,payload:a.data.previous}),t(sr((0,W.__)("Category Deleted!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e):(e=>async t=>{try{const a=await Za.post(`${pa}academy_booking_category/${parseInt(e)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:lf,payload:a.data.previous}),t(sr((0,W.__)("Category Deleted!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e))}}),(0,e.createElement)(zf,{title:i.id>0?(0,W.__)("Update Category","academy"):(0,W.__)("Add New Category","academy"),onRequestClose:()=>{s({}),u(!1)},suffix:"term",isOpen:c,contentLabel:"Category",size:"small",submitButtonLabel:i.id>0?(0,W.__)("Update Category","academy"):(0,W.__)("Add Category","academy"),formik:{enableReinitialize:!0,initialValues:{id:0,name:"",slug:"",parent:0,description:"",...i},onSubmit:(e,t)=>{t.setSubmitting(!0),""===e.name?(r(sr((0,W.__)("Title Missing","academy"),!0,"error")),t.setSubmitting(!1)):e.id>0?"course"===n?r((e=>async t=>{try{return await Za.post(pa+"academy_courses_category/"+parseInt(e.id),e).then((e=>(t({type:Up,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((()=>{r(sr((0,W.__)("Category Updated","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)})):r((e=>async t=>{try{await Za.post(pa+"academy_booking_category/"+parseInt(e.id),e).then((e=>{t({type:of,payload:e.data})}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((()=>{r(sr((0,W.__)("Category Updated","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)})):"course"===n?r(Xp(e)).then((()=>{r(sr((0,W.__)("Category Created","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)})):r(Sf(e)).then((()=>{r(sr((0,W.__)("Category Created","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)}))}}},(0,e.createElement)(Lf,{viewFrom:n}))))},Hf={children:Zc().object,itemStatus:Zc().string,value:Zc().string,options:Zc().object,onChangeHandler:Zc().func},$f=t=>{const{value:a,options:n,onChangeHandler:r}=t,[i,s]=(0,e.useState)(!1),o={publish:(0,W.__)("Published","academy"),pending:(0,W.__)("Pending","academy"),draft:(0,W.__)("Draft","academy"),trash:(0,W.__)("Trash","academy"),completed:(0,W.__)("Approved","academy"),approved:(0,W.__)("Approve","academy"),processing:(0,W.__)("Processing","academy"),cancel:(0,W.__)("Cancel","academy"),private:(0,W.__)("Private","academy")},l=(0,e.useRef)(null),c=(0,e.useRef)(null),u=e=>{l?.current&&!l?.current?.contains(e.target)&&s(!1)};return(0,e.useEffect)((()=>(document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u))),[]),(0,e.useEffect)((()=>{if(i&&c.current){const e=c.current.getBoundingClientRect(),t=e.left+window.pageXOffset,a=e.top+window.pageYOffset,n=c.current.offsetHeight;l.current.style.position="absolute",l.current.style.left=t-50+"px",l.current.style.top=`${a+n+5}px`,document.body.appendChild(l.current)}else c.current&&c.current.parentNode===document.body&&document.body.removeChild(l.current)}),[i,c]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("button",{className:`academy-dropdown-option academy-dropdown-option--${a}`,type:"button",ref:c,onClick:()=>{s(!i)}},(0,e.createElement)("span",{className:"label"},o[a]),(0,e.createElement)("span",{className:"academy-icon academy-icon--arrow-down"})),(0,yn.createPortal)((0,e.createElement)("div",{className:"academy-dropdown-option__lists",ref:l},i&&(0,e.createElement)("ul",{className:"academy-more-status-options"},n.items.map(((t,n)=>(0,e.createElement)("li",{className:`academy-more-status-options__item academy-more-status-options__item--${t.value} ${t.value===a&&"active"}`,role:"presentation",onClick:()=>{r(t.value),s(!1)},key:n},t.label))))),document.body))};$f.propTypes=Hf,$f.defaultProps={itemStatus:"pending",value:"pending",options:{},onChangeHandler:()=>{}};const Vf=$f,Uf="create_new_course",Wf="update_course",Gf="delete_course",Yf="fetch_course",Kf="fetch_all_courses",Zf="update_current_page",Qf="move_to_trash",Xf="restore_course",Jf="status_update",eh="update_course_item_per_page",th="clear_state",ah=e=>async t=>{try{const a=await Za.post(`${pa}academy_courses/${parseInt(e.ID)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:Gf,payload:a.data.previous}),t(sr((0,W.__)("Course Deleted!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},nh=e=>async t=>{try{const a=await Za.post(`${pa}academy_courses/${parseInt(e.ID)}`,{force:!1},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:Qf,payload:a.data}),t(sr((0,W.__)("Moved to Trash!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},rh=e=>async t=>{const a={...e,status:"draft"};try{return await Za.post(`${pa}academy_courses/${parseInt(e.id)}`,a).then((e=>(t({type:Xf,payload:e.data}),t(sr((0,W.__)("Course Restored!","academy"),!0,"success")),e)))}catch(e){var n;t(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},ih=(e="publish",t=1,a=10,n="")=>async r=>{let i={status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};return Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n}),await Za.get(pa+"academy_courses",{params:i}).then((t=>(r({type:Kf,payload:{data:t.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}}),t)),(e=>{var t;r(sr(null!==(t=e?.response?.data?.message)&&void 0!==t?t:e?.message,!0,"error"))}))},sh=e=>t=>{t({type:eh,payload:e})},oh=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}],lh=({setEditItemID:a,isModalOpen:n})=>{const r=An((e=>e.addons)),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)({}),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),h=An((e=>e.courses)),y=An((e=>e.categories)),_=zn(),g=P(),b=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),v=b.get("status"),E=b.get("coursePerPage"),w=b.get("search"),[x,N]=(0,e.useState)(v||"all"),k=(e="",t="")=>{let a=Ca?`${_a}admin.php?page=academy-courses`:"/dashboard/courses?";if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}g(a)},S=[..."trash"!==x?[{suffix:"trash",label:(0,W.__)("Trash","academy"),onClick:()=>u({value:"trash",message:(0,W.__)("Are you sure, you want to move these item to trash!","academy")})}]:[],..."trash"===x?[{suffix:"restore",label:(0,W.__)("Restore","academy"),onClick:()=>u({value:"restore",message:(0,W.__)("Are you sure, you want to restore these items?","academy")})},{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>u({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]],C=()=>{l([]),u({}),f(!0),m(!1)};t().useMemo((()=>{var e;d?(e=c.value,"trash"!==x&&"trash"===e?(o.forEach((e=>{_(nh({ID:e.id?e.id:e.ID}))})),C()):"restore"===e?(o.forEach((e=>{_(rh(e))})),C()):o.forEach((e=>{_(ah({ID:e.id?e.id:e.ID})),C()}))):C()}),[d]),(0,e.useEffect)((()=>{k(v,w)}),[v,w]),(0,e.useEffect)((()=>{(!h.data||h.data&&h.data.length<=1)&&(s(!0),null!==E&&_(sh(E)),_(ih(x)).then((()=>{s(!1),y.data||_(Jp())})))}),[]);const O=(e=1,t=10)=>{s(!0),_(ih(x,e,t)).then((()=>{s(!1)}))},I=(e,t=!1)=>{nn({action:"academy_pro/duplicate_course",course_id:e?.id,name:t?"academy-curriculum":""}).then((e=>{s(!0),e.data.success&&_(ih(x)).then((()=>{s(!1)})),_(sr(e.data.data,e.data.success?"success":"error",!0))}))},T=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},Ca?(0,e.createElement)($,{to:`${_a}admin.php?page=academy-courses&id=${t.id}&action=edit`},(0,e.createElement)("span",{className:"academy-table-title academy-tooltip","data-tooltip":cn(t.title.raw,80),dangerouslySetInnerHTML:{__html:cn(t.title.raw)}})):(0,e.createElement)("div",{role:"presentation",className:"academy-table-title",dangerouslySetInnerHTML:{__html:cn(t.title.raw)},onClick:()=>{n(!0),a(t.id)}}),(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}))),(0,e.createElement)("div",{className:"academy-table-sub-title"},(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--label"},(0,W.__)("ID","academy")),t.id),0!==t.meta?.academy_course_curriculum?.length&&(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--separator"},""),t.meta?.academy_course_curriculum?.length,(0,e.createElement)("span",{className:"academy-table-sub-title__item--text"},(0,W.__)("Topic","academy"))),(t=>{const a=t?.reduce(((e,t)=>[...e,...t.topics]),[]),n=a?.reduce(((e,t)=>("sub-curriculum"===t.type?e.subCurriculum=[...e.subCurriculum,t]:"lesson"===t.type?e.lessons=[...e.lessons,t]:"quiz"===t.type?e.quiz=[...e.quiz,t]:"assignment"===t.type?e.assignment=[...e.assignment,t]:"meeting"===t.type?e.meeting=[...e.meeting,t]:"booking"===t.type&&(e.booking=[...e.booking,t]),{...e})),{lessons:[],quiz:[],assignment:[],meeting:[],booking:[],subCurriculum:[]});return(0,e.createElement)(e.Fragment,null,0!==n?.subCurriculum?.length&&(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--separator"},""),n?.subCurriculum?.length,(0,e.createElement)("span",{className:"academy-table-sub-title__item--text"},(0,W.__)("Sub-Curriculum","academy"))),0!==n?.lessons?.length&&(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--separator"},""),n?.lessons?.length,(0,e.createElement)("span",{className:"academy-table-sub-title__item--text"},(0,W.__)("Lesson","academy"))),ln(r,"quizzes")&&0!==n?.quiz?.length&&(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--separator"},""),n?.quiz?.length,(0,e.createElement)("span",{className:"academy-table-sub-title__item--text"},(0,W.__)("Quiz","academy"))),ln(r,"assignments")&&0!==n?.assignment?.length&&(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--separator"},""),n?.assignment?.length,(0,e.createElement)("span",{className:"academy-table-sub-title__item--text"},(0,W.__)("Assignment","academy"))),ln(r,"meeting",!0)&&0!==n?.meeting?.length&&(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--separator"},""),n?.meeting?.length,(0,e.createElement)("span",{className:"academy-table-sub-title__item--text"},(0,W.__)("Meeting","academy"))),ln(r,"tutor-booking")&&0!==n?.booking?.length&&(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,e.createElement)("span",{className:"academy-table-sub-title__item--separator"},""),n?.booking?.length,(0,e.createElement)("span",{className:"academy-table-sub-title__item--text"},(0,W.__)("Booking","academy"))))})(t.meta?.academy_course_curriculum)))},{name:(0,W.__)("Categories","academy"),cell:t=>{if(!y.data)return"...";const a=y?.data.filter((e=>t.academy_courses_category.includes(e.id)));return(0,e.createElement)("span",{className:"academy-list-wrap__term-lists"},a.length?a.map(((t,n)=>(0,e.createElement)("span",{key:n},(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer",className:"academy-category-items"},cn(t.name,15,"")),a.length-1>n?", ":""))):"...")}},{name:(0,W.__)("Price","academy"),cell:t=>(0,e.createElement)("p",{className:`academy-table-course-${t.meta?.academy_course_type}`},t.academy_course_price?(0,e.createElement)("span",null,t.academy_course_price.split("|").join(", ")):(0,e.createElement)("span",null,mn(t.meta?.academy_course_type)))},{name:(0,W.__)("Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.date).format("h:mm A")))},{name:(0,W.__)("Author","academy"),cell:t=>(0,e.createElement)("span",null,t.author_name)},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.status,options:{items:[{label:(0,W.__)("Published","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}]},onChangeHandler:e=>{const a={...t,status:e};var n;_("trash"===e?nh({ID:t.id?t.id:t.ID}):(n=a,async e=>{try{return await Za.post(`${pa}academy_courses/${parseInt(n.id)}`,n).then((t=>(e({type:Jf,payload:t.data}),e(sr((0,W.__)("Course Updated!","academy"),!0,"success")),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}))}})},{name:(0,W.__)("Action","academy"),cell:t=>{const r="trash"!==t.status?[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Duplicate","academy"),!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--copy-two"}),onClick:()=>Sa?I(t):_(au(!0))},{type:"button",hasBorder:!0,label:(0,e.createElement)("span",null,(0,W.__)("Duplicate with Curriculum","academy"),!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--duplicate-content"}),onClick:()=>Sa?I(t,!0):_(au(!0))},{type:"button",suffix:"trash",label:(0,W.__)("Trash","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>_(nh({ID:t.id}))}]:[],i="trash"===t.status?[{type:"button",label:(0,W.__)("Restore","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>{_(rh(t))}},{type:"button",suffix:"trash",label:(0,W.__)("Delete","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{var e;"trash"!==(e=t).status?_(nh({ID:e.id?e.id:e.ID})):window.confirm((0,W.__)("Are you sure you want to permanently delete this item?","academy"))&&_(ah({ID:e.id?e.id:e.ID}))}}]:[];return(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>{Ca?g(`${_a}admin.php?page=academy-courses&id=${t.id}&action=edit`):(n(!0),a(t.id))}},{type:"link",hasBorder:!0,label:(0,W.__)("View","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--eye"}),link:t.link,target:"_blank"},{type:"link",label:(0,W.__)("WordPress Editor","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--wp-editor"}),link:`${va}post.php?post=${t.id}&action=edit`,target:"_self"},...r,...i]}))}}],M=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},oh.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===x?"is-active":""} `,key:a,onClick:()=>{var e;N(t.value),e=t.value,s(!0),k(e),_(ih(e,1,E)).then((()=>{s(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Course","academy"),onSearchHandler:e=>{s(!0),_(ih(x,1,10,e)).then((()=>{s(!1),k(v,e)}))},defaultValue:w||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[x,w]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:T,data:h?.data?h?.data:[],showSubHeader:!0,subHeaderComponent:M,isRowSelectable:!0,showColumnFilter:!0,noDataText:(0,W.__)("Please, create course to see the available list here."),getSelectRowValue:e=>{l(e),f(!1)},showPagination:!0,onChangePage:(e=1)=>{_((e=>t=>{t({type:Zf,payload:e})})(e)),O(e,h?.itemPerPage)},onChangeItemsPerPage:(e=10,t=1)=>{_(sh(e)),O(t,e),k(v)},totalItems:h?.totalItems,totalRows:h?.data.length,dataFetchingStatus:i,resetSelected:p,rowsPerPage:h?.itemPerPage,suffix:"course"}),o.length>0&&(0,e.createElement)(Pf,{actionButtons:S,itemsLength:o?.length,confirmHandler:m,isActionSelected:c,resetHandler:C}))},ch=(e,t)=>{if(e&&t&&t.length>0){t=t.find((t=>parseInt(t.id)===parseInt(e)));const{status:a,title:n,slug:r,link:i,content:s,excerpt:o,author:l,academy_courses_category:c,academy_courses_tag:u,featured_media:d,meta:m,instructors:p}=t,f=m?.academy_ecommerce_engine?{academy_ecommerce_engine:m?.academy_ecommerce_engine}:{};return{post_ID:e,title:n.raw,link:i,slug:r,content:s.raw,excerpt:o.raw,author:l,featured_media:d,status:a,academy_courses_category:c,academy_courses_tag:u,tags:[],meta:{...f,academy_course_type:m?.academy_course_type,academy_course_language:m?.academy_course_language,academy_course_product_id:m?.academy_course_product_id,academy_course_download_id:m?.academy_course_download_id,academy_course_audience:m?.academy_course_audience,academy_course_benefits:m?.academy_course_benefits,academy_course_curriculum:m?.academy_course_curriculum,academy_course_difficulty_level:m?.academy_course_difficulty_level,academy_course_duration:m?.academy_course_duration,academy_course_intro_video:m?.academy_course_intro_video,academy_course_materials_included:m?.academy_course_materials_included,academy_course_max_students:m?.academy_course_max_students,academy_course_expire_enrollment:m?.academy_course_expire_enrollment,academy_course_requirements:m?.academy_course_requirements,academy_course_drip_content_enabled:m?.academy_course_drip_content_enabled,academy_course_drip_content_type:m?.academy_course_drip_content_type,academy_is_enabled_course_qa:m?.academy_is_enabled_course_qa,academy_is_enabled_course_announcements:m?.academy_is_enabled_course_announcements,academy_prerequisite_courses:m?.academy_prerequisite_courses,academy_prerequisite_categories:m?.academy_prerequisite_categories,academy_prerequisite_type:m?.academy_prerequisite_type,academy_scorm_file:m?.academy_scorm_file?m.academy_scorm_file:"",_academy_course_builder_scorm_file:m?._academy_course_builder_scorm_file?m._academy_course_builder_scorm_file:""},instructors:p}}return{title:"",slug:"",content:"",excerpt:"",author:ka,status:"publish",academy_courses_category:[],tags:[],meta:{academy_course_type:"free",academy_course_product_id:0,academy_course_download_id:0,academy_course_audience:"",academy_course_benefits:"",academy_course_curriculum:"",academy_course_difficulty_level:"experts",academy_course_duration:[0,0,0],academy_course_intro_video:[],academy_course_materials_included:"",academy_course_max_students:0,academy_course_expire_enrollment:0,academy_course_requirements:"",academy_course_drip_content_enabled:!1,academy_course_drip_content_type:"schedule_by_date",academy_is_enabled_course_qa:!0,academy_is_enabled_course_announcements:!0,academy_prerequisite_type:"course",academy_prerequisite_courses:[],academy_prerequisite_categories:[],academy_course_language:"",academy_scorm_file:""},instructors:[ka]}},uh={type:Zc().string,name:Zc().string,value:Zc().string,saveValueHandler:Zc().func,isSubmitDisabled:Zc().bool},dh=({isSubmitted:t,type:a,name:n,value:r,label:i,isSubmitDisabled:s})=>{const{setFieldValue:o,handleSubmit:l}=ep(),c="draft"===r?(0,W.__)("Save","academy"):i,u=[{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",null,(0,e.createElement)(Pd,{className:"academy-select",suffix:"submit-box",value:(e=>"pending"===e?{label:(0,W.__)("Submit for Review","academy"),value:"pending"}:u.find((t=>t.value===e)))(r),options:"course"===a?Aa.publish_academy_courses?u:[{label:(0,W.__)("Submit for Review","academy"),value:"pending"}]:u,onChangeHandler:e=>o(n,e)})),(0,e.createElement)("div",null,(0,e.createElement)(lu,{type:"submit",suffix:"submit-box",preset:s?"gray":"purple",isDisabled:s,onClick:l,isLoading:t,label:"status"===n?c:i})))},mh=dh;dh.propTypes=uh,dh.defaultProps={type:"",name:"status",isSubmitDisabled:!1};const ph=(0,e.createContext)({}),fh=(0,e.createContext)({});var hh=a(5760),yh=a(9885),_h=a(4633),gh=a.n(_h);const bh=Object.prototype.toString,vh=Error.prototype.toString,Eh=RegExp.prototype.toString,wh="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",xh=/^Symbol\((.*)\)(.*)$/;function Nh(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const a=typeof e;if("number"===a)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===a)return t?`"${e}"`:e;if("function"===a)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===a)return wh.call(e).replace(xh,"Symbol($1)");const n=bh.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+vh.call(e)+"]":"RegExp"===n?Eh.call(e):null}function kh(e,t){let a=Nh(e,t);return null!==a?a:JSON.stringify(e,(function(e,a){let n=Nh(this[e],t);return null!==n?n:a}),2)}function Sh(e){return null==e?[]:[].concat(e)}let Ch,Oh=/\$\{\s*(\w+)\s*\}/g;Ch=Symbol.toStringTag;class Ih extends Error{static formatError(e,t){const a=t.label||t.path||"this";return a!==t.path&&(t=Object.assign({},t,{path:a})),"string"==typeof e?e.replace(Oh,((e,a)=>kh(t[a]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,a,n,r){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[Ch]="Error",this.name="ValidationError",this.value=t,this.path=a,this.type=n,this.errors=[],this.inner=[],Sh(e).forEach((e=>{if(Ih.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!r&&Error.captureStackTrace&&Error.captureStackTrace(this,Ih)}}let Ah={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:a,originalValue:n})=>{const r=null!=n&&n!==a?` (cast from the value \`${kh(n,!0)}\`).`:".";return"mixed"!==t?`${e} must be a \`${t}\` type, but the final value was: \`${kh(a,!0)}\``+r:`${e} must match the configured type. The validated value was: \`${kh(a,!0)}\``+r}},Th={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ph={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Mh={noUnknown:"${path} field has unspecified keys: ${unknown}"},Dh={notType:e=>{const{path:t,value:a,spec:n}=e,r=n.types.length;if(Array.isArray(a)){if(a.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${a.length} for value: \`${kh(a,!0)}\``;if(a.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${a.length} for value: \`${kh(a,!0)}\``}return Ih.formatError(Ah.notType,e)}};Object.assign(Object.create(null),{mixed:Ah,string:Th,number:{min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date:Ph,object:Mh,array:{min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},boolean:{isValue:"${path} field must be ${value}"},tuple:Dh});const Fh=e=>e&&e.__isYupSchema__;class Rh{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:a,then:n,otherwise:r}=t,i="function"==typeof a?a:(...e)=>e.every((e=>e===a));return new Rh(e,((e,t)=>{var a;let s=i(...e)?n:r;return null!=(a=null==s?void 0:s(t))?a:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let a=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),n=this.fn(a,e,t);if(void 0===n||n===e)return e;if(!Fh(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}}class Lh{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext="$"===this.key[0],this.isValue="."===this.key[0],this.isSibling=!this.isContext&&!this.isValue;let a=this.isContext?"$":this.isValue?".":"";this.path=this.key.slice(a.length),this.getter=this.path&&(0,hh.getter)(this.path,!0),this.map=t.map}getValue(e,t,a){let n=this.isContext?a:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Lh.prototype.__isYupRef=!0;const qh=e=>null==e;function jh(e){function t({value:t,path:a="",options:n,originalValue:r,schema:i},s,o){const{name:l,test:c,params:u,message:d,skipAbsent:m}=e;let{parent:p,context:f,abortEarly:h=i.spec.abortEarly,disableStackTrace:y=i.spec.disableStackTrace}=n;function _(e){return Lh.isRef(e)?e.getValue(t,p,f):e}function g(e={}){var n;const s=Object.assign({value:t,originalValue:r,label:i.spec.label,path:e.path||a,spec:i.spec},u,e.params);for(const e of Object.keys(s))s[e]=_(s[e]);const o=new Ih(Ih.formatError(e.message||d,s),t,s.path,e.type||l,null!=(n=e.disableStackTrace)?n:y);return o.params=s,o}const b=h?s:o;let v={path:a,parent:p,type:l,from:n.from,createError:g,resolve:_,options:n,originalValue:r,schema:i};const E=e=>{Ih.isError(e)?b(e):e?o(null):b(g())},w=e=>{Ih.isError(e)?b(e):s(e)};if(m&&qh(t))return E(!0);let x;try{var N;if(x=c.call(v,t,v),"function"==typeof(null==(N=x)?void 0:N.then)){if(n.sync)throw new Error(`Validation test of type: "${v.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(x).then(E,w)}}catch(e){return void w(e)}E(x)}return t.OPTIONS=e,t}function zh(e,t,a,n=a){let r,i,s;return t?((0,hh.forEach)(t,((o,l,c)=>{let u=l?o.slice(1,o.length-1):o,d="tuple"===(e=e.resolve({context:n,parent:r,value:a})).type,m=c?parseInt(u,10):0;if(e.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${s}" must contain an index to the tuple element, e.g. "${s}[0]"`);if(a&&m>=a.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${t}. because there is no value at that index. `);r=a,a=a&&a[m],e=d?e.spec.types[m]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e.type}")`);r=a,a=a&&a[u],e=e.fields[u]}i=u,s=l?"["+o+"]":"."+o})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}class Bh extends Set{describe(){const e=[];for(const t of this.values())e.push(Lh.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const a of this.values())t.push(e(a));return t}clone(){return new Bh(this.values())}merge(e,t){const a=this.clone();return e.forEach((e=>a.add(e))),t.forEach((e=>a.delete(e))),a}}function Hh(e,t=new Map){if(Fh(e)||!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);let a;if(e instanceof Date)a=new Date(e.getTime()),t.set(e,a);else if(e instanceof RegExp)a=new RegExp(e),t.set(e,a);else if(Array.isArray(e)){a=new Array(e.length),t.set(e,a);for(let n=0;n<e.length;n++)a[n]=Hh(e[n],t)}else if(e instanceof Map){a=new Map,t.set(e,a);for(const[n,r]of e.entries())a.set(n,Hh(r,t))}else if(e instanceof Set){a=new Set,t.set(e,a);for(const n of e)a.add(Hh(n,t))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);a={},t.set(e,a);for(const[n,r]of Object.entries(e))a[n]=Hh(r,t)}return a}class $h{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Bh,this._blacklist=new Bh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(Ah.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Hh(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let a=e(this);return this._mutate=t,a}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,a=e.clone();const n=Object.assign({},t.spec,a.spec);return a.spec=n,a.internalTests=Object.assign({},t.internalTests,a.internalTests),a._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),a._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),a.tests=t.tests,a.exclusiveTests=t.exclusiveTests,a.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),a.transforms=[...t.transforms,...a.transforms],a}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let a=t.conditions;t=t.clone(),t.conditions=[],t=a.reduce(((t,a)=>a.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,a,n,r;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(a=e.abortEarly)?a:this.spec.abortEarly,recursive:null!=(n=e.recursive)?n:this.spec.recursive,disableStackTrace:null!=(r=e.disableStackTrace)?r:this.spec.disableStackTrace})}cast(e,t={}){let a=this.resolve(Object.assign({value:e},t)),n="ignore-optionality"===t.assert,r=a._cast(e,t);if(!1!==t.assert&&!a.isType(r)){if(n&&qh(r))return r;let i=kh(e),s=kh(r);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${a.type}". \n\nattempted value: ${i} \n`+(s!==i?`result of cast: ${s}`:""))}return r}_cast(e,t){let a=void 0===e?e:this.transforms.reduce(((t,a)=>a.call(this,t,e,this)),e);return void 0===a&&(a=this.getDefault(t)),a}_validate(e,t={},a,n){let{path:r,originalValue:i=e,strict:s=this.spec.strict}=t,o=e;s||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let e of Object.values(this.internalTests))e&&l.push(e);this.runTests({path:r,value:o,originalValue:i,options:t,tests:l},a,(e=>{if(e.length)return n(e,o);this.runTests({path:r,value:o,originalValue:i,options:t,tests:this.tests},a,n)}))}runTests(e,t,a){let n=!1,{tests:r,value:i,originalValue:s,path:o,options:l}=e,c=e=>{n||(n=!0,t(e,i))},u=e=>{n||(n=!0,a(e,i))},d=r.length,m=[];if(!d)return u([]);let p={value:i,originalValue:s,path:o,options:l,schema:this};for(let e=0;e<r.length;e++)(0,r[e])(p,c,(function(e){e&&(Array.isArray(e)?m.push(...e):m.push(e)),--d<=0&&u(m)}))}asNestedTest({key:e,index:t,parent:a,parentPath:n,originalParent:r,options:i}){const s=null!=e?e:t;if(null==s)throw TypeError("Must include `key` or `index` for nested validations");const o="number"==typeof s;let l=a[s];const c=Object.assign({},i,{strict:!0,parent:a,value:l,originalValue:r[s],key:void 0,[o?"index":"key"]:s,path:o||s.includes(".")?`${n||""}[${l?s:`"${s}"`}]`:(n?`${n}.`:"")+e});return(e,t,a)=>this.resolve(c)._validate(l,c,t,a)}validate(e,t){var a;let n=this.resolve(Object.assign({},t,{value:e})),r=null!=(a=null==t?void 0:t.disableStackTrace)?a:n.spec.disableStackTrace;return new Promise(((a,i)=>n._validate(e,t,((e,t)=>{Ih.isError(e)&&(e.value=t),i(e)}),((e,t)=>{e.length?i(new Ih(e,t,void 0,void 0,r)):a(t)}))))}validateSync(e,t){var a;let n,r=this.resolve(Object.assign({},t,{value:e})),i=null!=(a=null==t?void 0:t.disableStackTrace)?a:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw Ih.isError(e)&&(e.value=t),e}),((t,a)=>{if(t.length)throw new Ih(t,e,void 0,void 0,i);n=a})),n}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(Ih.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(Ih.isError(e))return!1;throw e}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"==typeof t?t.call(this,e):Hh(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const a=this.clone({nullable:e});return a.internalTests.nullable=jh({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),a}optionality(e,t){const a=this.clone({optional:e});return a.internalTests.optionality=jh({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),a}optional(){return this.optionality(!0)}defined(e=Ah.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ah.notNull){return this.nullability(!1,e)}required(e=Ah.required){return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=Ah.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let a=this.clone(),n=jh(t),r=t.exclusive||t.name&&!0===a.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(a.exclusiveTests[t.name]=!!t.exclusive),a.tests=a.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(r)return!1;if(e.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),a.tests.push(n),a}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let a=this.clone(),n=Sh(e).map((e=>new Lh(e)));return n.forEach((e=>{e.isSibling&&a.deps.push(e.key)})),a.conditions.push("function"==typeof t?new Rh(n,t):Rh.fromOptions(n,t)),a}typeError(e){let t=this.clone();return t.internalTests.typeError=jh({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Ah.oneOf){let a=this.clone();return e.forEach((e=>{a._whitelist.add(e),a._blacklist.delete(e)})),a.internalTests.whiteList=jh({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,a=t.resolveAll(this.resolve);return!!a.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:a}})}}),a}notOneOf(e,t=Ah.notOneOf){let a=this.clone();return e.forEach((e=>{a._blacklist.add(e),a._whitelist.delete(e)})),a.internalTests.blacklist=jh({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,a=t.resolveAll(this.resolve);return!a.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:a}})}}),a}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:a,meta:n,optional:r,nullable:i}=t.spec,s={meta:n,label:a,optional:r,nullable:i,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,a)=>a.findIndex((t=>t.name===e.name))===t))};return s}}$h.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])$h.prototype[`${e}At`]=function(t,a,n={}){const{parent:r,parentPath:i,schema:s}=zh(this,t,a,n.context);return s[e](r&&r[i],Object.assign({},n,{parent:r,path:t}))};for(const e of["equals","is"])$h.prototype[e]=$h.prototype.oneOf;for(const e of["not","nope"])$h.prototype[e]=$h.prototype.notOneOf;let Vh=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Uh=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Wh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Gh=e=>qh(e)||e===e.trim(),Yh={}.toString();function Kh(){return new Zh}class Zh extends $h{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"==typeof e)}),this.withMutation((()=>{this.transform(((e,t,a)=>{if(!a.spec.coerce||a.isType(e))return e;if(Array.isArray(e))return e;const n=null!=e&&e.toString?e.toString():e;return n===Yh?e:n}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||Ah.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e,t=Th.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t=Th.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t=Th.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let a,n,r=!1;return t&&("object"==typeof t?({excludeEmptyString:r=!1,message:a,name:n}=t):a=t),this.test({name:n||"matches",message:a||Th.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&r||-1!==t.search(e)})}email(e=Th.email){return this.matches(Vh,{name:"email",message:e,excludeEmptyString:!0})}url(e=Th.url){return this.matches(Uh,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Th.uuid){return this.matches(Wh,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=Th.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:Gh})}lowercase(e=Th.lowercase){return this.transform((e=>qh(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>qh(e)||e===e.toLowerCase()})}uppercase(e=Th.uppercase){return this.transform((e=>qh(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>qh(e)||e===e.toUpperCase()})}}Kh.prototype=Zh.prototype;const Qh=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Xh(e,t=0){return Number(e)||t}let Jh=new Date("");function ey(){return new ty}class ty extends $h{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,a)=>!a.spec.coerce||a.isType(e)||null===e?e:(e=function(e){const t=Qh.exec(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;const a={year:Xh(t[1]),month:Xh(t[2],1)-1,day:Xh(t[3],1),hour:Xh(t[4]),minute:Xh(t[5]),second:Xh(t[6]),millisecond:t[7]?Xh(t[7].substring(0,3)):0,z:t[8]||void 0,plusMinus:t[9]||void 0,hourOffset:Xh(t[10]),minuteOffset:Xh(t[11])};if(void 0===a.z&&void 0===a.plusMinus)return new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond).valueOf();let n=0;return"Z"!==a.z&&void 0!==a.plusMinus&&(n=60*a.hourOffset+a.minuteOffset,"+"===a.plusMinus&&(n=0-n)),Date.UTC(a.year,a.month,a.day,a.hour,a.minute+n,a.second,a.millisecond)}(e),isNaN(e)?ty.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let a;if(Lh.isRef(e))a=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);a=n}return a}min(e,t=Ph.min){let a=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(a)}})}max(e,t=Ph.max){let a=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(a)}})}}function ay(e,t){let a=1/0;return e.some(((e,n)=>{var r;if(null!=(r=t.path)&&r.includes(e))return a=n,!0})),a}function ny(e){return(t,a)=>ay(e,t)-ay(e,a)}ty.INVALID_DATE=Jh,ey.prototype=ty.prototype,ey.INVALID_DATE=Jh;const ry=(e,t,a)=>{if("string"!=typeof e)return e;let n=e;try{n=JSON.parse(e)}catch(e){}return a.isType(n)?n:e};function iy(e){if("fields"in e){const t={};for(const[a,n]of Object.entries(e.fields))t[a]=iy(n);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=iy(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(iy)}):"optional"in e?e.optional():e}let sy=e=>"[object Object]"===Object.prototype.toString.call(e);const oy=ny([]);function ly(e){return new cy(e)}class cy extends $h{constructor(e){super({type:"object",check:e=>sy(e)||"function"==typeof e}),this.fields=Object.create(null),this._sortErrors=oy,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e,t={}){var a;let n=super._cast(e,t);if(void 0===n)return this.getDefault(t);if(!this._typeCheck(n))return n;let r=this.fields,i=null!=(a=t.stripUnknown)?a:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(n).filter((e=>!this._nodes.includes(e)))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),c=!1;for(const e of s){let a=r[e],s=e in n;if(a){let r,i=n[e];l.path=(t.path?`${t.path}.`:"")+e,a=a.resolve({value:i,context:t.context,parent:o});let s=a instanceof $h?a.spec:void 0,u=null==s?void 0:s.strict;if(null!=s&&s.strip){c=c||e in n;continue}r=t.__validating&&u?n[e]:a.cast(n[e],l),void 0!==r&&(o[e]=r)}else s&&!i&&(o[e]=n[e]);s===e in o&&o[e]===n[e]||(c=!0)}return c?o:n}_validate(e,t={},a,n){let{from:r=[],originalValue:i=e,recursive:s=this.spec.recursive}=t;t.from=[{schema:this,value:i},...r],t.__validating=!0,t.originalValue=i,super._validate(e,t,a,((e,r)=>{if(!s||!sy(r))return void n(e,r);i=i||r;let o=[];for(let e of this._nodes){let a=this.fields[e];a&&!Lh.isRef(a)&&o.push(a.asNestedTest({options:t,key:e,parent:r,parentPath:t.path,originalParent:i}))}this.runTests({tests:o,value:r,originalValue:i,options:t},a,(t=>{n(t.sort(this._sortErrors).concat(e),r)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),a=t.fields;for(let[e,t]of Object.entries(this.fields)){const n=a[e];a[e]=void 0===n?t:n}return t.withMutation((t=>t.setFields(a,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((a=>{var n;const r=this.fields[a];let i=e;null!=(n=i)&&n.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[a]})),t[a]=r&&"getDefault"in r?r.getDefault(i):void 0})),t}setFields(e,t){let a=this.clone();return a.fields=e,a._nodes=function(e,t=[]){let a=[],n=new Set,r=new Set(t.map((([e,t])=>`${e}-${t}`)));function i(e,t){let i=(0,hh.split)(e)[0];n.add(i),r.has(`${t}-${i}`)||a.push([t,i])}for(const t of Object.keys(e)){let a=e[t];n.add(t),Lh.isRef(a)&&a.isSibling?i(a.path,t):Fh(a)&&"deps"in a&&a.deps.forEach((e=>i(e,t)))}return gh().array(Array.from(n),a).reverse()}(e,t),a._sortErrors=ny(Object.keys(e)),t&&(a._excludedEdges=t),a}shape(e,t=[]){return this.clone().withMutation((a=>{let n=a._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),n=[...a._excludedEdges,...t]),a.setFields(Object.assign(a.fields,e),n)}))}partial(){const e={};for(const[t,a]of Object.entries(this.fields))e[t]="optional"in a&&a.optional instanceof Function?a.optional():a;return this.setFields(e)}deepPartial(){return iy(this)}pick(e){const t={};for(const a of e)this.fields[a]&&(t[a]=this.fields[a]);return this.setFields(t,this._excludedEdges.filter((([t,a])=>e.includes(t)&&e.includes(a))))}omit(e){const t=[];for(const a of Object.keys(this.fields))e.includes(a)||t.push(a);return this.pick(t)}from(e,t,a){let n=(0,hh.getter)(e,!0);return this.transform((r=>{if(!r)return r;let i=r;return((e,t)=>{const a=[...(0,hh.normalizePath)(t)];if(1===a.length)return a[0]in e;let n=a.pop(),r=(0,hh.getter)((0,hh.join)(a),!0)(e);return!(!r||!(n in r))})(r,e)&&(i=Object.assign({},r),a||delete i[e],i[t]=n(r)),i}))}json(){return this.transform(ry)}noUnknown(e=!0,t=Mh.noUnknown){"boolean"!=typeof e&&(t=e,e=!0);let a=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const a=function(e,t){let a=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===a.indexOf(e)))}(this.schema,t);return!e||0===a.length||this.createError({params:{unknown:a.join(", ")}})}});return a.spec.noUnknown=e,a}unknown(e=!0,t=Mh.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const a={};for(const n of Object.keys(t))a[e(n)]=t[n];return a}))}camelCase(){return this.transformKeys(yh.camelCase)}snakeCase(){return this.transformKeys(yh.snakeCase)}constantCase(){return this.transformKeys((e=>(0,yh.snakeCase)(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),a=super.describe(e);a.fields={};for(const[r,i]of Object.entries(t.fields)){var n;let t=e;null!=(n=t)&&n.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[r]})),a.fields[r]=i.describe(t)}return a}}ly.prototype=cy.prototype;const uy=(e,t)=>{if(e&&t){const{title:e,content:a,excerpt:n,status:r,featured_media:i,academy_booking_category:s,academy_booking_tag:o,meta:l}=t,{_academy_booking_type:c,_academy_booking_product_id:u,_academy_booking_class_type:d,_academy_booking_schedule_type:m,_academy_booking_schedule_time_zone:p,_academy_booking_duration:f,_academy_booking_schedule_time:h,_academy_booking_schedule_repeated_times:y,_academy_booking_drip_content:_,_academy_booking_private_booked_info:g}=l;return{title:e?.raw,content:a?.raw,excerpt:n,status:r,featured_media:i,academy_booking_category:s,academy_booking_tag:o,meta:{_academy_booking_type:c,_academy_booking_product_id:u,_academy_booking_class_type:d,_academy_booking_schedule_type:m,_academy_booking_schedule_time_zone:p,_academy_booking_duration:f,_academy_booking_schedule_time:h,_academy_booking_schedule_repeated_times:y,_academy_booking_drip_content:{schedule_by_date:_?.schedule_by_date?_?.schedule_by_date:"",schedule_by_enroll_date:_?.schedule_by_enroll_date?_?.schedule_by_enroll_date:0,schedule_by_prerequisite:_?.schedule_by_prerequisite?_?.schedule_by_prerequisite:[]},_academy_booking_private_booked_info:g}}}return{title:"",content:"",excerpt:"",status:"publish",featured_media:0,academy_booking_category:[],academy_booking_tag:[],meta:{_academy_booking_type:"free",_academy_booking_product_id:0,_academy_booking_class_type:"live",_academy_booking_schedule_type:"single",_academy_booking_schedule_time_zone:iu().tz.guess(),_academy_booking_duration:30,_academy_booking_schedule_time:{date:"",start_time:"",end_time:""},_academy_booking_schedule_repeated_times:[{day:"saturday",scheduleTimes:[{start_time:"",end_time:""}]}],_academy_booking_drip_content:{schedule_by_date:"",schedule_by_enroll_date:0,schedule_by_prerequisite:[]},_academy_booking_private_booked_info:""}}},dy=(e,t=0,a=0)=>{let n,r="",i="";return"single"===e.meta._academy_booking_schedule_type?(r=iu()(e.meta?._academy_booking_schedule_time?.start_time,"h:mm A"),i=iu()(e.meta?._academy_booking_schedule_time?.end_time,"h:mm A"),n=i.diff(r,"minutes")):"repeated"===e.meta._academy_booking_schedule_type&&(r=iu()(e?.meta?._academy_booking_schedule_repeated_times[t]?.scheduleTimes[a].start_time,"h:mm A"),i=iu()(e.meta?._academy_booking_schedule_repeated_times[t]?.scheduleTimes[a].end_time,"h:mm A"),n=i.diff(r,"minutes")),!n||parseInt(n)<parseInt(e?.meta?._academy_booking_duration)},my=(e,t=0,a=0)=>{let n,r="",i="";if("single"===e?.meta._academy_booking_schedule_type?(r=iu()(e?.meta?._academy_booking_schedule_time?.start_time,"h:mm A"),i=iu()(e?.meta?._academy_booking_schedule_time?.end_time,"h:mm A"),n=i.diff(r,"minutes")):"repeated"===e.meta._academy_booking_schedule_type&&(r=iu()(e?.meta?._academy_booking_schedule_repeated_times[t]?.scheduleTimes[a].start_time,"h:mm A"),i=iu()(e.meta?._academy_booking_schedule_repeated_times[t]?.scheduleTimes[a].end_time,"h:mm A"),n=i.diff(r,"minutes")),!n||parseInt(n)<parseInt(e?.meta?._academy_booking_duration))return(0,W.__)("Set your end time according to your duration.","academy")},py=[{label:"12:00 PM",value:"12:00 PM"},{label:"12:15 PM",value:"12:15 PM"},{label:"12:30 PM",value:"12:30 PM"},{label:"12:45 PM",value:"12:45 PM"},{label:"1:00 PM",value:"1:00 PM"},{label:"1:15 PM",value:"1:15 PM"},{label:"1:30 PM",value:"1:30 PM"},{label:"1:45 PM",value:"1:45 PM"},{label:"2:00 PM",value:"2:00 PM"},{label:"2:15 PM",value:"2:15 PM"},{label:"2:30 PM",value:"2:30 PM"},{label:"2:45 PM",value:"2:45 PM"},{label:"3:00 PM",value:"3:00 PM"},{label:"3:15 PM",value:"3:15 PM"},{label:"3:30 PM",value:"3:30 PM"},{label:"3:45 PM",value:"3:45 PM"},{label:"4:00 PM",value:"4:00 PM"},{label:"4:15 PM",value:"4:15 PM"},{label:"4:30 PM",value:"4:30 PM"},{label:"4:45 PM",value:"4:45 PM"},{label:"5:00 PM",value:"5:00 PM"},{label:"5:15 PM",value:"5:15 PM"},{label:"5:30 PM",value:"5:30 PM"},{label:"5:45 PM",value:"5:45 PM"},{label:"6:00 PM",value:"6:00 PM"},{label:"6:15 PM",value:"6:15 PM"},{label:"6:30 PM",value:"6:30 PM"},{label:"6:45 PM",value:"6:45 PM"},{label:"7:00 PM",value:"7:00 PM"},{label:"7:15 PM",value:"7:15 PM"},{label:"7:30 PM",value:"7:30 PM"},{label:"7:45 PM",value:"7:45 PM"},{label:"8:00 PM",value:"8:00 PM"},{label:"8:15 PM",value:"8:15 PM"},{label:"8:30 PM",value:"8:30 PM"},{label:"8:45 PM",value:"8:45 PM"},{label:"9:00 PM",value:"9:00 PM"},{label:"9:15 PM",value:"9:15 PM"},{label:"9:30 PM",value:"9:30 PM"},{label:"9:45 PM",value:"9:45 PM"},{label:"10:00 PM",value:"10:00 PM"},{label:"10:15 PM",value:"10:15 PM"},{label:"10:30 PM",value:"10:30 PM"},{label:"10:45 PM",value:"10:45 PM"},{label:"11:00 PM",value:"11:00 PM"},{label:"11:15 PM",value:"11:15 PM"},{label:"11:30 PM",value:"11:30 PM"},{label:"11:45 PM",value:"11:45 PM"},{label:"12:00 AM",value:"12:00 AM"},{label:"12:15 AM",value:"12:15 AM"},{label:"12:30 AM",value:"12:30 AM"},{label:"12:45 AM",value:"12:45 AM"},{label:"1:00 AM",value:"1:00 AM"},{label:"1:15 AM",value:"1:15 AM"},{label:"1:30 AM",value:"1:30 AM"},{label:"1:45 AM",value:"1:45 AM"},{label:"2:00 AM",value:"2:00 AM"},{label:"2:15 AM",value:"2:15 AM"},{label:"2:30 AM",value:"2:30 AM"},{label:"2:45 AM",value:"2:45 AM"},{label:"3:00 AM",value:"3:00 AM"},{label:"3:15 AM",value:"3:15 AM"},{label:"3:30 AM",value:"3:30 AM"},{label:"3:45 AM",value:"3:45 AM"},{label:"4:00 AM",value:"4:00 AM"},{label:"4:15 AM",value:"4:15 AM"},{label:"4:30 AM",value:"4:30 AM"},{label:"4:45 AM",value:"4:45 AM"},{label:"5:00 AM",value:"5:00 AM"},{label:"5:15 AM",value:"5:15 AM"},{label:"5:30 AM",value:"5:30 AM"},{label:"5:45 AM",value:"5:45 AM"},{label:"6:00 AM",value:"6:00 AM"},{label:"6:15 AM",value:"6:15 AM"},{label:"6:30 AM",value:"6:30 AM"},{label:"6:45 AM",value:"6:45 AM"},{label:"7:00 AM",value:"7:00 AM"},{label:"7:15 AM",value:"7:15 AM"},{label:"7:30 AM",value:"7:30 AM"},{label:"7:45 AM",value:"7:45 AM"},{label:"8:00 AM",value:"8:00 AM"},{label:"8:15 AM",value:"8:15 AM"},{label:"8:30 AM",value:"8:30 AM"},{label:"8:45 AM",value:"8:45 AM"},{label:"9:00 AM",value:"9:00 AM"},{label:"9:15 AM",value:"9:15 AM"},{label:"9:30 AM",value:"9:30 AM"},{label:"9:45 AM",value:"9:45 AM"},{label:"10:00 AM",value:"10:00 AM"},{label:"10:15 AM",value:"10:15 AM"},{label:"10:30 AM",value:"10:30 AM"},{label:"10:45 AM",value:"10:45 AM"},{label:"11:00 AM",value:"11:00 AM"},{label:"11:15 AM",value:"11:15 AM"},{label:"11:30 AM",value:"11:30 AM"},{label:"11:45 AM",value:"11:45 AM"}],fy=function(){const{values:t,setFieldValue:a}=ep();return(0,e.createElement)("div",{className:"academy-booking-days__single"},(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("div",{className:"academy-single-day-fields"},(0,e.createElement)("div",{className:"academy-single-day-fields__dropdown"},(0,e.createElement)("label",{className:"academy-single-day-label",htmlFor:"date"},(0,e.createElement)("span",null,(0,W.__)("Schedule Date","academy")),(0,e.createElement)("span",{className:"academy-days__sub-title"},(0,W.__)("Select a schedule date","academy"))),(0,e.createElement)(bp,{type:"date",id:"date",name:"meta._academy_booking_schedule_time.date",min:(new Date).toISOString().split("T")[0],className:"academy-input"})),""===t?.meta?._academy_booking_schedule_time?.date&&(0,e.createElement)("span",{className:"field-error-text"},"Please select a date."),(0,e.createElement)("div",{className:"academy-single-day-time-fields"},(0,e.createElement)(Pd,{id:"start_time",placeholder:"Start time",suffix:"start-time",name:"meta._academy_booking_schedule_time.start_time",options:py,value:py.find((e=>e.value===t?.meta?._academy_booking_schedule_time.start_time)),onChangeHandler:e=>a("meta._academy_booking_schedule_time.start_time",e)}),(0,e.createElement)("span",null,"-"),(0,e.createElement)(Pd,{id:"end_time",placeholder:"End time",suffix:"end-time",name:"meta._academy_booking_schedule_time.end_time",options:py,value:py.find((e=>e.value===t?.meta?._academy_booking_schedule_time.end_time)),onChangeHandler:e=>a("meta._academy_booking_schedule_time.end_time",e)})),dy(t)&&(0,e.createElement)("span",{className:"field-error-text"},my(t)))))},hy=[{label:(0,W.__)("Saturday","academy"),value:"saturday"},{label:(0,W.__)("Sunday","academy"),value:"sunday"},{label:(0,W.__)("Monday","academy"),value:"monday"},{label:(0,W.__)("Tuesday","academy"),value:"tuesday"},{label:(0,W.__)("Wednesday","academy"),value:"wednesday"},{label:(0,W.__)("Thursday","academy"),value:"thursday"},{label:(0,W.__)("Friday","academy"),value:"friday"}],yy=()=>{const{values:t,setFieldValue:a}=ep(),{_academy_booking_schedule_repeated_times:n}=t.meta,[r,i]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Cp,{name:"meta._academy_booking_schedule_repeated_times"},(({push:s,remove:o})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-booking-days"},(0,e.createElement)("div",{className:"academy-booking-days--wrap"},n.map(((s,l)=>(0,e.createElement)("div",{className:"academy-booking-days--wrap__repeated",key:l},(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("h3",{className:"academy-booking-days--title"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Schedule Days","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select a schedule date","academy"))),(0,e.createElement)(Pd,{name:`meta._academy_booking_schedule_repeated_times.${l}.day`,className:"academy-select academy-select__repeated",suffix:"schedule-date",options:hy,value:hy.find((e=>e.value===n[l]?.day)),onChangeHandler:e=>a(`meta._academy_booking_schedule_repeated_times.${l}.day`,e)})),(0,e.createElement)("div",{className:"academy-form-group academy-form-group__days"},(0,e.createElement)(Cp,{name:`meta._academy_booking_schedule_repeated_times.${l}.scheduleTimes`},(n=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-dynamic-time-fields"},r?(0,e.createElement)("div",{className:"academy-item-center"}," ",(0,e.createElement)(wd,null)):(0,e.createElement)(e.Fragment,null,t?.meta?._academy_booking_schedule_repeated_times[l]?.scheduleTimes.map(((r,s)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-dynamic-time-fields__fields",key:s},(0,e.createElement)("div",{className:"academy-dynamic-time-fields__fields--input"},(0,e.createElement)(Pd,{className:"academy-select academy-select__repeated-time",placeholder:"Start time",suffix:"schedule-date",name:`meta._academy_booking_schedule_repeated_times.${l}.scheduleTimes.${s}.start_time`,options:py,value:py.find((e=>e.value===t?.meta?._academy_booking_schedule_repeated_times[l].scheduleTimes[s].start_time)),onChangeHandler:e=>a(`meta._academy_booking_schedule_repeated_times.${l}.scheduleTimes.${s}.start_time`,e)}),(0,e.createElement)("span",null,"-"),(0,e.createElement)(Pd,{className:"academy-select academy-select__repeated-time",placeholder:"End time",suffix:"schedule-date",name:`meta._academy_booking_schedule_repeated_times.${l}.scheduleTimes.${s}.end_time`,options:py,value:py.find((e=>e.value===t?.meta?._academy_booking_schedule_repeated_times[l].scheduleTimes[s].end_time)),onChangeHandler:e=>a(`meta._academy_booking_schedule_repeated_times.${l}.scheduleTimes.${s}.end_time`,e)})),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),preset:"transparent",onClick:()=>{i(!0),n.remove(s),setTimeout((()=>{i(!1)}),1e3)}})),dy(t,l,s)&&(0,e.createElement)("span",{className:"field-error-text"},my(t,l,s))))))),(0,e.createElement)("div",{className:"academy-field-buttons"},(0,e.createElement)(lu,{label:(0,W.__)("Add Fields","academy"),preset:"transparent",suffix:"add-fields",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),onClick:()=>n.push({start_time:"",end_time:""})}),(0,e.createElement)(lu,{label:(0,W.__)("Remove","academy"),preset:"red",suffix:"remove-day",onClick:()=>o(l)}))))))))),n.length<7&&(0,e.createElement)("div",{className:"academy-booking-divider"},(0,e.createElement)(lu,{label:(0,W.__)("Add Day","academy"),className:"academy-btn academy-btn-add-day",preset:"transparent",border:"gray",size:"sm",suffix:"add-day",onClick:()=>s({day:hy[n?.length].value,scheduleTimes:[{start_time:"",end_time:""}]})}))))))))},_y={name:Zc().string,label:Zc().string,value:Zc().number,saveValueHandler:Zc().func,imageSize:Zc().string,supportedFile:Zc().string},gy={name:"",value:0,label:(0,W.__)("Upload Image","academy"),saveValueHandler:()=>{},imageSize:"700x430 pixels",supportedFile:".jpg, .jpeg, .gif, .png"};function by(a){const{value:n,name:r,saveValueHandler:i,imageSize:s,supportedFile:o,label:l}=a,[c,u]=(0,e.useState)({});return(0,e.useEffect)((()=>{n?Za.get(`wp/v2/media/${n}`).then((e=>{u({url:e.data.source_url})})):u({})}),[n]),(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-upload-image"},(0,e.createElement)("div",{className:"academy-upload-image-container"},(0,e.createElement)("div",{className:"academy-upload-image-container--wrap"},0===Object.keys(c).length?(0,e.createElement)("div",{className:"academy-upload-image-container--wrap--img"},(0,e.createElement)("div",{className:"academy-upload-image-container--wrap--img--linear"},(0,e.createElement)("span",{className:"academy-icon academy-icon--image"})),(0,e.createElement)("span",null,"Upload Image")):(0,e.createElement)(e.Fragment,null,Object.keys(c).length>0&&(0,e.createElement)("div",{className:"academy-upload-image-container--wrap--img--uploaded",style:{backgroundImage:`url(${c.url})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center center"}}))),(0,e.createElement)("div",{className:"academy-upload-image-container--details"},(0,e.createElement)("span",{className:"academy-upload-image-container--details--label"},l),(0,e.createElement)("div",{className:"academy-upload-image-container--details--info"},(0,e.createElement)("p",{className:"academy-upload-image-container--details--info--support"},(0,e.createElement)("span",null,(0,W.__)("File Support:","academy"))," ",o,"."),(0,e.createElement)("p",{className:"academy-upload-image-container--details--info--size"},(0,e.createElement)("span",null,(0,W.__)("Recommended size:","academy"))," ",s)),(0,e.createElement)(lu,{type:"button",onClick:e=>(e=>{e.preventDefault(),rn().then((e=>{i(r,e.id),u(e)}))})(e),preset:"clear",size:"sm",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--upload"}),label:Object.keys(c).length>0?(0,W.__)("Change","academy"):(0,W.__)("Upload","academy")}))),Object.keys(c).length>0&&(0,e.createElement)(lu,{onClick:()=>{i(r,0),u({})},type:"button",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),className:"academy-btn-delete",suffix:"delete",preset:"transparent"})))}by.propTypes=_y,by.defaultProps=gy;const vy={data:Zc().array,type:Zc().string},Ey=t=>{const{data:a,type:n}=t,[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(!1),m=zn();return(0,e.createElement)("div",null,r?(0,e.createElement)("div",{className:"academy-create-widget-form"},(0,e.createElement)("div",{className:"academy-create-widget-form__item"},(0,e.createElement)("label",{htmlFor:"newCatName"},(0,W.__)("New Category Name","academy")),(0,e.createElement)("input",{type:"text",className:"editor-post-taxonomies__hierarchical-terms-input",id:"newCatName",name:"name",placeholder:"",value:s,onChange:e=>o(e.target.value)})),(0,e.createElement)("div",{className:"academy-create-widget-form__item"},(0,e.createElement)("label",{htmlFor:"newCatParentId"},(0,W.__)("Parent Category","academy")),(0,e.createElement)("select",{className:"editor-post-taxonomies__hierarchical-terms-input",id:"newCatParentId",name:"parent",onChange:e=>c(e.target.value)},(0,e.createElement)("option",{label:(0,W.__)(" Parent Category ","academy")}),a.length>0&&a.map(((t,a)=>(0,e.createElement)(Rf,{item:t,key:a}))))),(0,e.createElement)("div",{className:"academy-create-widget-form__item academy-create-widget-form__item--button"},(0,e.createElement)(lu,{type:"button",onClick:()=>{if(""!==s.trim()){d(!0),i(!0);const e={name:s};""!==l&&(e.parent=l),"course"===n?m(Xp(e)).then((()=>{m(sr((0,W.__)("Category Added","academy"),!0,"success")),d(!1)})):m(Sf(e)).then((()=>{m(sr((0,W.__)("Category Added","academy"),!0,"success")),d(!1)})),setTimeout((()=>{o(""),c(""),i(!1)}),500)}},isLoading:u,label:(0,W.__)("Create","academy"),preset:"purple",size:"sm"}),(0,e.createElement)(lu,{type:"button",size:"sm",onClick:()=>i(!r),label:(0,W.__)("Cancel","academy"),preset:"gray"}))):(0,e.createElement)(lu,{type:"button",size:"lg",onClick:()=>i(!r),label:(0,W.__)("Add New Category","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),preset:"transparent",suffix:"add-category"}))};Ey.propTypes=vy,Ey.defaultProps={data:[],type:"academy_courses_category"};const wy=Ey,xy=({termItem:t,values:a,onChangeCategory:n})=>{const r=(t.children||[]).map((t=>(0,e.createElement)(xy,{termItem:t,key:t.id,values:a,onChangeCategory:n,type:"child"})));return(0,e.createElement)("div",{className:"term-list__item"},(0,e.createElement)(eu.CheckboxControl,{label:t.name,value:t.id,onChange:e=>n(e,t),checked:a?.includes(t.id)}),r)},Ny=t=>{const{values:a,saveValueHandler:n,type:r,label:i}=t,s=An((e=>e.categories)),o=An((e=>e.bookings.categories)),l=zn();(0,e.useEffect)((()=>{"course"===r?(!s.data||s.data&&s.data.length<=1)&&l(Jp()):(!o||o&&o.length<=1)&&l(kf())}),[]);const c="course"===r?s.data:o,u=(e,t)=>{n("course"===r?"academy_courses_category":"academy_booking_category",e?[...a,t.id]:a.filter((e=>parseInt(e)!==parseInt(t.id))))};return(0,e.createElement)("div",{className:"academy-widget academy-widget--category"},(0,e.createElement)("h4",{className:"academy-title"},i),(0,e.createElement)("div",{className:"academy-widget__body"},c&&c.length>0&&(0,e.createElement)("div",{className:"term-list"},sn(c).map(((t,n)=>(0,e.createElement)(xy,{termItem:t,key:n,values:a,onChangeCategory:u}))))),Aa.manage_categories&&(0,e.createElement)(wy,{data:sn(c),type:r}))};Ny.propTypes={},Ny.defaultProps={};const ky=Ny,Sy={type:Zc().string,isRequired:Zc().bool},Cy=({title:t,name:a,metaName:n,desc:r,topics:i,currentItemId:s})=>{const{values:o,setFieldValue:l}=ep(),c=o?.meta[n]?.schedule_by_prerequisite,u=[{label:"Lesson",options:i.reduce(((e,t)=>("lesson"===t.type&&parseInt(t.id)!==parseInt(s)&&e.push({label:`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} - ${t.name}`,type:t.type,value:t.id}),e)),[])},{label:"Quiz",options:i.reduce(((e,t)=>("quiz"===t.type&&parseInt(t.id)!==parseInt(s)&&e.push({label:`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} - ${t.name}`,type:t.type,value:t.id}),e)),[])},{label:"Assignment",options:i.reduce(((e,t)=>("assignment"===t.type&&parseInt(t.id)!==parseInt(s)&&e.push({label:`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} - ${t.name}`,type:t.type,value:t.id}),e)),[])},{label:"Tutor Booking",options:i.reduce(((e,t)=>("booking"===t.type&&parseInt(t.id)!==parseInt(s)&&e.push({label:`${t.type.charAt(0).toUpperCase()+t.type.slice(1)} - ${t.name}`,type:t.type,value:t.id}),e)),[])}];return(0,e.createElement)("div",{className:"academy-content-drip-days"},(0,e.createElement)("h4",{className:"academy-content-drip-title"},t),(0,e.createElement)(Pd,{isMulti:!0,className:"academy-select",classNamePrefix:"academy-react-select",isGrouped:!0,isSearchable:!0,value:c,options:u,onChangeHandler:e=>l(a,e)}),(0,e.createElement)("p",{className:"academy-content-drip-description"},r))},Oy=({title:t,fieldType:a,name:n,desc:r,isRequired:i})=>(0,e.createElement)("div",{className:"academy-content-drip-days"},(0,e.createElement)("h4",{className:"academy-content-drip-title"},t),"number"===a?(0,e.createElement)(bp,{name:n,type:"number",className:i?"academy-input-field-required":"",id:n,min:"0"}):(0,e.createElement)(bp,{name:n,type:a,id:n}),i&&(0,e.createElement)("p",{className:"academy-field-required"},(0,W.__)("*Required","academy")),(0,e.createElement)("p",{className:"academy-content-drip-description"},r)),Iy=({type:t,name:a,topics:n,currentItemId:r,isDripContentEnable:i,isRequired:s})=>{const o=!i&&null===t,l=i&&""!==t&&"schedule_by_sequentially"!==t;return(0,e.createElement)("div",{className:"academy-drip-content"},o?(0,e.createElement)("div",{className:"academy-drip-content-info"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,e.createElement)("p",null,(0,W.__)("Please set Content Drip settings from","academy")," ",(0,e.createElement)("b",null,(0,W.__)("Course Builder","academy")),".")):(0,e.createElement)(e.Fragment,null,l&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",null,(0,W.__)("Content Drip Settings","academy")),(0,e.createElement)("div",{className:"academy-drip-content__settings"},((t,a,n,r,i)=>{switch(t){case"schedule_by_prerequisite":return(0,e.createElement)(Cy,{title:(0,W.__)("Will Unlocking after selected content is finished","academy"),name:`meta.${a}.schedule_by_prerequisite`,metaName:a,desc:(0,W.__)("This lesson will be available after the selected prerequisite content is finished","academy"),topics:n,currentItemId:r});case"schedule_by_enroll_date":return(0,e.createElement)(Oy,{title:(0,W.__)("Will Unlocking after selected days","academy"),fieldType:"number",name:`meta.${a}.schedule_by_enroll_date`,desc:(0,W.__)("This lesson will be available after the given number of days.","academy"),isRequired:i});case"schedule_by_date":return(0,e.createElement)(Oy,{title:(0,W.__)("Unlocking Date","academy"),fieldType:"date",name:`meta.${a}.schedule_by_date`,desc:(0,W.__)("This lesson will be available on selected date.","academy")})}})(t,a,n,r,s)))))};Iy.propTypes=Sy,Iy.defaultProps={name:"drip_content",metaName:"drip_content",isRequired:!1,type:null};const Ay=Iy,Ty=e=>async t=>{try{return await Za.post(pa+"academy_courses_tag",e).then((e=>(t({type:Yp,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Py=(e="")=>async t=>{try{let a={per_page:100};e&&(a={...a,search:e}),await Za.get(pa+"academy_courses_tag",{params:a}).then((e=>{t({type:Qp,payload:{data:e.data}})}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},My=t=>{const{values:a,saveValueHandler:n,type:r,label:i}=t,[s,o]=(0,e.useState)([]),l=An((e=>e.tags)),c=An((e=>e.bookings.tags)),u=zn(),d="course"===r?l.data:c;return(0,e.useEffect)((()=>{"course"===r?(!l.data||l&&l.length<=1)&&u(Py()):c?.length||u(Cf())}),[]),(0,e.useEffect)((()=>{"course"===r?l.data?.length&&o(en(l?.data)):c?.length&&o(en(c))}),[d]),(0,e.createElement)("div",{className:"academy-widget academy-widget--tags"},(0,e.createElement)("h4",{className:"academy-title"},i),(0,e.createElement)("div",{className:"academy-widget__body"},(0,e.createElement)(eu.FormTokenField,{className:"academy-form-control",value:tn(d,a),suggestions:s,onChange:e=>(e=>{const t="course"===r?"academy_courses_tag":"academy_booking_tag";if(a&&e.length<a.length)n(t,d.filter((t=>e.includes(t.name))).reduce(((e,t)=>(e.push(t.id),e)),[]));else{const i=e[e.length-1];if(s.includes(i)){const e=d.filter((e=>e.name===i)).reduce(((e,t)=>(e.push(t.id),e)),[]);n(t,a?[...a,...e]:[...e])}else"course"===r?u(Ty({name:i})).then((e=>{const r=e.data.id?e.data.id:e.data.term_id;r&&n(t,a?[...a,r]:[r])})):u(Of({name:i})).then((e=>{const r=e.data.id?e.data.id:e.data.term_id;r&&n(t,a?[...a,r]:[r])}))}})(e)})))};var Dy=a(4290),Fy=a.n(Dy);function Ry({name:a,defaultValue:n,saveValueHandler:r}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-editor-notice"},(0,e.createElement)("span",{className:"academy-icon academy-icon--info-circle"}),(0,e.createElement)("strong",null,(0,W.__)("Due to a compatibility issue with WordPress 6.6, our Isolated Block Editor is temporarily replaced with Quill Editor. We are working on a fix and appreciate your patience.","academy"))),(0,e.createElement)(Fy(),{theme:"snow",value:n,onChange:e=>r(a,e)}))}const Ly={description:Zc().string,title:Zc().string,action:Zc().string,updateAction:Zc().string,regularPrice:Zc().number,isForceProductCreation:Zc().bool,isRegularFieldDisabled:Zc().bool},qy={description:(0,W.__)("Set your products discount price","academy"),title:"",action:"academy_pro_woo/get_product",updateAction:"academy_pro_woo/create_or_update_product",isForceProductCreation:!1,isRegularFieldDisabled:!1,regularPrice:!1},jy=({productId:t,name:a,setFieldValue:n,description:r,regularPrice:i,title:s,isForceProductCreation:o,isRegularFieldDisabled:l,action:c,updateAction:u})=>{const{values:d}=ep(),{post_ID:m,slug:p}=d,[f,h]=(0,e.useState)({}),[y,_]=(0,e.useState)(!1),[g,b]=(0,e.useState)(!1),[v,E]=(0,e.useState)(s||""),w=zn();return(0,e.useEffect)((()=>{const e=setTimeout((()=>{E(s||"")}),1e3);return()=>clearTimeout(e)}),[s]),(0,e.useEffect)((()=>{h({regular_price:i||0,sale_price:0})}),[i]),(0,e.useEffect)((()=>{if(o&&0===t&&!1!==i&&""!==v){let e={};e="academy_pro_woo/get_product"===c?{course_id:m,course_title:v,course_slug:p,product_id:t,regular_price:i||0,sale_price:0}:{course_id:m,download_id:t,course_title:v,course_slug:p,price:i||0},nn({action:u,...e}).then((e=>{n(a,e?.data?.data?.product_id?e?.data?.data?.product_id:e?.data?.data?.download_id),h(e?.data?.data)}))}}),[o,i,v]),(0,e.useEffect)((()=>{if(t){let e={};e="academy_pro_woo/get_product"===c?{productId:t}:{download_id:t},nn({action:c,...e}).then((e=>{const t=e?.data?.data?.product_id?e?.data?.data?.product_id:e?.data?.data?.download_id;e?.data?.data&&h("academy_pro_woo/get_product"===c?e?.data?.data:{regular_price:e?.data?.data.regular_price,product_id:t})}))}else h({regular_price:i||0,sale_price:0})}),[t]),(0,e.createElement)(fp,{enableReinitialize:!0,initialValues:{course_id:m,course_title:v,course_slug:p,product_id:t,regular_price:0,sale_price:0,...f},onSubmit:(e,{setSubmitting:t})=>{if(parseInt(e.sale_price)<parseInt(e.regular_price)&&""!==e.course_title){let r={};r="academy_pro_woo/get_product"===c?{...e}:{course_id:m,course_title:v,course_slug:p,download_id:e?.product_id,regular_price:e.regular_price},t(!0),nn({action:u,...r}).then((e=>{n(a,e?.data?.data?.product_id?e?.data?.data?.product_id:e?.data?.data?.download_id),h(e?.data?.data?.download_id?{regular_price:e?.data?.data.regular_price,product_id:e?.data?.data?.download_id}:e?.data?.data),t(!1),e.data.success?w(sr((0,W.__)("Price Updated","academy"),!0,"success")):w(sr((0,W.__)("Something went wrong!","academy"),!0,"error"))}))}}},(({values:a,submitForm:n})=>(parseInt(a?.regular_price)&&_(!(a?.sale_price<parseInt(a?.regular_price))),0!==parseInt(a?.regular_price)&&l&&"academy_pro_woo/get_product"===c&&setTimeout((()=>{b(!0)}),1e3),(0,e.createElement)("div",{className:"academy-price-field"},(0,e.createElement)("div",{className:"meta-field meta-field--woocommerce"},(0,e.createElement)("label",{htmlFor:"regularPrice"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Regular Price","academy"))),(0,e.createElement)("div",{className:"academy-input"},(0,e.createElement)(bp,{id:"regularPrice",className:"academy-form-control",type:"number",name:"regular_price",placeholder:"Regular Price",min:"0",defaultValue:"0",disabled:g,step:"any",onBlur:n}))),"academy_pro_woo/get_product"===c&&(0,e.createElement)("div",{className:`meta-field ${0===parseInt(t)&&"meta-field--disabled"} meta-field--woocommerce`},(0,e.createElement)("label",{htmlFor:"salePrice"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Sale Price","academy"))),(0,e.createElement)("div",{className:"academy-input"},(0,e.createElement)(bp,{id:"salePrice",className:"academy-form-control",type:"number",name:"sale_price",placeholder:"Sale Price",min:"0",defaultValue:"0",step:"any",disabled:0===parseInt(t),onBlur:n})),(0,e.createElement)("div",null,(0,e.createElement)("p",{className:"academy-sub-title"},r),y&&(0,e.createElement)("p",{className:"error"},(0,W.__)("Please enter a value less then the Regular Price"))))))))};jy.propTypes=Ly,jy.defaultProps=qy;const zy=jy;var By=a(1413);function Hy(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function $y(e,t){if(null==e)return{};var a,n,r=Hy(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Vy=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var Uy=function(){function e(e){var t=this;this._insertTag=function(e){var a;a=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,a),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{a.insertRule(e,a.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Wy=Math.abs,Gy=String.fromCharCode,Yy=Object.assign;function Ky(e){return e.trim()}function Zy(e,t,a){return e.replace(t,a)}function Qy(e,t){return e.indexOf(t)}function Xy(e,t){return 0|e.charCodeAt(t)}function Jy(e,t,a){return e.slice(t,a)}function e_(e){return e.length}function t_(e){return e.length}function a_(e,t){return t.push(e),e}var n_=1,r_=1,i_=0,s_=0,o_=0,l_="";function c_(e,t,a,n,r,i,s){return{value:e,root:t,parent:a,type:n,props:r,children:i,line:n_,column:r_,length:s,return:""}}function u_(e,t){return Yy(c_("",null,null,"",null,null,0),e,{length:-e.length},t)}function d_(){return o_=s_>0?Xy(l_,--s_):0,r_--,10===o_&&(r_=1,n_--),o_}function m_(){return o_=s_<i_?Xy(l_,s_++):0,r_++,10===o_&&(r_=1,n_++),o_}function p_(){return Xy(l_,s_)}function f_(){return s_}function h_(e,t){return Jy(l_,e,t)}function y_(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g_(e){return n_=r_=1,i_=e_(l_=e),s_=0,[]}function b_(e){return l_="",e}function v_(e){return Ky(h_(s_-1,x_(91===e?e+2:40===e?e+1:e)))}function E_(e){for(;(o_=p_())&&o_<33;)m_();return y_(e)>2||y_(o_)>3?"":" "}function w_(e,t){for(;--t&&m_()&&!(o_<48||o_>102||o_>57&&o_<65||o_>70&&o_<97););return h_(e,f_()+(t<6&&32==p_()&&32==m_()))}function x_(e){for(;m_();)switch(o_){case e:return s_;case 34:case 39:34!==e&&39!==e&&x_(o_);break;case 40:41===e&&x_(e);break;case 92:m_()}return s_}function N_(e,t){for(;m_()&&e+o_!==57&&(e+o_!==84||47!==p_()););return"/*"+h_(t,s_-1)+"*"+Gy(47===e?e:m_())}function k_(e){for(;!y_(p_());)m_();return h_(e,s_)}var S_="-ms-",C_="-moz-",O_="-webkit-",I_="comm",A_="rule",T_="decl",P_="@keyframes";function M_(e,t){for(var a="",n=t_(e),r=0;r<n;r++)a+=t(e[r],r,e,t)||"";return a}function D_(e,t,a,n){switch(e.type){case"@import":case T_:return e.return=e.return||e.value;case I_:return"";case P_:return e.return=e.value+"{"+M_(e.children,n)+"}";case A_:e.value=e.props.join(",")}return e_(a=M_(e.children,n))?e.return=e.value+"{"+a+"}":""}function F_(e,t){switch(function(e,t){return(((t<<2^Xy(e,0))<<2^Xy(e,1))<<2^Xy(e,2))<<2^Xy(e,3)}(e,t)){case 5103:return O_+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return O_+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return O_+e+C_+e+S_+e+e;case 6828:case 4268:return O_+e+S_+e+e;case 6165:return O_+e+S_+"flex-"+e+e;case 5187:return O_+e+Zy(e,/(\w+).+(:[^]+)/,O_+"box-$1$2"+S_+"flex-$1$2")+e;case 5443:return O_+e+S_+"flex-item-"+Zy(e,/flex-|-self/,"")+e;case 4675:return O_+e+S_+"flex-line-pack"+Zy(e,/align-content|flex-|-self/,"")+e;case 5548:return O_+e+S_+Zy(e,"shrink","negative")+e;case 5292:return O_+e+S_+Zy(e,"basis","preferred-size")+e;case 6060:return O_+"box-"+Zy(e,"-grow","")+O_+e+S_+Zy(e,"grow","positive")+e;case 4554:return O_+Zy(e,/([^-])(transform)/g,"$1"+O_+"$2")+e;case 6187:return Zy(Zy(Zy(e,/(zoom-|grab)/,O_+"$1"),/(image-set)/,O_+"$1"),e,"")+e;case 5495:case 3959:return Zy(e,/(image-set\([^]*)/,O_+"$1$`$1");case 4968:return Zy(Zy(e,/(.+:)(flex-)?(.*)/,O_+"box-pack:$3"+S_+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+O_+e+e;case 4095:case 3583:case 4068:case 2532:return Zy(e,/(.+)-inline(.+)/,O_+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(e_(e)-1-t>6)switch(Xy(e,t+1)){case 109:if(45!==Xy(e,t+4))break;case 102:return Zy(e,/(.+:)(.+)-([^]+)/,"$1"+O_+"$2-$3$1"+C_+(108==Xy(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Qy(e,"stretch")?F_(Zy(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Xy(e,t+1))break;case 6444:switch(Xy(e,e_(e)-3-(~Qy(e,"!important")&&10))){case 107:return Zy(e,":",":"+O_)+e;case 101:return Zy(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+O_+(45===Xy(e,14)?"inline-":"")+"box$3$1"+O_+"$2$3$1"+S_+"$2box$3")+e}break;case 5936:switch(Xy(e,t+11)){case 114:return O_+e+S_+Zy(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return O_+e+S_+Zy(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return O_+e+S_+Zy(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return O_+e+S_+e+e}return e}function R_(e){return function(t){t.root||(t=t.return)&&e(t)}}function L_(e){return b_(q_("",null,null,null,[""],e=g_(e),0,[0],e))}function q_(e,t,a,n,r,i,s,o,l){for(var c=0,u=0,d=s,m=0,p=0,f=0,h=1,y=1,_=1,g=0,b="",v=r,E=i,w=n,x=b;y;)switch(f=g,g=m_()){case 40:if(108!=f&&58==x.charCodeAt(d-1)){-1!=Qy(x+=Zy(v_(g),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:x+=v_(g);break;case 9:case 10:case 13:case 32:x+=E_(f);break;case 92:x+=w_(f_()-1,7);continue;case 47:switch(p_()){case 42:case 47:a_(z_(N_(m_(),f_()),t,a),l);break;default:x+="/"}break;case 123*h:o[c++]=e_(x)*_;case 125*h:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+u:p>0&&e_(x)-d&&a_(p>32?B_(x+";",n,a,d-1):B_(Zy(x," ","")+";",n,a,d-2),l);break;case 59:x+=";";default:if(a_(w=j_(x,t,a,c,u,r,o,b,v=[],E=[],d),i),123===g)if(0===u)q_(x,t,w,w,v,i,d,o,E);else switch(m){case 100:case 109:case 115:q_(e,w,w,n&&a_(j_(e,w,w,0,0,r,o,b,r,v=[],d),E),r,E,d,o,n?v:E);break;default:q_(x,w,w,w,[""],E,0,o,E)}}c=u=p=0,h=_=1,b=x="",d=s;break;case 58:d=1+e_(x),p=f;default:if(h<1)if(123==g)--h;else if(125==g&&0==h++&&125==d_())continue;switch(x+=Gy(g),g*h){case 38:_=u>0?1:(x+="\f",-1);break;case 44:o[c++]=(e_(x)-1)*_,_=1;break;case 64:45===p_()&&(x+=v_(m_())),m=p_(),u=d=e_(b=x+=k_(f_())),g++;break;case 45:45===f&&2==e_(x)&&(h=0)}}return i}function j_(e,t,a,n,r,i,s,o,l,c,u){for(var d=r-1,m=0===r?i:[""],p=t_(m),f=0,h=0,y=0;f<n;++f)for(var _=0,g=Jy(e,d+1,d=Wy(h=s[f])),b=e;_<p;++_)(b=Ky(h>0?m[_]+" "+g:Zy(g,/&\f/g,m[_])))&&(l[y++]=b);return c_(e,t,a,0===r?A_:o,l,c,u)}function z_(e,t,a){return c_(e,t,a,I_,Gy(o_),Jy(e,2,-2),0)}function B_(e,t,a,n){return c_(e,t,a,T_,Jy(e,0,n),Jy(e,n+1,-1),n)}var H_=function(e,t,a){for(var n=0,r=0;n=r,r=p_(),38===n&&12===r&&(t[a]=1),!y_(r);)m_();return h_(e,s_)},$_=new WeakMap,V_=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,a=e.parent,n=e.column===a.column&&e.line===a.line;"rule"!==a.type;)if(!(a=a.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$_.get(a))&&!n){$_.set(e,!0);for(var r=[],i=function(e,t){return b_(function(e,t){var a=-1,n=44;do{switch(y_(n)){case 0:38===n&&12===p_()&&(t[a]=1),e[a]+=H_(s_-1,t,a);break;case 2:e[a]+=v_(n);break;case 4:if(44===n){e[++a]=58===p_()?"&\f":"",t[a]=e[a].length;break}default:e[a]+=Gy(n)}}while(n=m_());return e}(g_(e),t))}(t,r),s=a.props,o=0,l=0;o<i.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=r[o]?i[o].replace(/&\f/g,s[c]):s[c]+" "+i[o]}}},U_=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},W_=[function(e,t,a,n){if(e.length>-1&&!e.return)switch(e.type){case T_:e.return=F_(e.value,e.length);break;case P_:return M_([u_(e,{value:Zy(e.value,"@","@"+O_)})],n);case A_:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return M_([u_(e,{props:[Zy(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return M_([u_(e,{props:[Zy(t,/:(plac\w+)/,":"+O_+"input-$1")]}),u_(e,{props:[Zy(t,/:(plac\w+)/,":-moz-$1")]}),u_(e,{props:[Zy(t,/:(plac\w+)/,S_+"input-$1")]})],n)}return""}))}}];const G_=function(e){var t=e.key;if("css"===t){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,r,i=e.stylisPlugins||W_,s={},o=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),a=1;a<t.length;a++)s[t[a]]=!0;o.push(e)}));var l,c,u,d=[V_,U_],m=[D_,R_((function(e){l.insert(e)}))],p=(c=d.concat(i,m),u=t_(c),function(e,t,a,n){for(var r="",i=0;i<u;i++)r+=c[i](e,t,a,n)||"";return r});r=function(e,t,a,n){l=a,M_(L_(e?e+"{"+t.styles+"}":t.styles),p),n&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Uy({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:r};return f.sheet.hydrate(o),f};var Y_=function(e,t,a){var n=e.key+"-"+t.name;!1===a&&void 0===e.registered[n]&&(e.registered[n]=t.styles)};const K_=function(e){for(var t,a=0,n=0,r=e.length;r>=4;++n,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(r){case 3:a^=(255&e.charCodeAt(n+2))<<16;case 2:a^=(255&e.charCodeAt(n+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(n)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)},Z_={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Q_=function(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}};var X_=/[A-Z]|^ms/g,J_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eg=function(e){return 45===e.charCodeAt(1)},tg=function(e){return null!=e&&"boolean"!=typeof e},ag=Q_((function(e){return eg(e)?e:e.replace(X_,"-$&").toLowerCase()})),ng=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(J_,(function(e,t,a){return ig={name:t,styles:a,next:ig},t}))}return 1===Z_[e]||eg(e)||"number"!=typeof t||0===t?t:t+"px"};function rg(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return ig={name:a.name,styles:a.styles,next:ig},a.name;if(void 0!==a.styles){var n=a.next;if(void 0!==n)for(;void 0!==n;)ig={name:n.name,styles:n.styles,next:ig},n=n.next;return a.styles+";"}return function(e,t,a){var n="";if(Array.isArray(a))for(var r=0;r<a.length;r++)n+=rg(e,t,a[r])+";";else for(var i in a){var s=a[i];if("object"!=typeof s)null!=t&&void 0!==t[s]?n+=i+"{"+t[s]+"}":tg(s)&&(n+=ag(i)+":"+ng(i,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var o=rg(e,t,s);switch(i){case"animation":case"animationName":n+=ag(i)+":"+o+";";break;default:n+=i+"{"+o+"}"}}else for(var l=0;l<s.length;l++)tg(s[l])&&(n+=ag(i)+":"+ng(i,s[l])+";")}return n}(e,t,a);case"function":if(void 0!==e){var r=ig,i=a(e);return ig=r,rg(e,t,i)}}if(null==t)return a;var s=t[a];return void 0!==s?s:a}var ig,sg=/label:\s*([^\s;\n{]+)\s*(;|$)/g,og=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,r="";ig=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,r+=rg(a,t,i)):r+=i[0];for(var s=1;s<e.length;s++)r+=rg(a,t,e[s]),n&&(r+=i[s]);sg.lastIndex=0;for(var o,l="";null!==(o=sg.exec(r));)l+="-"+o[1];return{name:K_(r)+l,styles:r,next:ig}},lg=!!e.useInsertionEffect&&e.useInsertionEffect||function(e){return e()},cg={}.hasOwnProperty,ug=(0,e.createContext)("undefined"!=typeof HTMLElement?G_({key:"css"}):null);ug.Provider;var dg=function(t){return(0,e.forwardRef)((function(a,n){var r=(0,e.useContext)(ug);return t(a,r,n)}))},mg=(0,e.createContext)({}),pg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fg=function(e){var t=e.cache,a=e.serialized,n=e.isStringTag;return Y_(t,a,n),lg((function(){return function(e,t,a){Y_(e,t,a);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+n:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,a,n)})),null},hg=dg((function(t,a,n){var r=t.css;"string"==typeof r&&void 0!==a.registered[r]&&(r=a.registered[r]);var i=t[pg],s=[r],o="";"string"==typeof t.className?o=function(e,t,a){var n="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):n+=a+" "})),n}(a.registered,s,t.className):null!=t.className&&(o=t.className+" ");var l=og(s,void 0,(0,e.useContext)(mg));o+=a.key+"-"+l.name;var c={};for(var u in t)cg.call(t,u)&&"css"!==u&&u!==pg&&(c[u]=t[u]);return c.ref=n,c.className=o,(0,e.createElement)(e.Fragment,null,(0,e.createElement)(fg,{cache:a,serialized:l,isStringTag:"string"==typeof i}),(0,e.createElement)(i,c))})),yg=function(t,a){var n=arguments;if(null==a||!cg.call(a,"css"))return e.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=hg,i[1]=function(e,t){var a={};for(var n in t)cg.call(t,n)&&(a[n]=t[n]);return a[pg]=e,a}(t,a);for(var s=2;s<r;s++)i[s]=n[s];return e.createElement.apply(null,i)};function _g(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return og(t)}const gg=Math.min,bg=Math.max,vg=Math.round,Eg=Math.floor,wg=e=>({x:e,y:e});function xg(e){return Sg(e)?(e.nodeName||"").toLowerCase():"#document"}function Ng(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function kg(e){var t;return null==(t=(Sg(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Sg(e){return e instanceof Node||e instanceof Ng(e).Node}function Cg(e){return e instanceof Element||e instanceof Ng(e).Element}function Og(e){return e instanceof HTMLElement||e instanceof Ng(e).HTMLElement}function Ig(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Ng(e).ShadowRoot)}function Ag(e){const{overflow:t,overflowX:a,overflowY:n,display:r}=Tg(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+a)&&!["inline","contents"].includes(r)}function Tg(e){return Ng(e).getComputedStyle(e)}function Pg(e){const t=function(e){if("html"===xg(e))return e;const t=e.assignedSlot||e.parentNode||Ig(e)&&e.host||kg(e);return Ig(t)?t.host:t}(e);return function(e){return["html","body","#document"].includes(xg(e))}(t)?e.ownerDocument?e.ownerDocument.body:e.body:Og(t)&&Ag(t)?t:Pg(t)}function Mg(e,t){var a;void 0===t&&(t=[]);const n=Pg(e),r=n===(null==(a=e.ownerDocument)?void 0:a.body),i=Ng(n);return r?t.concat(i,i.visualViewport||[],Ag(n)?n:[]):t.concat(n,Mg(n))}function Dg(e){return Cg(e)?e:e.contextElement}function Fg(e){const t=Dg(e);if(!Og(t))return wg(1);const a=t.getBoundingClientRect(),{width:n,height:r,$:i}=function(e){const t=Tg(e);let a=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=Og(e),i=r?e.offsetWidth:a,s=r?e.offsetHeight:n,o=vg(a)!==i||vg(n)!==s;return o&&(a=i,n=s),{width:a,height:n,$:o}}(t);let s=(i?vg(a.width):a.width)/n,o=(i?vg(a.height):a.height)/r;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const Rg=wg(0);function Lg(e){const t=Ng(e);return"undefined"!=typeof CSS&&CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Rg}function qg(e,t,a,n){void 0===t&&(t=!1),void 0===a&&(a=!1);const r=e.getBoundingClientRect(),i=Dg(e);let s=wg(1);t&&(n?Cg(n)&&(s=Fg(n)):s=Fg(e));const o=function(e,t,a){return void 0===t&&(t=!1),!(!a||t&&a!==Ng(e))&&t}(i,a,n)?Lg(i):wg(0);let l=(r.left+o.x)/s.x,c=(r.top+o.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const e=Ng(i),t=n&&Cg(n)?Ng(n):n;let a=e.frameElement;for(;a&&n&&t!==e;){const e=Fg(a),t=a.getBoundingClientRect(),n=Tg(a),r=t.left+(a.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=r,c+=i,a=Ng(a).frameElement}}return m={width:u,height:d,x:l,y:c},{...m,top:m.y,left:m.x,right:m.x+m.width,bottom:m.y+m.height};var m}const jg=e.useLayoutEffect;var zg=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Bg=function(){};function Hg(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function $g(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];var i=[].concat(n);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&i.push("".concat(Hg(e,s)));return i.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Vg=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,bu.Z)(e)&&null!==e?[e]:[];var t},Ug=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=$y(e,zg);return(0,By.Z)({},t)},Wg=function(e,t,a){var n=e.cx,r=e.getStyles,i=e.getClassNames,s=e.className;return{css:r(t,e),className:n(null!=a?a:{},i(t,e),s)}};function Gg(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Yg(e){return Gg(e)?window.pageYOffset:e.scrollTop}function Kg(e,t){Gg(e)?window.scrollTo(0,t):e.scrollTop=t}function Zg(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bg,r=Yg(e),i=t-r,s=0;!function t(){var o=function(e,t,a,n){return a*((e=e/n-1)*e*e+1)+t}(s+=10,r,i,a);Kg(e,o),s<a?window.requestAnimationFrame(t):n(e)}()}function Qg(e,t){var a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=t.offsetHeight/3;n.bottom+r>a.bottom?Kg(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):n.top-r<a.top&&Kg(e,Math.max(t.offsetTop-r,0))}function Xg(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Jg=!1,eb={get passive(){return Jg=!0}},tb="undefined"!=typeof window?window:{};tb.addEventListener&&tb.removeEventListener&&(tb.addEventListener("p",Bg,eb),tb.removeEventListener("p",Bg,!1));var ab=Jg;function nb(e){return null!=e}function rb(e,t,a){return e?t:a}var ib=["children","innerProps"],sb=["children","innerProps"];var ob,lb,cb,ub=function(e){return"auto"===e?"bottom":e},db=(0,e.createContext)(null),mb=function(t){var a=t.children,n=t.minMenuHeight,r=t.maxMenuHeight,i=t.menuPlacement,s=t.menuPosition,o=t.menuShouldScrollIntoView,l=t.theme,c=((0,e.useContext)(db)||{}).setPortalPlacement,u=(0,e.useRef)(null),d=mu((0,e.useState)(r),2),m=d[0],p=d[1],f=mu((0,e.useState)(null),2),h=f[0],y=f[1],_=l.spacing.controlHeight;return jg((function(){var e=u.current;if(e){var t="fixed"===s,a=function(e){var t=e.maxHeight,a=e.menuEl,n=e.minHeight,r=e.placement,i=e.shouldScroll,s=e.isFixedPosition,o=e.controlHeight,l=function(e){var t=getComputedStyle(e),a="absolute"===t.position,n=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!a||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(a),c={placement:"bottom",maxHeight:t};if(!a||!a.offsetParent)return c;var u,d=l.getBoundingClientRect().height,m=a.getBoundingClientRect(),p=m.bottom,f=m.height,h=m.top,y=a.offsetParent.getBoundingClientRect().top,_=s||Gg(u=l)?window.innerHeight:u.clientHeight,g=Yg(l),b=parseInt(getComputedStyle(a).marginBottom,10),v=parseInt(getComputedStyle(a).marginTop,10),E=y-v,w=_-h,x=E+g,N=d-g-h,k=p-_+g+b,S=g+h-v,C=160;switch(r){case"auto":case"bottom":if(w>=f)return{placement:"bottom",maxHeight:t};if(N>=f&&!s)return i&&Zg(l,k,C),{placement:"bottom",maxHeight:t};if(!s&&N>=n||s&&w>=n)return i&&Zg(l,k,C),{placement:"bottom",maxHeight:s?w-b:N-b};if("auto"===r||s){var O=t,I=s?E:x;return I>=n&&(O=Math.min(I-b-o,t)),{placement:"top",maxHeight:O}}if("bottom"===r)return i&&Kg(l,k),{placement:"bottom",maxHeight:t};break;case"top":if(E>=f)return{placement:"top",maxHeight:t};if(x>=f&&!s)return i&&Zg(l,S,C),{placement:"top",maxHeight:t};if(!s&&x>=n||s&&E>=n){var A=t;return(!s&&x>=n||s&&E>=n)&&(A=s?E-v:x-v),i&&Zg(l,S,C),{placement:"top",maxHeight:A}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}({maxHeight:r,menuEl:e,minHeight:n,placement:i,shouldScroll:o&&!t,isFixedPosition:t,controlHeight:_});p(a.maxHeight),y(a.placement),null==c||c(a.placement)}}),[r,i,s,o,n,c,_]),a({ref:u,placerProps:(0,By.Z)((0,By.Z)({},t),{},{placement:h||ub(i),maxHeight:m})})},pb=function(e,t){var a=e.theme,n=a.spacing.baseUnit,r=a.colors;return(0,By.Z)({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px")})},fb=pb,hb=pb,yb=["size"],_b=["innerProps","isRtl","size"],gb={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},bb=function(e){var t=e.size,a=$y(e,yb);return yg("svg",cu({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:gb},a))},vb=function(e){return yg(bb,cu({size:20},e),yg("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Eb=function(e){return yg(bb,cu({size:20},e),yg("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},wb=function(e,t){var a=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return(0,By.Z)({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:a?i.neutral60:i.neutral20,padding:2*r,":hover":{color:a?i.neutral80:i.neutral40}})},xb=wb,Nb=wb,kb=function(){var e=_g.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(ob||(lb=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],cb||(cb=lb.slice(0)),ob=Object.freeze(Object.defineProperties(lb,{raw:{value:Object.freeze(cb)}})))),Sb=function(e){var t=e.delay,a=e.offset;return yg("span",{css:_g({animation:"".concat(kb," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Cb=["data"],Ob=["innerRef","isDisabled","isHidden","inputClassName"],Ib={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Ab={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":(0,By.Z)({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Ib)},Tb=function(e){return(0,By.Z)({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Ib)},Pb=function(e){var t=e.children,a=e.innerProps;return yg("div",a,t)},Mb={ClearIndicator:function(e){var t=e.children,a=e.innerProps;return yg("div",cu({},Wg(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),a),t||yg(vb,null))},Control:function(e){var t=e.children,a=e.isDisabled,n=e.isFocused,r=e.innerRef,i=e.innerProps,s=e.menuIsOpen;return yg("div",cu({ref:r},Wg(e,"control",{control:!0,"control--is-disabled":a,"control--is-focused":n,"control--menu-is-open":s}),i,{"aria-disabled":a||void 0}),t)},DropdownIndicator:function(e){var t=e.children,a=e.innerProps;return yg("div",cu({},Wg(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),a),t||yg(Eb,null))},DownChevron:Eb,CrossIcon:vb,Group:function(e){var t=e.children,a=e.cx,n=e.getStyles,r=e.getClassNames,i=e.Heading,s=e.headingProps,o=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return yg("div",cu({},Wg(e,"group",{group:!0}),o),yg(i,cu({},s,{selectProps:u,theme:c,getStyles:n,getClassNames:r,cx:a}),l),yg("div",null,t))},GroupHeading:function(e){var t=Ug(e);t.data;var a=$y(t,Cb);return yg("div",cu({},Wg(e,"groupHeading",{"group-heading":!0}),a))},IndicatorsContainer:function(e){var t=e.children,a=e.innerProps;return yg("div",cu({},Wg(e,"indicatorsContainer",{indicators:!0}),a),t)},IndicatorSeparator:function(e){var t=e.innerProps;return yg("span",cu({},t,Wg(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,a=e.value,n=Ug(e),r=n.innerRef,i=n.isDisabled,s=n.isHidden,o=n.inputClassName,l=$y(n,Ob);return yg("div",cu({},Wg(e,"input",{"input-container":!0}),{"data-value":a||""}),yg("input",cu({className:t({input:!0},o),ref:r,style:Tb(s),disabled:i},l)))},LoadingIndicator:function(e){var t=e.innerProps,a=e.isRtl,n=e.size,r=void 0===n?4:n,i=$y(e,_b);return yg("div",cu({},Wg((0,By.Z)((0,By.Z)({},i),{},{innerProps:t,isRtl:a,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),yg(Sb,{delay:0,offset:a}),yg(Sb,{delay:160,offset:!0}),yg(Sb,{delay:320,offset:!a}))},Menu:function(e){var t=e.children,a=e.innerRef,n=e.innerProps;return yg("div",cu({},Wg(e,"menu",{menu:!0}),{ref:a},n),t)},MenuList:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,r=e.isMulti;return yg("div",cu({},Wg(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:n},a),t)},MenuPortal:function(t){var a=t.appendTo,n=t.children,r=t.controlElement,i=t.innerProps,s=t.menuPlacement,o=t.menuPosition,l=(0,e.useRef)(null),c=(0,e.useRef)(null),u=mu((0,e.useState)(ub(s)),2),d=u[0],m=u[1],p=(0,e.useMemo)((function(){return{setPortalPlacement:m}}),[]),f=mu((0,e.useState)(null),2),h=f[0],y=f[1],_=(0,e.useCallback)((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===o?0:window.pageYOffset,a=e[d]+t;a===(null==h?void 0:h.offset)&&e.left===(null==h?void 0:h.rect.left)&&e.width===(null==h?void 0:h.rect.width)||y({offset:a,rect:e})}}),[r,o,d,null==h?void 0:h.offset,null==h?void 0:h.rect.left,null==h?void 0:h.rect.width]);jg((function(){_()}),[_]);var g=(0,e.useCallback)((function(){"function"==typeof c.current&&(c.current(),c.current=null),r&&l.current&&(c.current=function(e,t,a,n){void 0===n&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=Dg(e),u=r||i?[...c?Mg(c):[],...Mg(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",a,{passive:!0}),i&&e.addEventListener("resize",a)}));const d=c&&o?function(e,t){let a,n=null;const r=kg(e);function i(){clearTimeout(a),n&&n.disconnect(),n=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),i();const{left:c,top:u,width:d,height:m}=e.getBoundingClientRect();if(o||t(),!d||!m)return;const p={rootMargin:-Eg(u)+"px "+-Eg(r.clientWidth-(c+d))+"px "+-Eg(r.clientHeight-(u+m))+"px "+-Eg(c)+"px",threshold:bg(0,gg(1,l))||1};let f=!0;function h(e){const t=e[0].intersectionRatio;if(t!==l){if(!f)return s();t?s(!1,t):a=setTimeout((()=>{s(!1,1e-7)}),100)}f=!1}try{n=new IntersectionObserver(h,{...p,root:r.ownerDocument})}catch(e){n=new IntersectionObserver(h,p)}n.observe(e)}(!0),i}(c,a):null;let m,p=-1,f=null;s&&(f=new ResizeObserver((e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{f&&f.observe(t)}))),a()})),c&&!l&&f.observe(c),f.observe(t));let h=l?qg(e):null;return l&&function t(){const n=qg(e);!h||n.x===h.x&&n.y===h.y&&n.width===h.width&&n.height===h.height||a(),h=n,m=requestAnimationFrame(t)}(),a(),()=>{u.forEach((e=>{r&&e.removeEventListener("scroll",a),i&&e.removeEventListener("resize",a)})),d&&d(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(m)}}(r,l.current,_,{elementResize:"ResizeObserver"in window}))}),[r,_]);jg((function(){g()}),[g]);var b=(0,e.useCallback)((function(e){l.current=e,g()}),[g]);if(!a&&"fixed"!==o||!h)return null;var v=yg("div",cu({ref:b},Wg((0,By.Z)((0,By.Z)({},t),{},{offset:h.offset,position:o,rect:h.rect}),"menuPortal",{"menu-portal":!0}),i),n);return yg(db.Provider,{value:p},a?(0,yn.createPortal)(v,a):v)},LoadingMessage:function(e){var t=e.children,a=void 0===t?"Loading...":t,n=e.innerProps,r=$y(e,sb);return yg("div",cu({},Wg((0,By.Z)((0,By.Z)({},r),{},{children:a,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),a)},NoOptionsMessage:function(e){var t=e.children,a=void 0===t?"No options":t,n=e.innerProps,r=$y(e,ib);return yg("div",cu({},Wg((0,By.Z)((0,By.Z)({},r),{},{children:a,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),a)},MultiValue:function(e){var t=e.children,a=e.components,n=e.data,r=e.innerProps,i=e.isDisabled,s=e.removeProps,o=e.selectProps,l=a.Container,c=a.Label,u=a.Remove;return yg(l,{data:n,innerProps:(0,By.Z)((0,By.Z)({},Wg(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),r),selectProps:o},yg(c,{data:n,innerProps:(0,By.Z)({},Wg(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),yg(u,{data:n,innerProps:(0,By.Z)((0,By.Z)({},Wg(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},s),selectProps:o}))},MultiValueContainer:Pb,MultiValueLabel:Pb,MultiValueRemove:function(e){var t=e.children,a=e.innerProps;return yg("div",cu({role:"button"},a),t||yg(vb,{size:14}))},Option:function(e){var t=e.children,a=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.innerRef,s=e.innerProps;return yg("div",cu({},Wg(e,"option",{option:!0,"option--is-disabled":a,"option--is-focused":n,"option--is-selected":r}),{ref:i,"aria-disabled":a},s),t)},Placeholder:function(e){var t=e.children,a=e.innerProps;return yg("div",cu({},Wg(e,"placeholder",{placeholder:!0}),a),t)},SelectContainer:function(e){var t=e.children,a=e.innerProps,n=e.isDisabled,r=e.isRtl;return yg("div",cu({},Wg(e,"container",{"--is-disabled":n,"--is-rtl":r}),a),t)},SingleValue:function(e){var t=e.children,a=e.isDisabled,n=e.innerProps;return yg("div",cu({},Wg(e,"singleValue",{"single-value":!0,"single-value--is-disabled":a}),n),t)},ValueContainer:function(e){var t=e.children,a=e.innerProps,n=e.isMulti,r=e.hasValue;return yg("div",cu({},Wg(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":r}),a),t)}},Db=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Fb(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!((n=e[a])===(r=t[a])||Db(n)&&Db(r)))return!1;var n,r;return!0}for(var Rb={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Lb=function(e){return yg("span",cu({css:Rb},e))},qb={guidance:function(e){var t=e.isSearchable,a=e.isMulti,n=e.isDisabled,r=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(n?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,a=e.label,n=void 0===a?"":a,r=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(n,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,a=e.focused,n=e.options,r=e.label,i=void 0===r?"":r,s=e.selectValue,o=e.isDisabled,l=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&s)return"value ".concat(i," focused, ").concat(c(s,a),".");if("menu"===t){var u=o?" disabled":"",d="".concat(l?"selected":"focused").concat(u);return"option ".concat(i," ").concat(d,", ").concat(c(n,a),".")}return""},onFilter:function(e){var t=e.inputValue,a=e.resultsMessage;return"".concat(a).concat(t?" for search term "+t:"",".")}},jb=function(t){var a=t.ariaSelection,n=t.focusedOption,r=t.focusedValue,i=t.focusableOptions,s=t.isFocused,o=t.selectValue,l=t.selectProps,c=t.id,u=l.ariaLiveMessages,d=l.getOptionLabel,m=l.inputValue,p=l.isMulti,f=l.isOptionDisabled,h=l.isSearchable,y=l.menuIsOpen,_=l.options,g=l.screenReaderStatus,b=l.tabSelectsValue,v=l["aria-label"],E=l["aria-live"],w=(0,e.useMemo)((function(){return(0,By.Z)((0,By.Z)({},qb),u||{})}),[u]),x=(0,e.useMemo)((function(){var e,t="";if(a&&w.onChange){var n=a.option,r=a.options,i=a.removedValue,s=a.removedValues,l=a.value,c=i||n||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",m=r||s||void 0,p=m?m.map(d):[],h=(0,By.Z)({isDisabled:c&&f(c,o),label:u,labels:p},a);t=w.onChange(h)}return t}),[a,w,f,o,d]),N=(0,e.useMemo)((function(){var e="",t=n||r,a=!!(n&&o&&o.includes(n));if(t&&w.onFocus){var s={focused:t,label:d(t),isDisabled:f(t,o),isSelected:a,options:i,context:t===n?"menu":"value",selectValue:o};e=w.onFocus(s)}return e}),[n,r,d,f,w,i,o]),k=(0,e.useMemo)((function(){var e="";if(y&&_.length&&w.onFilter){var t=g({count:i.length});e=w.onFilter({inputValue:m,resultsMessage:t})}return e}),[i,m,y,w,_,g]),S=(0,e.useMemo)((function(){var e="";if(w.guidance){var t=r?"value":y?"menu":"input";e=w.guidance({"aria-label":v,context:t,isDisabled:n&&f(n,o),isMulti:p,isSearchable:h,tabSelectsValue:b})}return e}),[v,n,r,p,f,h,y,w,o,b]),C="".concat(N," ").concat(k," ").concat(S),O=yg(e.Fragment,null,yg("span",{id:"aria-selection"},x),yg("span",{id:"aria-context"},C)),I="initial-input-focus"===(null==a?void 0:a.action);return yg(e.Fragment,null,yg(Lb,{id:c},I&&O),yg(Lb,{"aria-live":E,"aria-atomic":"false","aria-relevant":"additions text"},s&&!I&&O))},zb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Bb=new RegExp("["+zb.map((function(e){return e.letters})).join("")+"]","g"),Hb={},$b=0;$b<zb.length;$b++)for(var Vb=zb[$b],Ub=0;Ub<Vb.letters.length;Ub++)Hb[Vb.letters[Ub]]=Vb.base;var Wb=function(e){return e.replace(Bb,(function(e){return Hb[e]}))},Gb=function(e,t){void 0===t&&(t=Fb);var a=null;function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(a&&a.lastThis===this&&t(n,a.lastArgs))return a.lastResult;var i=e.apply(this,n);return a={lastResult:i,lastArgs:n,lastThis:this},i}return n.clear=function(){a=null},n}(Wb),Yb=function(e){return e.replace(/^\s+|\s+$/g,"")},Kb=function(e){return"".concat(e.label," ").concat(e.value)},Zb=["innerRef"];function Qb(e){var t=e.innerRef,a=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=Object.entries(e).filter((function(e){var t=mu(e,1)[0];return!a.includes(t)}));return r.reduce((function(e,t){var a=mu(t,2),n=a[0],r=a[1];return e[n]=r,e}),{})}($y(e,Zb),"onExited","in","enter","exit","appear");return yg("input",cu({ref:t},a,{css:_g({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Xb=["boxSizing","height","overflow","paddingRight","position"],Jb={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ev(e){e.preventDefault()}function tv(e){e.stopPropagation()}function av(){var e=this.scrollTop,t=this.scrollHeight,a=e+this.offsetHeight;0===e?this.scrollTop=1:a===t&&(this.scrollTop=e-1)}function nv(){return"ontouchstart"in window||navigator.maxTouchPoints}var rv=!("undefined"==typeof window||!window.document||!window.document.createElement),iv=0,sv={capture:!1,passive:!1},ov=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},lv={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function cv(t){var a=t.children,n=t.lockEnabled,r=t.captureEnabled,i=function(t){var a=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=(0,e.useRef)(!1),l=(0,e.useRef)(!1),c=(0,e.useRef)(0),u=(0,e.useRef)(null),d=(0,e.useCallback)((function(e,t){if(null!==u.current){var a=u.current,c=a.scrollTop,d=a.scrollHeight,m=a.clientHeight,p=u.current,f=t>0,h=d-m-c,y=!1;h>t&&o.current&&(r&&r(e),o.current=!1),f&&l.current&&(s&&s(e),l.current=!1),f&&t>h?(n&&!o.current&&n(e),p.scrollTop=d,y=!0,o.current=!0):!f&&-t>c&&(i&&!l.current&&i(e),p.scrollTop=0,y=!0,l.current=!0),y&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[n,r,i,s]),m=(0,e.useCallback)((function(e){d(e,e.deltaY)}),[d]),p=(0,e.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),f=(0,e.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),h=(0,e.useCallback)((function(e){if(e){var t=!!ab&&{passive:!1};e.addEventListener("wheel",m,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",f,t)}}),[f,p,m]),y=(0,e.useCallback)((function(e){e&&(e.removeEventListener("wheel",m,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",f,!1))}),[f,p,m]);return(0,e.useEffect)((function(){if(a){var e=u.current;return h(e),function(){y(e)}}}),[a,h,y]),function(e){u.current=e}}({isEnabled:void 0===r||r,onBottomArrive:t.onBottomArrive,onBottomLeave:t.onBottomLeave,onTopArrive:t.onTopArrive,onTopLeave:t.onTopLeave}),s=function(t){var a=t.isEnabled,n=t.accountForScrollbars,r=void 0===n||n,i=(0,e.useRef)({}),s=(0,e.useRef)(null),o=(0,e.useCallback)((function(e){if(rv){var t=document.body,a=t&&t.style;if(r&&Xb.forEach((function(e){var t=a&&a[e];i.current[e]=t})),r&&iv<1){var n=parseInt(i.current.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,o=window.innerWidth-s+n||0;Object.keys(Jb).forEach((function(e){var t=Jb[e];a&&(a[e]=t)})),a&&(a.paddingRight="".concat(o,"px"))}t&&nv()&&(t.addEventListener("touchmove",ev,sv),e&&(e.addEventListener("touchstart",av,sv),e.addEventListener("touchmove",tv,sv))),iv+=1}}),[r]),l=(0,e.useCallback)((function(e){if(rv){var t=document.body,a=t&&t.style;iv=Math.max(iv-1,0),r&&iv<1&&Xb.forEach((function(e){var t=i.current[e];a&&(a[e]=t)})),t&&nv()&&(t.removeEventListener("touchmove",ev,sv),e&&(e.removeEventListener("touchstart",av,sv),e.removeEventListener("touchmove",tv,sv)))}}),[r]);return(0,e.useEffect)((function(){if(a){var e=s.current;return o(e),function(){l(e)}}}),[a,o,l]),function(e){s.current=e}}({isEnabled:n});return yg(e.Fragment,null,n&&yg("div",{onClick:ov,css:lv}),a((function(e){i(e),s(e)})))}var uv={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},dv=function(e){var t=e.name,a=e.onFocus;return yg("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:a,css:uv,value:"",onChange:function(){}})},mv={clearIndicator:Nb,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var a=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,s=r.borderRadius,o=r.spacing;return(0,By.Z)({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:a?i.neutral5:i.neutral0,borderColor:a?i.neutral10:n?i.primary:i.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:n?i.primary:i.neutral30}})},dropdownIndicator:xb,group:function(e,t){var a=e.theme.spacing;return t?{}:{paddingBottom:2*a.baseUnit,paddingTop:2*a.baseUnit}},groupHeading:function(e,t){var a=e.theme,n=a.colors,r=a.spacing;return(0,By.Z)({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var a=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return(0,By.Z)({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:a?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var a=e.isDisabled,n=e.value,r=e.theme,i=r.spacing,s=r.colors;return(0,By.Z)((0,By.Z)({visibility:a?"hidden":"visible",transform:n?"translateZ(0)":""},Ab),t?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:s.neutral80})},loadingIndicator:function(e,t){var a=e.isFocused,n=e.size,r=e.theme,i=r.colors,s=r.spacing.baseUnit;return(0,By.Z)({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:a?i.neutral60:i.neutral20,padding:2*s})},loadingMessage:hb,menu:function(e,t){var a,n=e.placement,r=e.theme,i=r.borderRadius,s=r.spacing,o=r.colors;return(0,By.Z)((a={label:"menu"},(0,pu.Z)(a,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),(0,pu.Z)(a,"position","absolute"),(0,pu.Z)(a,"width","100%"),(0,pu.Z)(a,"zIndex",1),a),t?{}:{backgroundColor:o.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},menuList:function(e,t){var a=e.maxHeight,n=e.theme.spacing.baseUnit;return(0,By.Z)({maxHeight:a,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},menuPortal:function(e){var t=e.rect,a=e.offset,n=e.position;return{left:t.left,position:n,top:a,width:t.width,zIndex:1}},multiValue:function(e,t){var a=e.theme,n=a.spacing,r=a.borderRadius,i=a.colors;return(0,By.Z)({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:i.neutral10,borderRadius:r/2,margin:n.baseUnit/2})},multiValueLabel:function(e,t){var a=e.theme,n=a.borderRadius,r=a.colors,i=e.cropWithEllipsis;return(0,By.Z)({overflow:"hidden",textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var a=e.theme,n=a.spacing,r=a.borderRadius,i=a.colors,s=e.isFocused;return(0,By.Z)({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:s?i.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},noOptionsMessage:fb,option:function(e,t){var a=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,s=i.spacing,o=i.colors;return(0,By.Z)({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?o.primary:n?o.primary25:"transparent",color:a?o.neutral20:r?o.neutral0:"inherit",padding:"".concat(2*s.baseUnit,"px ").concat(3*s.baseUnit,"px"),":active":{backgroundColor:a?void 0:r?o.primary:o.primary50}})},placeholder:function(e,t){var a=e.theme,n=a.spacing,r=a.colors;return(0,By.Z)({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},singleValue:function(e,t){var a=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return(0,By.Z)({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:a?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var a=e.theme.spacing,n=e.isMulti,r=e.hasValue,i=e.selectProps.controlShouldRenderValue;return(0,By.Z)({alignItems:"center",display:n&&r&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(a.baseUnit/2,"px ").concat(2*a.baseUnit,"px")})}},pv={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},fv={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Xg(),captureMenuScroll:!Xg(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var a=(0,By.Z)({ignoreCase:!0,ignoreAccents:!0,stringify:Kb,trim:!0,matchFrom:"any"},void 0),n=a.ignoreCase,r=a.ignoreAccents,i=a.stringify,s=a.trim,o=a.matchFrom,l=s?Yb(t):t,c=s?Yb(i(e)):i(e);return n&&(l=l.toLowerCase(),c=c.toLowerCase()),r&&(l=Gb(l),c=Wb(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function hv(e,t,a,n){return{type:"option",data:t,isDisabled:Ev(e,t,a),isSelected:wv(e,t,a),label:bv(e,t),value:vv(e,t),index:n}}function yv(e,t){return e.options.map((function(a,n){if("options"in a){var r=a.options.map((function(a,n){return hv(e,a,t,n)})).filter((function(t){return gv(e,t)}));return r.length>0?{type:"group",data:a,options:r,index:n}:void 0}var i=hv(e,a,t,n);return gv(e,i)?i:void 0})).filter(nb)}function _v(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Cu(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function gv(e,t){var a=e.inputValue,n=void 0===a?"":a,r=t.data,i=t.isSelected,s=t.label,o=t.value;return(!Nv(e)||!i)&&xv(e,{label:s,value:o,data:r},n)}var bv=function(e,t){return e.getOptionLabel(t)},vv=function(e,t){return e.getOptionValue(t)};function Ev(e,t,a){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,a)}function wv(e,t,a){if(a.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,a);var n=vv(e,t);return a.some((function(t){return vv(e,t)===n}))}function xv(e,t,a){return!e.filterOption||e.filterOption(t,a)}var Nv=function(e){var t=e.hideSelectedOptions,a=e.isMulti;return void 0===t?a:t},kv=1,Sv=function(t){Nu(i,t);var a,n,r=(a=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wu(a);if(n){var r=wu(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Eu(this,e)});function i(e){var t;if(hu(this,i),(t=r.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,a){var n=t.props,r=n.onChange,i=n.name;a.name=i,t.ariaOnChange(e,a),r(e,a)},t.setValue=function(e,a,n){var r=t.props,i=r.closeMenuOnSelect,s=r.isMulti,o=r.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:o}),i&&(t.setState({inputIsHiddenAfterUpdate:!s}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:a,option:n})},t.selectOption=function(e){var a=t.props,n=a.blurInputOnSelect,r=a.isMulti,i=a.name,s=t.state.selectValue,o=r&&t.isOptionSelected(e,s),l=t.isOptionDisabled(e,s);if(o){var c=t.getOptionValue(e);t.setValue(s.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:i});r?t.setValue([].concat(Cu(s),[e]),"select-option",e):t.setValue(e,"select-option")}n&&t.blurInput()},t.removeValue=function(e){var a=t.props.isMulti,n=t.state.selectValue,r=t.getOptionValue(e),i=n.filter((function(e){return t.getOptionValue(e)!==r})),s=rb(a,i,i[0]||null);t.onChange(s,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(rb(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,a=t.state.selectValue,n=a[a.length-1],r=a.slice(0,a.length-1),i=rb(e,r,r[0]||null);t.onChange(i,{action:"pop-value",removedValue:n})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return $g.apply(void 0,[t.props.classNamePrefix].concat(a))},t.getOptionLabel=function(e){return bv(t.props,e)},t.getOptionValue=function(e){return vv(t.props,e)},t.getStyles=function(e,a){var n=t.props.unstyled,r=mv[e](a,n);r.boxSizing="border-box";var i=t.props.styles[e];return i?i(r,a):r},t.getClassNames=function(e,a){var n,r;return null===(n=(r=t.props.classNames)[e])||void 0===n?void 0:n.call(r,a)},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,(0,By.Z)((0,By.Z)({},Mb),e.components);var e},t.buildCategorizedOptions=function(){return yv(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return _v(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,a){t.setState({ariaSelection:(0,By.Z)({value:e},a)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var a=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():a&&t.openMenu("first"):(a&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var a=t.props,n=a.isMulti,r=a.menuIsOpen;t.focusInput(),r?(t.setState({inputIsHiddenAfterUpdate:!n}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Gg(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var a=e.touches,n=a&&a.item(0);n&&(t.initialTouchX=n.clientX,t.initialTouchY=n.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var a=e.touches,n=a&&a.item(0);if(n){var r=Math.abs(n.clientX-t.initialTouchX),i=Math.abs(n.clientY-t.initialTouchY);t.userIsDragging=r>5||i>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var a=t.props.inputValue,n=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(n,{action:"input-change",prevInputValue:a}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var a=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:a}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return Nv(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var a=t.props,n=a.isMulti,r=a.backspaceRemovesValue,i=a.escapeClearsValue,s=a.inputValue,o=a.isClearable,l=a.isDisabled,c=a.menuIsOpen,u=a.onKeyDown,d=a.tabSelectsValue,m=a.openMenuOnFocus,p=t.state,f=p.focusedOption,h=p.focusedValue,y=p.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||s)return;t.focusValue("previous");break;case"ArrowRight":if(!n||s)return;t.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(h)t.removeValue(h);else{if(!r)return;n?t.popValue():o&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!d||!f||m&&t.isOptionSelected(f,y))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:s}),t.onMenuClose()):o&&i&&t.clearValue();break;case" ":if(s)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++kv),t.state.selectValue=Vg(e.value),e.menuIsOpen&&t.state.selectValue.length){var a=t.buildFocusableOptions(),n=a.indexOf(t.state.selectValue[0]);t.state.focusedOption=a[n]}return t}return gu(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Qg(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isDisabled,n=t.menuIsOpen,r=this.state.isFocused;(r&&!a&&e.isDisabled||r&&n&&!e.menuIsOpen)&&this.focusInput(),r&&a&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||a||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Qg(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,a=this.state,n=a.selectValue,r=a.isFocused,i=this.buildFocusableOptions(),s="first"===e?0:i.length-1;if(!this.props.isMulti){var o=i.indexOf(n[0]);o>-1&&(s=o)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:i[s]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,a=t.selectValue,n=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=a.indexOf(n);n||(r=-1);var i=a.length-1,s=-1;if(a.length){switch(e){case"previous":s=0===r?0:-1===r?i:r-1;break;case"next":r>-1&&r<i&&(s=r+1)}this.setState({inputIsHidden:-1!==s,focusedValue:a[s]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,a=this.state.focusedOption,n=this.getFocusableOptions();if(n.length){var r=0,i=n.indexOf(a);a||(i=-1),"up"===e?r=i>0?i-1:n.length-1:"down"===e?r=(i+1)%n.length:"pageup"===e?(r=i-t)<0&&(r=0):"pagedown"===e?(r=i+t)>n.length-1&&(r=n.length-1):"last"===e&&(r=n.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:n[r],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(pv):(0,By.Z)((0,By.Z)({},pv),this.props.theme):pv}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,a=this.getStyles,n=this.getClassNames,r=this.getValue,i=this.selectOption,s=this.setValue,o=this.props,l=o.isMulti,c=o.isRtl,u=o.options;return{clearValue:e,cx:t,getStyles:a,getClassNames:n,getValue:r,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:i,selectProps:o,setValue:s,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,a=e.isMulti;return void 0===t?a:t}},{key:"isOptionDisabled",value:function(e,t){return Ev(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return wv(this.props,e,t)}},{key:"filterOption",value:function(e,t){return xv(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var a=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:a,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,a=t.isDisabled,n=t.isSearchable,r=t.inputId,i=t.inputValue,s=t.tabIndex,o=t.form,l=t.menuIsOpen,c=t.required,u=this.getComponents().Input,d=this.state,m=d.inputIsHidden,p=d.ariaSelection,f=this.commonProps,h=r||this.getElementId("input"),y=(0,By.Z)((0,By.Z)((0,By.Z)({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox"},l&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?e.createElement(u,cu({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:h,innerRef:this.getInputRef,isDisabled:a,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:o,type:"text",value:i},y)):e.createElement(Qb,cu({id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Bg,onFocus:this.onInputFocus,disabled:a,tabIndex:s,inputMode:"none",form:o,value:""},y))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,a=this.getComponents(),n=a.MultiValue,r=a.MultiValueContainer,i=a.MultiValueLabel,s=a.MultiValueRemove,o=a.SingleValue,l=a.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,m=u.isDisabled,p=u.isMulti,f=u.inputValue,h=u.placeholder,y=this.state,_=y.selectValue,g=y.focusedValue,b=y.isFocused;if(!this.hasValue()||!d)return f?null:e.createElement(l,cu({},c,{key:"placeholder",isDisabled:m,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),h);if(p)return _.map((function(a,o){var l=a===g,u="".concat(t.getOptionLabel(a),"-").concat(t.getOptionValue(a));return e.createElement(n,cu({},c,{components:{Container:r,Label:i,Remove:s},isFocused:l,isDisabled:m,key:u,index:o,removeProps:{onClick:function(){return t.removeValue(a)},onTouchEnd:function(){return t.removeValue(a)},onMouseDown:function(e){e.preventDefault()}},data:a}),t.formatOptionLabel(a,"value"))}));if(f)return null;var v=_[0];return e.createElement(o,cu({},c,{data:v,isDisabled:m}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,a=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,s=this.state.isFocused;if(!this.isClearable()||!t||r||!this.hasValue()||i)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,cu({},a,{innerProps:o,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,a=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,s=this.state.isFocused;return t&&i?e.createElement(t,cu({},a,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:s})):null}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),a=t.DropdownIndicator,n=t.IndicatorSeparator;if(!a||!n)return null;var r=this.commonProps,i=this.props.isDisabled,s=this.state.isFocused;return e.createElement(n,cu({},r,{isDisabled:i,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;if(!t)return null;var a=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,cu({},a,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var t=this,a=this.getComponents(),n=a.Group,r=a.GroupHeading,i=a.Menu,s=a.MenuList,o=a.MenuPortal,l=a.LoadingMessage,c=a.NoOptionsMessage,u=a.Option,d=this.commonProps,m=this.state.focusedOption,p=this.props,f=p.captureMenuScroll,h=p.inputValue,y=p.isLoading,_=p.loadingMessage,g=p.minMenuHeight,b=p.maxMenuHeight,v=p.menuIsOpen,E=p.menuPlacement,w=p.menuPosition,x=p.menuPortalTarget,N=p.menuShouldBlockScroll,k=p.menuShouldScrollIntoView,S=p.noOptionsMessage,C=p.onMenuScrollToTop,O=p.onMenuScrollToBottom;if(!v)return null;var I,A=function(a,n){var r=a.type,i=a.data,s=a.isDisabled,o=a.isSelected,l=a.label,c=a.value,p=m===i,f=s?void 0:function(){return t.onOptionHover(i)},h=s?void 0:function(){return t.selectOption(i)},y="".concat(t.getElementId("option"),"-").concat(n),_={id:y,onClick:h,onMouseMove:f,onMouseOver:f,tabIndex:-1};return e.createElement(u,cu({},d,{innerProps:_,data:i,isDisabled:s,isSelected:o,key:y,label:l,type:r,value:c,isFocused:p,innerRef:p?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(a.data,"menu"))};if(this.hasOptions())I=this.getCategorizedOptions().map((function(a){if("group"===a.type){var i=a.data,s=a.options,o=a.index,l="".concat(t.getElementId("group"),"-").concat(o),c="".concat(l,"-heading");return e.createElement(n,cu({},d,{key:l,data:i,options:s,Heading:r,headingProps:{id:c,data:a.data},label:t.formatGroupLabel(a.data)}),a.options.map((function(e){return A(e,"".concat(o,"-").concat(e.index))})))}if("option"===a.type)return A(a,"".concat(a.index))}));else if(y){var T=_({inputValue:h});if(null===T)return null;I=e.createElement(l,d,T)}else{var P=S({inputValue:h});if(null===P)return null;I=e.createElement(c,d,P)}var M={minMenuHeight:g,maxMenuHeight:b,menuPlacement:E,menuPosition:w,menuShouldScrollIntoView:k},D=e.createElement(mb,cu({},d,M),(function(a){var n=a.ref,r=a.placerProps,o=r.placement,l=r.maxHeight;return e.createElement(i,cu({},d,M,{innerRef:n,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove,id:t.getElementId("listbox")},isLoading:y,placement:o}),e.createElement(cv,{captureEnabled:f,onTopArrive:C,onBottomArrive:O,lockEnabled:N},(function(a){return e.createElement(s,cu({},d,{innerRef:function(e){t.getMenuListRef(e),a(e)},isLoading:y,maxHeight:l,focusedOption:m}),I)})))}));return x||"fixed"===w?e.createElement(o,cu({},d,{appendTo:x,controlElement:this.controlRef,menuPlacement:E,menuPosition:w}),D):D}},{key:"renderFormField",value:function(){var t=this,a=this.props,n=a.delimiter,r=a.isDisabled,i=a.isMulti,s=a.name,o=a.required,l=this.state.selectValue;if(o&&!this.hasValue()&&!r)return e.createElement(dv,{name:s,onFocus:this.onValueInputFocus});if(s&&!r){if(i){if(n){var c=l.map((function(e){return t.getOptionValue(e)})).join(n);return e.createElement("input",{name:s,type:"hidden",value:c})}var u=l.length>0?l.map((function(a,n){return e.createElement("input",{key:"i-".concat(n),name:s,type:"hidden",value:t.getOptionValue(a)})})):e.createElement("input",{name:s,type:"hidden",value:""});return e.createElement("div",null,u)}var d=l[0]?this.getOptionValue(l[0]):"";return e.createElement("input",{name:s,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,a=this.state,n=a.ariaSelection,r=a.focusedOption,i=a.focusedValue,s=a.isFocused,o=a.selectValue,l=this.getFocusableOptions();return e.createElement(jb,cu({},t,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:s,selectValue:o,focusableOptions:l}))}},{key:"render",value:function(){var t=this.getComponents(),a=t.Control,n=t.IndicatorsContainer,r=t.SelectContainer,i=t.ValueContainer,s=this.props,o=s.className,l=s.id,c=s.isDisabled,u=s.menuIsOpen,d=this.state.isFocused,m=this.commonProps=this.getCommonProps();return e.createElement(r,cu({},m,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),e.createElement(a,cu({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),e.createElement(i,cu({},m,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),e.createElement(n,cu({},m,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.prevProps,n=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,i=t.ariaSelection,s=t.isFocused,o=t.prevWasFocused,l=e.options,c=e.value,u=e.menuIsOpen,d=e.inputValue,m=e.isMulti,p=Vg(c),f={};if(a&&(c!==a.value||l!==a.options||u!==a.menuIsOpen||d!==a.inputValue)){var h=u?function(e,t){return _v(yv(e,t))}(e,p):[],y=n?function(e,t){var a=e.focusedValue,n=e.selectValue.indexOf(a);if(n>-1){if(t.indexOf(a)>-1)return a;if(n<t.length)return t[n]}return null}(t,p):null,_=function(e,t){var a=e.focusedOption;return a&&t.indexOf(a)>-1?a:t[0]}(t,h);f={selectValue:p,focusedOption:_,focusedValue:y,clearFocusValueOnUpdate:!1}}var g=null!=r&&e!==a?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},b=i,v=s&&o;return s&&!v&&(b={value:rb(m,p,p[0]||null),options:p,action:"initial-input-focus"},v=!o),"initial-input-focus"===(null==i?void 0:i.action)&&(b=null),(0,By.Z)((0,By.Z)((0,By.Z)({},f),g),{},{prevProps:e,ariaSelection:b,prevWasFocused:v})}}]),i}(e.Component);Sv.defaultProps=fv;var Cv=(0,e.forwardRef)((function(t,a){var n=function(t){var a=t.defaultInputValue,n=void 0===a?"":a,r=t.defaultMenuIsOpen,i=void 0!==r&&r,s=t.defaultValue,o=void 0===s?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,m=t.onMenuClose,p=t.onMenuOpen,f=t.value,h=$y(t,Vy),y=mu((0,e.useState)(void 0!==l?l:n),2),_=y[0],g=y[1],b=mu((0,e.useState)(void 0!==c?c:i),2),v=b[0],E=b[1],w=mu((0,e.useState)(void 0!==f?f:o),2),x=w[0],N=w[1],k=(0,e.useCallback)((function(e,t){"function"==typeof u&&u(e,t),N(e)}),[u]),S=(0,e.useCallback)((function(e,t){var a;"function"==typeof d&&(a=d(e,t)),g(void 0!==a?a:e)}),[d]),C=(0,e.useCallback)((function(){"function"==typeof p&&p(),E(!0)}),[p]),O=(0,e.useCallback)((function(){"function"==typeof m&&m(),E(!1)}),[m]),I=void 0!==l?l:_,A=void 0!==c?c:v,T=void 0!==f?f:x;return(0,By.Z)((0,By.Z)({},h),{},{inputValue:I,menuIsOpen:A,onChange:k,onInputChange:S,onMenuClose:O,onMenuOpen:C,value:T})}(t);return e.createElement(Sv,cu({ref:a},n))})),Ov=Cv;const Iv={name:Zc().string,postType:Zc().string,productType:Zc().string,title:Zc().string,action:Zc().string,placeholder:Zc().string,subtitle:Zc().oneOfType([Zc().object,Zc().string]),desc:Zc().string,isMulti:Zc().bool};function Av({postType:a,productType:n,name:r,title:i,action:s,placeholder:o,subtitle:l,desc:c,isMulti:u}){const{values:d,setFieldValue:m}=ep(),p=r.split("."),f=p[1]?d[p[0]][p[1]]:d[p[0]],[h,y]=(0,e.useState)(!1),[_,g]=(0,e.useState)([]);(0,e.useEffect)((()=>{!u&&parseInt(f)&&(y(!0),nn({action:s,postType:a,postId:parseInt(f)}).then((e=>{"meta.academy_prerequisite_courses"===r?(y(!1),g(e?.data?.data.filter((e=>parseInt(e.value)!==parseInt(d.post_ID))))):(y(!1),g(e?.data?.data))})))}),[f]);const b=(e="")=>{y(!0),nn({action:s,postType:a,productType:n,keyword:e}).then((e=>{if(y(!1),"meta.academy_prerequisite_courses"===r){y(!1);const t=e?.data?.data.filter((e=>parseInt(e.value)!==parseInt(d.post_ID)));g(t)}else y(!1),g(e?.data?.data)}))},v=Qd((e=>{0===_.filter((t=>t.label.toLowerCase().includes(e))).length&&b(e)}),500),E=r;return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-post-form-group"},(0,e.createElement)("div",{className:"academy-post-form-info"},i&&(0,e.createElement)("label",{htmlFor:E,className:"academy-title"},i),l&&(0,e.createElement)("span",{className:"academy-sub-title"},l)),(0,e.createElement)("div",{className:"academy-post-form-body"},(0,e.createElement)(Ov,{id:E,className:"academy-select--full",classNamePrefix:"academy-react-select",placeholder:o||(0,W.sprintf)(
// translators: %s: postType
(0,W.__)("Select a %s","academy"),a),name:r,value:u?f:_?.length&&_?.filter((e=>e.value===parseInt(f))),onChange:e=>m(r,u?e:e?e.value:0),onInputChange:v,options:_,maxMenuHeight:160,minMenuHeight:70,isSearchable:!0,isLoading:h,onMenuOpen:b,theme:e=>({...e,colors:{...e.colors,primary:"#6104ff"}}),styles:{control:e=>({...e,cursor:"pointer"})},isClearable:!0,isMulti:u}),c&&(0,e.createElement)("span",{className:"academy-desc"},c))))}Av.propTypes=Iv,Av.defaultProps={postType:"",productType:"",title:"",action:"academy/fetch_posts",placeholder:"",subtitle:"",desc:"",isMulti:!1};const Tv=()=>(0,e.createElement)("div",{className:"academy-separator"}),Pv=[{name:"meta._academy_booking_class_type",label:(0,W.__)("Live Class","academy"),value:"live"},{name:"meta._academy_booking_class_type",label:(0,W.__)("Pre-Recorded","academy"),value:"pre-recorded"}],Mv=function({dripContentType:t,topics:a,currentItemId:n,isDripContentEnable:r}){const{values:i,setFieldValue:s,errors:o,touched:l}=ep(),c=An((e=>e.settings)),u=An((e=>e.addons)),d=ln(u,"content-drip",!0)&&(0,e.createElement)(Ay,{type:t,topics:a,currentItemId:n,isDripContentEnable:r,name:"_academy_booking_drip_content"}),m=!c?.data?.monetization_engine&&"paid"===i.meta._academy_booking_type,p=Pv.find((e=>e.value===i?.meta?._academy_booking_class_type));return(0,e.createElement)("div",{className:"academy-booking-form"},(0,e.createElement)("div",{className:"academy-booking-form__left"},(0,e.createElement)("div",{className:"academy-booking-form__left--section-content"},(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"title"},(0,W.__)("Booking Title","academy")),(0,e.createElement)(bp,{type:"text",className:"academy-input",id:"title",name:"title",placeholder:"Add title here"}),o?.title&&l?.title&&(0,e.createElement)("span",{className:"field-error-text"},"Title Required")),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"content"},(0,W.__)("Booking Content","academy")),(0,e.createElement)(Ry,{name:"content",defaultValue:i.content,saveValueHandler:s}))),(0,e.createElement)("div",{className:"academy-booking-form__left--image"},(0,e.createElement)("div",{className:"academy-image__title"}),(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Booking Image","academy")),(0,e.createElement)(by,{label:(0,W.__)("Booking Image","academy"),values:i.featured_media,name:"featured_media",saveValueHandler:s})),(0,e.createElement)("div",{className:"academy-booking-form__left--settings"},(0,e.createElement)("div",{className:"academy-title"}),(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Settings","academy")),(0,e.createElement)("div",{className:"academy-booking"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Class Types","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select class type"))),(0,e.createElement)("div",{className:"academy-booking__fields academy-booking__fields--d-block"},(0,e.createElement)(Pd,{suffix:"booking-class",options:Pv,value:p,onChangeHandler:e=>{s("meta._academy_booking_class_type",e)}}))),(0,e.createElement)("div",{className:"academy-booking"},(0,e.createElement)("div",{className:"academy-booking__title"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Time Zone","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select your preferred time zone"))),(0,e.createElement)("div",{className:"academy-booking__fields academy-booking__fields--d-block"},(0,e.createElement)(Pd,{id:"time_zone",suffix:"time-zone",name:"meta._academy_booking_schedule_time_zone",options:un,value:un.find((e=>e.value===i?.meta?._academy_booking_schedule_time_zone)),onChangeHandler:e=>s("meta._academy_booking_schedule_time_zone",e)}))),(0,e.createElement)("div",{className:"academy-booking--duration"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Duration","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Duration value will be in minutes"))),(0,e.createElement)("div",{className:"academy-booking--duration__field"},(0,e.createElement)(bp,{id:"duration",name:"meta._academy_booking_duration",type:"number",min:0,className:"academy-input"}))),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"academy-booking"},(0,e.createElement)("div",{className:"academy-booking__fields"},(0,e.createElement)("div",{className:"academy-form-group academy-form-group--single"},(0,e.createElement)("label",{htmlFor:"single"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Single Time","academy")),(0,e.createElement)(bp,{type:"radio",id:"single",name:"meta._academy_booking_schedule_type",value:"single"})),"single"===i.meta?._academy_booking_schedule_type&&(0,e.createElement)(fy,null)),(0,e.createElement)("div",{className:"academy-form-group academy-form-group--repeated"},(0,e.createElement)("label",{htmlFor:"repeated"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Repeated Days","academy")),(0,e.createElement)(bp,{type:"radio",id:"repeated",name:"meta._academy_booking_schedule_type",value:"repeated"})),"repeated"===i.meta?._academy_booking_schedule_type&&(0,e.createElement)(yy,null))))),d),(0,e.createElement)("div",{className:"academy-booking-form__right"},(0,e.createElement)("div",{className:"academy-booking academy-booking__type"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Booking Type","academy")),(0,e.createElement)("div",{className:"academy-booking__fields"},(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"booking_type_free"},(0,W.__)("Free"),(0,e.createElement)(bp,{type:"radio",id:"booking_type_free",name:"meta._academy_booking_type",value:"free"}))),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"booking_type_paid"},(0,W.__)("Paid","academy"),(0,e.createElement)(bp,{type:"radio",id:"booking_type_paid",name:"meta._academy_booking_type",value:"paid"})),xa&&"paid"===i?.meta?._academy_booking_type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-booking academy-booking__woocommerce"},(0,e.createElement)(Av,{name:"meta._academy_booking_product_id",action:"academy_woo/fetch_products",placeholder:(0,W.__)("Search and select a product","academy"),title:(0,W.__)("Select product","academy"),postType:"product",desc:(0,e.createElement)(e.Fragment,null,Sa?(0,e.createElement)(e.Fragment,null,(0,W.__)("You have the option to choose an existing WooCommerce product, or a new one will be generated for you.","academy")):(0,e.createElement)(e.Fragment,null,(0,W.__)("Sell your product, process by WooCommerce","academy")))}),Sa&&(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)(zy,{productId:i?.meta?._academy_booking_product_id,name:"meta._academy_booking_product_id",setFieldValue:s}))))),m&&(0,e.createElement)("div",{className:"academy-warning-text"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,e.createElement)("p",null,(0,W.__)("Please Select ","academy"),(0,e.createElement)("a",{target:"__blank",href:`${va}admin.php?page=academy-settings&path=payments&tab=engine`},(0,W.__)("eCommerce Engine","academy")))))),(0,e.createElement)("div",{className:"academy-booking academy-booking__organizations"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Booking Organization","academy")),(0,e.createElement)(ky,{label:(0,W.__)("Booking Category","academy"),values:i?.academy_booking_category,saveValueHandler:s,type:"booking"}),(0,e.createElement)(My,{label:(0,W.__)("Booking Tags","academy"),values:i?.academy_booking_tag,saveValueHandler:s,type:"booking"}),(0,e.createElement)("div",{className:"academy-widget academy-widget__private"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("h4",{className:"academy-title"},(0,W.__)("Private Booking Info","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Information will be available after booking is confirm.","academy"))),(0,e.createElement)(bp,{className:"academy-form-control",name:"meta._academy_booking_private_booked_info",as:"textarea",placeholder:(0,W.__)("Add booking info","academy")})))))},Dv={isModalLoading:Zc().bool,updateTopic:Zc().bool,isOpen:Zc().bool,formData:Zc().object,onRequestClose:Zc().func},Fv=({isOpen:a,onRequestClose:n,formData:r,topics:i,currentItemId:s,dripContentType:o,isDripContentEnable:l,isModalLoading:c,topicUpdateHandler:u,itemIndex:d,isSubCurriculum:m,subCurriculumIndex:p,subTopicUpdateHandler:f,closeModal:h,isAddNewItem:y})=>{const _=zn(),g=r?.id;return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(zf,{title:(0,W.__)("Tutor Booking","academy"),isOpen:a,onRequestClose:n,submitButtonLabel:r?(0,W.__)("Update Booking","academy"):(0,W.__)("Add Booking","academy"),suffix:"booking-form",size:"medium",isSmallAvailable:!1,formik:{enableReinitialize:!0,initialValues:uy(g,r),onSubmit:(e,t)=>{t.setSubmitting(!0),e.title?l&&""===e.meta._academy_booking_drip_content.schedule_by_enroll_date?(t.setSubmitting(!1),_(sr((0,W.__)("Drip content field value required","academy"),!0,"error"))):dy(e)?(_(sr((0,W.__)("Please Fill Required Field.","academy"),!0,"error")),t.setSubmitting(!1)):g?_(((e,t)=>async a=>{try{return await Za.post(`${pa}academy_booking/${parseInt(e)}`,t).then((e=>(a({type:af,payload:e.data}),a(sr((0,W.__)("Successfully Updated","academy"),!0,"success")),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}})(g,e)).then((e=>{t.setValues(uy(g,e.data)),t.setSubmitting(!1),n(e.data)})):_((e=>async t=>{try{return await Za.post(pa+"academy_booking",e).then((e=>(t({type:tf,payload:e.data}),t(sr((0,W.__)("Successfully Created","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((e=>{y&&h(),m?f({id:e.data.id,name:e.data?.title?.rendered,type:"booking"},d,p):u&&u({id:e.data?.id,name:e.data?.title?.rendered,type:"booking"},d),t.setValues(uy(g,e.data)),t.setSubmitting(!1),n()})):(t.setSubmitting(!1),_(sr((0,W.__)("Title Missing","academy"),!0,"error")))},validationSchema:ly().shape({title:Kh().required("*"),meta:ly().shape({_academy_booking_schedule_time_zone:Kh().required("*")})})}},c?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)(Mv,{dripContentType:o,topics:i,currentItemId:s,isDripContentEnable:l})))};Fv.propTypes=Dv,Fv.defaultProps={isModalLoading:!1,updateTopic:!1,isOpen:!1,formData:{},onRequestClose:()=>{}};const Rv=Fv,Lv={viewFromCourseBuilder:Zc().bool,hasIcon:Zc().bool,item:Zc().object,itemIndex:Zc().number},qv=({item:t,itemIndex:a,viewFromCourseBuilder:n,updateTopic:r,hasIcon:i,isSubCurriculum:s,subCurriculumIndex:o,closeModal:l,isAddNewItem:c})=>{const[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),{topicUpdateHandler:f,topics:h,subTopicUpdateHandler:y}=(0,e.useContext)(fh),{dripContentType:_,isDripContentEnable:g}=(0,e.useContext)(ph),[b,v]=(0,e.useState)(!1),E=s&&h[a].topics;function w(e=null){d(!0),n?(p(!0),Za.get(`${pa}academy_booking/${parseInt(t.id)}`,{params:{context:"edit"}}).then((e=>{v(e.data),setTimeout((()=>{p(!1)}),500)}))):v(e)}return(0,e.createElement)(e.Fragment,null,t?.id||n?(0,e.createElement)(lu,{onClick:()=>w(t),preset:"transparent",size:"xs",suffix:"edit",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),iconPosition:"center"}):(0,e.createElement)(e.Fragment,null,i?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{onClick:()=>w(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--tutor-booking-fill"}),label:(0,W.__)("Add Tutor Booking","academy")})):(0,e.createElement)(lu,{onClick:()=>w(),label:(0,W.__)("Create New Tutor Booking","academy")})),u&&(0,e.createElement)(Rv,{isOpen:u,onRequestClose:function(e=null){s&&e?y({id:e.id,name:e?.title?.rendered,type:"booking"},a,o):f&&e&&f({id:e.id,name:e?.title?.rendered,type:"booking"},a),v(!1),d(!1)},formData:b,dripContentType:_,isDripContentEnable:g,topics:s?E:h,currentItemId:t.id,setIsModalLoading:p,isModalLoading:m,updateTopic:r,topicUpdateHandler:f,itemIndex:a,isSubCurriculum:s,subCurriculumIndex:o,subTopicUpdateHandler:y,closeModal:l,isAddNewItem:c}))};qv.propTypes=Lv,qv.defaultProps={hasIcon:!1,viewFromCourseBuilder:!0,item:{}};const jv=qv,zv="create_new_assignment",Bv="update_assignment",Hv="delete_assignment",$v="fetch_all_assignments",Vv="fetch_all_submitted_assignments",Uv="evaluate_submitted_assignment",Wv="delete_submitted_assignment",Gv="move_to_trash",Yv="restore_assignment",Kv="status_update",Zv="update_current_page",Qv="update_assignment_item_per_page",Xv=e=>async t=>{const a={...e,status:"draft"};try{return await Za.post(`${pa}academy_assignments/${parseInt(e.id)}`,a).then((e=>(t({type:Yv,payload:e.data}),t(sr((0,W.__)("Assignment Updated","academy"),!0,"success")),e)))}catch(e){var n;t(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},Jv=e=>async t=>{try{const a=await Za.post(`${pa}academy_assignments/${parseInt(e.ID)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:Hv,payload:a.data.previous}),t(sr((0,W.__)("Assignment Deleted","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},eE=e=>async t=>{try{const a=await Za.post(`${pa}academy_assignments/${parseInt(e.id)}`,{force:!1},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:Gv,payload:a.data}),t(sr((0,W.__)("Moved to trashed","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},tE=(e="all",t=1,a=10,n="")=>async r=>{try{let i={status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};return Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n}),await Za.get(pa+"academy_assignments",{params:i}).then((t=>(r({type:$v,payload:{data:t.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}}),t)))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},aE=e=>async t=>{try{await nn({action:"academy_pro_assignments/delete_submitted_assignment",comment_ID:e}).then((e=>(t({type:Wv,payload:e.data.data}),t(sr((0,W.__)("Submitted Assignment Deleted","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},nE=(e="all",t=1,a=10,n="")=>async r=>{try{let i={status:"all"===e?"any":e,page:t,per_page:a,user_id:Ca?0:ka};return n&&(i={...i,search:n}),await nn({action:"academy_pro_assignments/get_submitted_assignments",...i}).then((e=>(r({type:Vv,payload:{data:e.data.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e)))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},rE=e=>t=>{t({type:Zv,payload:e})},iE=e=>t=>{t({type:Qv,payload:e})},sE={postId:Zc().number,name:Zc().string,postTitle:Zc().string,defaultValue:Zc().string,saveValueHandler:Zc().func};function oE({postId:a,postTitle:n,defaultValue:r,saveValueHandler:i}){const[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(""),[m,p]=(0,e.useState)();return(0,e.useEffect)((()=>{nn({action:"academy/get_course_slug",ID:a,new_title:n}).then((e=>{e.data.data&&o(e.data.data)}))}),[a]),(0,e.createElement)(t().Fragment,null,s&&(0,e.createElement)("div",{id:"edit-slug-box",className:"academy-course-slug"},(0,e.createElement)("strong",null,(0,W.__)("Permalink:","academy")),(0,e.createElement)("span",{id:"sample-permalink"},(0,e.createElement)("a",{href:r,target:"_blank",rel:"noreferrer"},s.display_link),l&&(0,e.createElement)("span",{id:"editable-post-name"},(0,e.createElement)("input",{type:"text",id:"new-post-slug",value:m,onChange:e=>p(e.target.value)}))),s.change_permalink?(0,e.createElement)("a",{href:s.change_permalink,target:"_blank",className:"button button-small",rel:"noreferrer"},(0,W.__)("Change Permalink","academy")):(0,e.createElement)(e.Fragment,null,l?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{type:"button",preset:"purple",size:"sm",onClick:()=>{nn({action:"academy/get_course_slug",ID:a,new_title:s.post_name,new_slug:m}).then((e=>{e.data.data&&(o(e.data.data),e.data.data.post_name&&i("slug",e.data.data.post_name),c(!1))}))},label:(0,W.__)("OK","academy")}),(0,e.createElement)(lu,{type:"button",preset:"light-red",size:"sm",onClick:()=>{o({...s,display_link:u}),c(!1)},label:(0,W.__)("Cancel","academy")})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{type:"button",preset:"light-purple",size:"sm",onClick:()=>{if(s.display_link&&s.editable_postname){const[e]=s.display_link.split(s.editable_postname);d(s.display_link),p(s.editable_postname),o({...s,display_link:e})}c(!0)},label:(0,W.__)("Edit","academy")})))))}oE.propTypes=sE,oE.defaultProps={};const lE=({postId:t,name:a,label:n,defaultValue:r,permalink:i,saveValueHandler:s})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("input",{type:"text",name:a,size:"30",value:r,className:"academy-input",onChange:e=>s(a,e.target.value),placeholder:n}),i&&(0,e.createElement)("div",{className:"inside"},(0,e.createElement)(oE,{postId:t,name:"slug",postTitle:r,defaultValue:i,saveValueHandler:s})));lE.propTypes={name:Zc().string,postId:Zc().number,defaultValue:Zc().string,saveValueHandler:Zc().func};const cE=lE,uE=[{value:"hours",label:(0,W.__)("Hours","academy")},{value:"days",label:(0,W.__)("Days","academy")},{value:"weeks",label:(0,W.__)("Weeks","academy")}],dE=({dripContentType:t,isDripContentEnable:a,topics:n,currentItemId:r})=>{const{values:i,setFieldValue:s}=ep(),o=An((e=>e.addons)),l=ln(o,"content-drip",!0)&&(0,e.createElement)(Ay,{type:t,topics:n,currentItemId:r,isDripContentEnable:a,name:"academy_assignment_drip_content"});return(0,e.createElement)("div",{className:"academy-assignment-form"},(0,e.createElement)("div",{className:"academy-assignment-form__title"},(0,e.createElement)("h3",{className:"academy-assignment-form-label"},(0,W.__)("Assignment Title","academy")),(0,e.createElement)(cE,{name:"title",label:(0,W.__)("Add assignment title here","academy"),defaultValue:i.title,saveValueHandler:s})),(0,e.createElement)("div",{className:"academy-assignment-form__content"},(0,e.createElement)("h3",{className:"academy-assignment-form-label"},(0,W.__)("Assignment Summary","academy")),(0,e.createElement)("div",{className:"academy-editor-tinymce-wrapper"},(0,e.createElement)(Ry,{name:"content",defaultValue:i.content,saveValueHandler:s}))),(0,e.createElement)("div",{className:"academy-content-drip"},l),(0,e.createElement)("div",{className:"academy-editor__upload-image"},(0,e.createElement)("label",{htmlFor:"attachment",className:"assignment-time-fields-group__label"},(0,W.__)("Attachment","academy")),(0,e.createElement)(by,{name:"meta.academy_assignment_attachment",value:i?.meta?.academy_assignment_attachment,saveValueHandler:s,imageSize:"700x430 pixels",supportedFile:".jpg, .jpeg, .gif, .png, .pdf, or .docx"})),(0,e.createElement)("div",{className:"assignment-time-fields-group"},(0,e.createElement)("label",{htmlFor:"timeLimit",className:"assignment-time-fields-group__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Time Limit","academy"))),(0,e.createElement)("div",{className:"academy-form-fields"},(0,e.createElement)("div",{className:"academy-form-fields__number"},(0,e.createElement)(bp,{type:"number",id:"submission_time",name:"meta.academy_assignment_settings.submission_time",min:"0",className:"academy-form-control"})),(0,e.createElement)("div",{className:"academy-form-fields__options"},(0,e.createElement)(Pd,{name:"meta.academy_assignment_settings.submission_time_unit",suffix:"assignment-time",value:uE.find((e=>e.value===i?.meta?.academy_assignment_settings?.submission_time_unit)),options:uE,onChangeHandler:e=>{s("meta.academy_assignment_settings.submission_time_unit",e)}})))),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"academy_quiz_max_attempts_allowed"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Total Points","academy"))),(0,e.createElement)(bp,{id:"total_points",type:"number",name:"meta.academy_assignment_settings.total_points",min:"0",className:"academy-input"})),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"academy_quiz_max_attempts_allowed"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Minimum Passing Points","academy"))),(0,e.createElement)(bp,{id:"minimum_passing_points",type:"number",name:"meta.academy_assignment_settings.minimum_passing_points",min:"0",className:"academy-input"})))},mE=(e=null,t)=>{const a=ln(t,"content-drip",!0);if(e&&e?.meta){const{academy_assignment_settings:t,academy_assignment_attachment:n}=e?.meta,r={post_id:e.id,title:e?.title?.raw,content:e?.content?.raw,status:e?.status,meta:{academy_assignment_attachment:n,academy_assignment_settings:t}};return a&&(r.meta.academy_assignment_drip_content={schedule_by_prerequisite:"",schedule_by_enroll_date:0,schedule_by_date:"",...e.meta?.academy_assignment_drip_content}),r}let n={};return a&&(n={academy_assignment_drip_content:{schedule_by_prerequisite:"",schedule_by_enroll_date:0,schedule_by_date:""}}),{title:"",content:"",status:"publish",meta:{academy_assignment_attachment:0,academy_assignment_settings:{submission_time:1,submission_time_unit:"weeks",minimum_passing_points:5,total_points:10},...n}}},pE=t=>{const{formData:a,isOpenModal:n,onRequestClose:r,isLoading:i,topicUpdateHandler:s,itemIndex:o,dripContentType:l,isDripContentEnable:c,topics:u,currentItemId:d,isSubCurriculum:m,subCurriculumIndex:p,subTopicUpdateHandler:f,closeModal:h,isAddNewItem:y}=t,_=An((e=>e.addons)),g=zn();return(0,e.createElement)("div",null,(0,e.createElement)(zf,{title:(0,W.__)("Assignment","academy"),isOpen:n,onRequestClose:r,submitButtonLabel:a?(0,W.__)("Update Assignment","academy"):(0,W.__)("Add Assignment","academy"),suffix:"assignment-form",size:"small",formik:{enableReinitialize:!0,initialValues:mE(a,_),onSubmit:(e,t)=>{""===e.title?(t.setSubmitting(!1),g(sr((0,W.__)("Title Missing","academy"),!0,"error"))):c&&""===e.meta.academy_assignment_drip_content.schedule_by_enroll_date?(t.setSubmitting(!1),g(sr((0,W.__)("Drip content field value required","academy"),!0,"error"))):(t.setSubmitting(!0),a?g((e=>async t=>{try{return await Za.post(`${pa}academy_assignments/${parseInt(e.post_id)}`,e).then((e=>(t({type:Bv,payload:e.data}),t(sr((0,W.__)("Assignment Updated","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((e=>{r(e.data),t.resetForm(),t.setSubmitting(!1)})):g((e=>async t=>{try{return await Za.post(pa+"academy_assignments",e).then((e=>(t({type:zv,payload:e.data}),t(sr((0,W.__)("Assignment Created","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((e=>{y&&h(),r(),t.resetForm(),m?f({id:e.data.id,name:e.data.title.rendered,type:"assignment"},o,p):s&&s({id:e.data?.id,name:e.data?.title?.rendered,type:"assignment"},o),t.setSubmitting(!1)})))}}},i?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)(dE,{dripContentType:l,topics:u,currentItemId:d,isDripContentEnable:c})))},fE={viewFromCourseBuilder:Zc().bool,hasIcon:Zc().bool,item:Zc().object,itemIndex:Zc().number},hE=({item:t,itemIndex:a,hasIcon:n,viewFromCourseBuilder:r,updateTopic:i,isSubCurriculum:s,subCurriculumIndex:o,closeModal:l,isAddNewItem:c})=>{const[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1),{topicUpdateHandler:y,topics:_,subTopicUpdateHandler:g}=(0,e.useContext)(fh),{dripContentType:b,isDripContentEnable:v}=(0,e.useContext)(ph),E=s&&_[a].topics,w=(e=null)=>{p(!0),r?(h(!0),Za.get(`${pa}academy_assignments/${parseInt(t.id)}`,{params:{context:"edit"}}).then((e=>{d(e.data),h(!1)}))):d(e)};return(0,e.createElement)("div",null,t?.id||r?(0,e.createElement)(lu,{onClick:()=>w(t),preset:"transparent",size:"xs",suffix:"edit",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),iconPosition:"center"}):(0,e.createElement)(e.Fragment,null,n?(0,e.createElement)(lu,{onClick:()=>w(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--assignment-two"}),label:(0,W.__)("New Assignment","academy")}):(0,e.createElement)(lu,{onClick:()=>w(),label:(0,W.__)("Create New Assignment","academy")})),m&&(0,e.createElement)(pE,{isOpenModal:m,onRequestClose:(e=null)=>{s&&e?g({id:e.id,name:e.title.rendered,type:"assignment"},a,o):y&&e&&y({id:e.id,name:e.title.rendered,type:"assignment"},a),d(!1),p(!1)},formData:u,isLoading:f,updateTopic:i,topicUpdateHandler:y,itemIndex:a,dripContentType:b,isDripContentEnable:v,topics:s?E:_,currentItemId:t.id,isSubCurriculum:s,subCurriculumIndex:o,subTopicUpdateHandler:g,closeModal:l,isAddNewItem:c}))};hE.propTypes=fE,hE.defaultProps={hasIcon:!1,viewFromCourseBuilder:!0,item:{}};const yE=hE,_E="create_new_lesson",gE="update_lesson",bE="delete_lesson",vE="fetch_all_lessons",EE="restore_lesson",wE="update_current_page",xE="update_lesson_item_per_page",NE=(e,t)=>async a=>{try{return await Za.post(`${pa}lessons/${parseInt(e)}`,{...t}).then((e=>(a({type:gE,payload:e.data}),a(sr((0,W.__)("Lesson Updated","academy"),!0,"success")),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},kE=e=>async t=>{try{const a=await Za.post(`${pa}lessons/${parseInt(e.ID)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:bE,payload:a.data}),t(sr((0,W.__)("Lesson Deleted","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},SE=(e="all",t=1,a=10,n="")=>async r=>{let i={lesson_status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n});try{return await Za.get(pa+"lessons",{params:i}).then((t=>(r({type:vE,payload:{data:t.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}}),t)))}catch(e){var s;r(sr(null!==(s=e?.response?.data?.message)&&void 0!==s?s:e?.message,!0,"error"))}},CE=e=>async t=>{var a;const n={...e,lesson_content:null!==(a=e?.lesson_content?.raw)&&void 0!==a?a:""};try{return await Za.post(`${pa}lessons/${parseInt(e.ID)}`,n).then((e=>(t({type:EE,payload:e.data}),t(sr((0,W.__)("Lesson Restored!","academy"),!0,"success")),e)))}catch(e){var r;t(sr(null!==(r=e?.response?.data?.message)&&void 0!==r?r:e?.message,!0,"error"))}},OE=(e=null,t={})=>{if(e&&t){const{lesson_status:a,lesson_title:n,lesson_content:r,lesson_excerpt:i,lesson_date:s,lesson_date_gmt:o,meta:l}=t,{featured_media:c,attachment:u,is_previewable:d,video_duration:m,video_source:p,drip_content:f}=l,h=Ja(m)?JSON.parse(m):m,y=Ja(p)?JSON.parse(p):p;return{ID:e,lesson_title:n,lesson_content:r?.raw,lesson_excerpt:i,lesson_date:s,lesson_date_gmt:o,lesson_status:a,meta:{featured_media:c?parseInt(c):0,attachment:u?parseInt(u):0,is_previewable:!!d,video_duration:{hours:h?.hours?parseInt(h?.hours):0,minutes:h?.minutes?parseInt(h?.minutes):0,seconds:h?.seconds?parseInt(h?.seconds):0},video_source:{id:y?.id?y?.id:"",type:y?.type?y?.type:"",url:y?.url?y?.url:""},drip_content:{schedule_by_date:f?.schedule_by_date?f?.schedule_by_date:"",schedule_by_enroll_date:f?.schedule_by_enroll_date?parseInt(f?.schedule_by_enroll_date):0,schedule_by_prerequisite:f?.schedule_by_prerequisite?f?.schedule_by_prerequisite:[]}}}}return{lesson_title:"",lesson_content:"",lesson_excerpt:"",lesson_status:"publish",meta:{featured_media:0,attachment:0,is_previewable:!1,video_duration:{hours:0,minutes:0,seconds:0},video_source:{type:"",url:""},drip_content:{schedule_by_date:"",schedule_by_enroll_date:0,schedule_by_prerequisite:[]}}}},IE=window.lodash;var AE=a.n(IE);const TE={title:Zc().string,subtitle:Zc().string,desc:Zc().string,name:Zc().string,suffix:Zc().string,isPro:Zc().bool};function PE({title:t,subtitle:a,desc:n,name:r,suffix:i,isPro:s}){const o=AE().uniqueId(r+"_"),l=!Sa&&s,c=ep();return(0,e.createElement)("div",{className:`form-group ${i&&"form-group--"+i}`},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:o},(0,e.createElement)("span",{className:"academy-title"},t),l&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),a&&(0,e.createElement)("span",{className:"academy-sub-title"},a)),(0,e.createElement)("div",{className:"form-body",disabled:l},(0,e.createElement)(bp,{id:o,type:"checkbox",name:r,component:Ip,disabled:l,onChange:e=>{const{checked:t}=e.target;c.setFieldValue(r,t),c.setFieldTouched(r,!0),c.setFieldValue("dirty",!0)}}),n&&(0,e.createElement)("span",{className:"desc"},n)))}PE.propTypes=TE,PE.defaultProps={suffix:"radio-check",isPro:!1};const ME={name:Zc().string,value:Zc().number,saveValueHandler:Zc().func,imageSize:Zc().string,supportedFile:Zc().string};function DE({name:a,value:n,saveValueHandler:r,imageSize:i,supportedFile:s}){const[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)(!1);(0,e.useEffect)((()=>{n&&(u(!0),Za.get(`wp/v2/media/${n}`).then((e=>{const t=e.data?.source_url?.split(".");l({url:e.data?.source_url,media_type:e.data?.media_type,title:e.data?.slug+"."+t[1]}),u(!1)})))}),[n]);const d=fa+"assets/images/primary-upload.svg";let m=o.url;return"file"!==o?.media_type&&"application"!==o?.media_type||(m=fa+"assets/images/importFile.svg"),(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-upload-attachment"},(0,e.createElement)("div",{className:"academy-upload-attachment--left"},c?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,m?(0,e.createElement)("div",{className:"academy-upload-attachment--left__linear academy-upload-attachment--left__uploaded"},(0,e.createElement)("div",{className:"academy-upload-attachment--left__linear--img"},(0,e.createElement)("img",{src:m,alt:"image","aria-hidden":"true"}))):(0,e.createElement)("div",{className:"academy-upload-attachment--left__linear"},(0,e.createElement)("div",{className:"academy-upload-attachment--left__linear--img"},(0,e.createElement)("img",{src:d,alt:"image","aria-hidden":"true"}))))),(0,e.createElement)("div",{className:"academy-upload-attachment--right"},(0,e.createElement)("div",{className:"academy-upload-attachment--right--items"},o?.title?(0,e.createElement)("h3",{dangerouslySetInnerHTML:{__html:o.title}}):(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("File Support:","academy"))," ",s),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Size:","academy"))," ",i),(0,e.createElement)(lu,{type:"button",onClick:e=>{e.preventDefault(),rn({library:{type:"application/pdf"},uploader:{type:"application/pdf"}}).then((e=>{l({url:e?.url,media_type:e?.type,title:e?.filename}),r(a,e.id)}))},label:Object.keys(o).length>0?(0,W.__)("Replace Attachment","academy"):(0,W.__)("Upload Attachment","academy"),size:"sm",preset:"light-purple",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--upload"})})),m&&(0,e.createElement)(lu,{onClick:()=>{r(a,0),l({})},type:"button",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),className:"academy-btn-delete"}))))}function FE({name:a,value:n,saveValueHandler:r,isString:i}){const[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)({});let u;(0,e.useEffect)((()=>{n?(o(!0),Za.get(`wp/v2/media/${n}`).then((e=>{const t=e.data?.source_url.split(".");c({url:e.data?.source_url,media_type:e.data?.media_type,title:e.data?.slug+"."+t[1]}),o(!1)}))):c({})}),[n]);const d=Object.keys(l).length>0;return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-component-video-upload"},s?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:`academy-component-video-upload__video ${d&&"academy-component-video-upload__container"}`},d&&(0,e.createElement)("div",{className:"academy-component-video-upload__video__wrapper"},(0,e.createElement)("a",{href:l.url,target:"_blank",rel:"noreferrer"},l?.title)))),(0,e.createElement)("div",{className:"academy-video-btn"},(0,e.createElement)(lu,{type:"button",preset:"transparent",suffix:"video",border:"gray",onClick:e=>{e.preventDefault(),u||(u=wp.media({title:"Select or Upload Media",button:{text:"Use this media"},library:{type:["video"]},multiple:!1}),u.on("select",(function(){const e=u.state().get("selection").first().toJSON();r(a,i?e.id.toString():e.id),c(e)}))),u.open()},label:Object.keys(l).length>0?(0,W.__)("Replace","academy"):(0,W.__)("Upload","academy")}),Object.keys(l).length>0&&(0,e.createElement)(lu,{onClick:()=>{r(a,""),c({})},type:"button",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),preset:"transparent",suffix:"delete",size:"sm"}))))}DE.propTypes=ME,DE.defaultProps={name:"",value:0,saveValueHandler:()=>{},imageSize:"700x430 pixels",supportedFile:".jpg, .jpeg, .gif, .png, .pdf, or .docx"};const RE=[{label:(0,W.__)("Youtube","academy"),value:"youtube"},{label:(0,W.__)("Vimeo","academy"),value:"vimeo"},{label:(0,W.__)("External URL","academy"),value:"external"},{label:(0,W.__)("Embedded","academy"),value:"embedded"},{label:(0,W.__)("HTML 5 (mp4)","academy"),value:"html5"},{label:(0,W.__)("Short Code","academy"),value:"short_code"}],LE=({values:t,saveValueHandler:a})=>(0,e.createElement)("div",{className:"academy-lesson-form--container"},(0,e.createElement)("h2",{className:"academy-heading"},(0,W.__)("Lesson Settings","academy")),(0,e.createElement)("div",{className:"academy-lesson-form--container-body"},(0,e.createElement)("div",{className:"academy-lesson-form--container-body--preview"},(0,e.createElement)(PE,{name:"meta.is_previewable",title:(0,W.__)("Preview Lesson","academy"),subtitle:(0,W.__)("If the preview lesson is marked on, then students can view course content without enrolling in the course.","academy")})),(0,e.createElement)("div",{className:"academy-mb-6"},(0,e.createElement)("div",{className:"academy-flex academy-lesson-form--container-body--video-source"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Video Source","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select your preferred video type.","academy"))),(0,e.createElement)(Pd,{name:"meta.video_source.type",suffix:"lesson-video-source",isClearable:!0,value:RE.find((e=>e.value===t?.video_source?.type)),options:RE,placeholder:(0,W.__)("Select Video Source","academy"),onChangeHandler:e=>a("meta.video_source.type",e)})),!!t?.video_source&&t?.video_source?.type&&"none"!==t?.video_source?.type&&(0,e.createElement)(e.Fragment,null,"html5"===t.video_source.type?(0,e.createElement)(FE,{name:"meta.video_source.id",value:t.video_source.id,saveValueHandler:a}):(0,e.createElement)(bp,{type:"url",as:"textarea",name:"meta.video_source.url",placeholder:"embedded"===t.video_source.type?"place your embedded code here":`${mn(t.video_source.type)} video url`})),"short_code"===t.video_source.type&&(0,e.createElement)("p",{className:"academy-warning-text"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,W.__)("Short Code will only work with Lesson PHP Render","academy"),(0,e.createElement)("a",{href:"https://academylms.net/docs/how-to-enable-learn-page-php-rendering-in-academy-lms/",target:"__blank"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"})))),(0,e.createElement)("div",{className:"academy-column-items academy-lesson-form--container-body--video-playback academy-mb-6"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Video Playback Time","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Set the expected time duration for this lesson","academy"))),(0,e.createElement)("div",{className:"academy-lesson-form__meta-item-content"},(0,e.createElement)(Cp,{name:"meta.duration",render:()=>(0,e.createElement)("div",{className:"academy-lesson-timer"},(0,e.createElement)("label",{htmlFor:"hours",className:"group-field__items"},(0,e.createElement)(bp,{id:"hours",type:"number",name:"meta.video_duration.hours",min:"0",defaultValue:0}),(0,e.createElement)("span",null,(0,W.__)("Hrs","academy"))),(0,e.createElement)("label",{htmlFor:"minutes",className:"group-field__items"},(0,e.createElement)(bp,{id:"minutes",type:"number",name:"meta.video_duration.minutes",min:"0",defaultValue:0}),(0,e.createElement)("span",null,(0,W.__)("Min","academy"))),(0,e.createElement)("label",{htmlFor:"seconds",className:"group-field__items"},(0,e.createElement)(bp,{id:"seconds",type:"number",name:"meta.video_duration.seconds",min:"0",defaultValue:0}),(0,e.createElement)("span",null,(0,W.__)("Sec","academy"))))}))),(0,e.createElement)("div",{className:"academy-column-items academy-lesson-form--container-body--attachment"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Attachment","academy")),(0,e.createElement)(DE,{name:"meta.attachment",value:t.attachment,saveValueHandler:a,imageSize:"700x430 pixels",supportedFile:".jpg, .jpeg, .gif, .png, .pdf, or .docx"})))),qE={onRequestClose:Zc().func,dripContentType:Zc().string,isDripContentEnable:Zc().bool,topics:Zc().array,currentItemId:Zc().number};function jE({dripContentType:t,isDripContentEnable:a,topics:n,currentItemId:r}){const{values:i,setFieldValue:s}=ep(),o=An((e=>e.addons)),l=ln(o,"content-drip",!0)&&(0,e.createElement)(Ay,{type:t,topics:n,currentItemId:r,isDripContentEnable:a});return(0,e.createElement)("div",{className:"academy-lesson-form"},(0,e.createElement)("div",{className:"academy-column-items academy-mb-6"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Lesson Title","academy")),(0,e.createElement)(cE,{name:"lesson_title",label:(0,W.__)("Add lesson title here","academy"),defaultValue:i.lesson_title,saveValueHandler:s})),(0,e.createElement)("div",{className:"academy-column-items academy-mb-6"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Lesson Content","academy")),(0,e.createElement)("div",{className:"academy-editor-tinymce-wrapper"},(0,e.createElement)(Ry,{name:"lesson_content",defaultValue:i.lesson_content,saveValueHandler:s}))),(0,e.createElement)("div",{className:"academy-column-items academy-mb-6"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Feature Image","academy")),(0,e.createElement)(by,{name:"meta.featured_media",saveValueHandler:s,value:parseInt(i.meta.featured_media),imageSize:"700x430 pixels",supportedFile:".jpg, .jpeg, .gif, or .png"})),(0,e.createElement)("div",{className:"academy-mb-6"},l),(0,e.createElement)(LE,{values:i.meta,saveValueHandler:s}))}jE.propTypes=qE,jE.defaultProps={};const zE={updateTopic:Zc().bool,isModalLoading:Zc().bool};function BE(a){const{formData:n,isOpenModal:r,onRequestClose:i,dripContentType:s,isDripContentEnable:o,topics:l,currentItemId:c,isModalLoading:u,topicUpdateHandler:d,itemIndex:m,isSubCurriculum:p,subCurriculumIndex:f,subTopicUpdateHandler:h,closeModal:y,isAddNewItem:_}=a,g=n?.ID?n?.ID:n?.id,b=zn();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(zf,{title:(0,W.__)("Lesson","academy"),isOpen:r,onRequestClose:i,submitButtonLabel:n?(0,W.__)("Update Lesson","academy"):(0,W.__)("Add lesson","academy"),suffix:"lesson-form",size:"small",formik:{enableReinitialize:!0,initialValues:OE(g,n),onSubmit:(e,t)=>{t.setSubmitting(!0),""===e?.lesson_title?(t.setSubmitting(!1),b(sr((0,W.__)("Title Missing","academy"),!0,"error"))):""===e.meta.video_duration.hours||""===e.meta.video_duration.minutes||""===e.meta.video_duration.seconds?(t.setSubmitting(!1),b(sr((0,W.__)("Duration field can not be empty!","academy"),!0,"error"))):o&&""===e.meta.drip_content.schedule_by_enroll_date?(t.setSubmitting(!1),b(sr((0,W.__)("Drip content field value required","academy"),!0,"error"))):""!==e.lesson_title.trim()&&(t.setSubmitting(!0),g?b(NE(g,e)).then((e=>{e.data&&(t.setSubmitting(!1),t.setValues(OE(g,e.data)),t.setSubmitting(!1),setTimeout((()=>{i(e.data)}),500))})):b((e=>async t=>{try{return await Za.post(pa+"lessons",e).then((e=>(t({type:_E,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((e=>{p?h({id:e.data?.ID,name:e.data?.lesson_title,type:"lesson"},m,f):d&&d({id:e.data?.ID,name:e.data?.lesson_title,type:"lesson"},m),t.setSubmitting(!1),t.setValues(OE(e.data.ID,e.data)),b(sr((0,W.__)("Lesson Created","academy"),!0,"success")),_&&y(),t.setSubmitting(!1),setTimeout((()=>{i()}),500)})))}}},u?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)(jE,{dripContentType:s,topics:l,currentItemId:c,isDripContentEnable:o})))}BE.propTypes=zE,BE.defaultProps={updateTopic:!1,isModalLoading:!1};const HE=BE,$E={viewFromCourseBuilder:Zc().bool,item:Zc().object,itemIndex:Zc().number,updateTopic:Zc().bool,isSubCurriculum:Zc().bool,hasIcon:Zc().bool},VE=({item:t,itemIndex:a,hasIcon:n,viewFromCourseBuilder:r,updateTopic:i,isSubCurriculum:s,subCurriculumIndex:o,closeModal:l,isAddNewItem:c})=>{const[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),{topicUpdateHandler:f,topics:h,subTopicUpdateHandler:y}=(0,e.useContext)(fh),{dripContentType:_,isDripContentEnable:g}=(0,e.useContext)(ph),[b,v]=(0,e.useState)(!1),E=t?.id?t?.id:t.ID,w=s&&h[a].topics;function x(){E?(p(!0),d(!0),Za.get(`${pa}lessons/${parseInt(E)}`,{params:{context:"edit"}}).then((e=>{v(e.data),setTimeout((()=>{p(!1)}),500)}))):d(!0)}return(0,e.createElement)(e.Fragment,null,t?.id||r?(0,e.createElement)(lu,{onClick:()=>x(),preset:"transparent",size:"xs",suffix:"edit",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),iconPosition:"center"}):(0,e.createElement)(e.Fragment,null,n?(0,e.createElement)(lu,{onClick:()=>x(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--lessons"}),label:(0,W.__)("Add Lesson","academy")}):(0,e.createElement)(lu,{onClick:()=>x(),label:(0,W.__)("Create New Lesson","academy")})),u&&(0,e.createElement)(HE,{isOpenModal:u,onRequestClose:function(e=null){s&&e?y({id:e?.ID,name:e?.lesson_title,type:"lesson"},a,o):!s&&e&&f({id:e?.ID,name:e?.lesson_title,type:"lesson"},a),v(!1),d(!1)},formData:b,dripContentType:_,isDripContentEnable:g,topics:s?w:h,currentItemId:t.id,setIsModalLoading:p,isModalLoading:m,updateTopic:i,topicUpdateHandler:f,itemIndex:a,isSubCurriculum:s,subCurriculumIndex:o,subTopicUpdateHandler:y,closeModal:l,isAddNewItem:c}))};VE.propTypes=$E,VE.defaultProps={viewFromCourseBuilder:!0,item:{},updateTopic:!1,isSubCurriculum:!1,hasIcon:!1};const UE=VE,WE="create_quiz",GE="update_quiz",YE="delete_quiz",KE="fetch_all_quizzes",ZE="move_to_trash",QE="status_update",XE="restore_quiz",JE="update_current_page",ew="update_quiz_item_per_page",tw=e=>async t=>{try{return await Za.post(pa+"academy_quiz/"+e.id,e).then((e=>(t({type:QE,payload:e.data}),t(sr((0,W.__)("Quiz status updated!","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},aw=e=>async t=>{const a={...e,status:"draft"};try{return await Za.post(pa+"academy_quiz/"+e,a).then((e=>(t({type:XE,payload:e.data}),t(sr((0,W.__)("Quiz Restored!","academy"),!0,"success")),e)))}catch(e){var n;t(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},nw=e=>async t=>{try{const a=await Za.post(pa+"academy_quiz/"+e,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:YE,payload:a.data.previous}),t(sr((0,W.__)("Quiz Deleted!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},rw=e=>async t=>{try{const a=await Za.post(`${pa}academy_quiz/${parseInt(e.ID)}`,{force:!1},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:ZE,payload:a.data}),t(sr((0,W.__)("Moved to Trash!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},iw=(e="all",t=1,a=10,n="")=>async r=>{let i={status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};return Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n}),await Za.get(pa+"academy_quiz",{params:i}).then((t=>(r({type:KE,payload:{data:t.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}}),t.data)),(e=>{var t;r(sr(null!==(t=e.data.message)&&void 0!==t?t:e.message,!0,"error"))}))},sw=e=>t=>{t({type:JE,payload:e})},ow=e=>t=>{t({type:ew,payload:e})};function lw({debounceMs:a}){const n=ep(),r=t().useCallback(Qd((()=>n.submitForm()),a),[a,n.submitForm]);return(0,e.useEffect)((()=>(r(),r.clear)),[r,n.values]),(0,e.createElement)(e.Fragment,null)}function cw(){const{values:a}=ep(),[n,r]=(0,e.useState)(""!==a.content);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-quiz-form__step"},(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"title"},(0,W.__)("Quiz Title","academy")),(0,e.createElement)(bp,{id:"title",name:"title",placeholder:(0,W.__)("Add Quiz title here","academy"),className:"academy-input"})),(0,e.createElement)("div",{className:"academy-quiz-form__step-description"},n?(0,e.createElement)("div",{className:"academy-quiz-form__step-description--open"},(0,e.createElement)("div",{className:"academy-quiz-form__step-description--open__close"},(0,e.createElement)("span",{className:"academy-quiz-form__step-description--open__close-label"},(0,W.__)("Description (Optional)","academy")),(0,e.createElement)(lu,{onClick:()=>r(!1),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),preset:"transparent",size:"sm"})),(0,e.createElement)(bp,{id:"content",name:"content",as:"textarea",placeholder:(0,W.__)("Add Quiz summary here","academy"),className:"academy-input"})):(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),iconPosition:"left",suffix:"description",preset:"transparent",onClick:()=>{r(!n)},label:(0,W.__)("Add Description","academy"),className:"academy-btn__description"}))))}function uw(e,t,a,n,r,i,s){try{var o=e[i](s),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(n,r)}function dw(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function s(e){uw(i,n,r,s,o,"next",e)}function o(e){uw(i,n,r,s,o,"throw",e)}s(void 0)}))}}function mw(){return mw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},mw.apply(this,arguments)}lw.propTypes={},lw.defaultProps={},cw.propTypes={},cw.defaultProps={};var pw,fw=(function(e){var t=function(e){var t,a=Object.prototype,n=a.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,a){return e[t]=a}}function c(e,t,a,n){var r=t&&t.prototype instanceof y?t:y,i=Object.create(r.prototype),s=new O(n||[]);return i._invoke=function(e,t,a){var n=d;return function(r,i){if(n===p)throw new Error("Generator is already running");if(n===f){if("throw"===r)throw i;return A()}for(a.method=r,a.arg=i;;){var s=a.delegate;if(s){var o=k(s,a);if(o){if(o===h)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===d)throw n=f,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=p;var l=u(e,t,a);if("normal"===l.type){if(n=a.done?f:m,l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(n=f,a.method="throw",a.arg=l.arg)}}}(e,a,s),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",m="suspendedYield",p="executing",f="completed",h={};function y(){}function _(){}function g(){}var b={};l(b,i,(function(){return this}));var v=Object.getPrototypeOf,E=v&&v(v(I([])));E&&E!==a&&n.call(E,i)&&(b=E);var w=g.prototype=y.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function a(r,i,s,o){var l=u(e[r],e,i);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,s,o)}),(function(e){a("throw",e,s,o)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return a("throw",e,s,o)}))}o(l.arg)}var r;this._invoke=function(e,n){function i(){return new t((function(t,r){a(e,n,t,r)}))}return r=r?r.then(i,i):i()}}function k(e,a){var n=e.iterator[a.method];if(n===t){if(a.delegate=null,"throw"===a.method){if(e.iterator.return&&(a.method="return",a.arg=t,k(e,a),"throw"===a.method))return h;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=u(n,e.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,h;var i=r.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,h):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var a=e[i];if(a)return a.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function a(){for(;++r<e.length;)if(n.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=t,a.done=!0,a};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return _.prototype=g,l(w,"constructor",g),l(g,"constructor",_),_.displayName=l(g,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,o,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},x(N.prototype),l(N.prototype,s,(function(){return this})),e.AsyncIterator=N,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var s=new N(c(t,a,n,r),i);return e.isGeneratorFunction(a)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(w),l(w,o,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function r(n,r){return o.type="throw",o.arg=e,a.next=n,r&&(a.method="next",a.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),C(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;C(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,n){return this.delegate={iterator:I(e),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(pw={exports:{}}),pw.exports),hw=function(e){return"function"==typeof e},yw=["activeStepIndex","validateOnNext","steps","children"],_w=function(a){var n=a.activeStepIndex,r=void 0===n?0:n,i=a.validateOnNext,s=void 0===i||i,o=a.steps,l=a.children,c=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(a,yw),u=function(t,a,n){var r=a.length,i=(0,e.useState)(t),s=i[0],o=i[1],l=0===s,c=0===s,u=s>=r-1,d=(0,e.useCallback)((function(){return o(Math.max(0,s-1))}),[o,s]),m=(0,e.useCallback)((function(){return o(Math.min(s+1,r-1))}),[o,s,r]),p=a[s],f=p.beforePrev,h=p.beforeNext,y=(0,e.useCallback)((function(e){return dw(fw.mark((function t(){var a;return fw.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!0,!hw(f)){t.next=10;break}return t.prev=2,t.next=5,f(e.values,e,s);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),a=!1;case 10:a&&d();case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))}),[d,s,f]),_=(0,e.useCallback)((function(e){return dw(fw.mark((function t(){var a,r;return fw.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,!n){t.next=6;break}return t.next=4,e.validateForm();case 4:r=t.sent,a=0===Object.keys(r).length;case 6:if(!(n&&a||!n)||!hw(h)){t.next=16;break}return t.prev=7,t.next=10,h(e.values,e,s);case 10:a=!0,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),a=!1;case 16:a&&(u?e.submitForm():m());case 17:case"end":return t.stop()}}),t,null,[[7,13]])})))}),[m,s,h,u,n]);return{currentStepIndex:s,isPrevDisabled:l,isFirstStep:c,isLastStep:u,goToPrev:d,goToNext:m,handlePrev:y,handleNext:_}}(r,o,s),d=u.currentStepIndex,m=u.isPrevDisabled,p=u.isFirstStep,f=u.isLastStep,h=u.handlePrev,y=u.handleNext,_=o[d],g=_.component;return t().createElement(fp,Object.assign({},c,{validationSchema:_.validationSchema}),"function"==typeof l?function(e){var a,n={handlePrev:(a=dw(fw.mark((function t(){return fw.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e)();case 2:return t.next=4,e.validateForm();case 4:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)}),handleNext:y(e),isFirstStep:p,isLastStep:f,currentStepIndex:d,isPrevDisabled:m,isNextDisabled:s&&!e.isValid||!1,renderComponent:function(){return t().createElement(g,Object.assign({},e,{currentStepIndex:d}))}};return l(mw({},e,n))}:l)};const gw=(0,e.createContext)({});function bw({data:a,openQuestionModalHandler:n,arrayHelpers:r,index:i,editBtnLoading:s}){const[o,l]=(0,e.useState)(!1),c=zn();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-question",key:i},(0,e.createElement)("div",{className:"academy-question-title"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag"}),`${i+1}. ${cn(a?.title,50,"...")}`),(0,e.createElement)(ld,{icon:"three-dots-menu",suffix:"question",options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),isLoading:s===a.id,onClick:()=>n(a)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),isLoading:o,onClick:()=>(l(!0),void(window.confirm((0,W.__)("Are you sure?","academy"))?Za.post(`${pa}quiz_questions/${parseInt(a.id)}`,{},{headers:{"X-HTTP-Method-Override":"DELETE"}}).then((()=>{l(!1),r.remove(i),c(sr((0,W.__)("Question Deleted"),!0,"success"))})):l(!1)))}]})))}bw.propTypes={},bw.defaultProps={};const vw="create_quiz_question",Ew="update_quiz_question",ww=e=>async t=>{try{const a=e?.id?pa+"quiz_questions/"+e?.id:pa+"quiz_questions";return await Za.post(a,e).then((e=>(t({type:vw,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},xw=e=>async t=>{try{return await Za.post(pa+"quiz_questions/"+parseInt(e.question_id),e).then((e=>(t({type:Ew,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Nw=window.wp.apiFetch;var kw=a.n(Nw);const Sw=(e,t)=>{try{const a=[];return e.forEach((e=>{const n=pa+"quiz_answers";return kw()({path:n,method:"POST",data:{...e,...t}}).then((e=>{a.push(e)}))})),a}catch(e){console.log(e)}},Cw=async e=>{try{const t=pa+"quiz_questions/"+e;return await kw()({path:t,method:"GET"}).then((e=>e))}catch(e){console.log(e)}},Ow=async(e,t)=>{try{return await Za.get(`${pa}quiz_answers/${parseInt(e)}`,{params:{question_type:t}}).then((e=>e))}catch(e){console.log(e)}},Iw=(e,t)=>{const a=ln(t,"content-drip",!0);if(e){const t={...e,title:e?.title?.raw,content:e?.content?.raw,meta:{...e.meta}};return a&&(t.meta.academy_quiz_drip_content={schedule_by_prerequisite:"",schedule_by_enroll_date:0,schedule_by_date:"",...e.meta?.academy_quiz_drip_content}),t}let n={};return a&&(n={academy_quiz_drip_content:{schedule_by_prerequisite:"",schedule_by_enroll_date:0,schedule_by_date:""}}),{title:"",content:"",author:ka,meta:{academy_quiz_questions:[],academy_quiz_time:0,academy_quiz_time_unit:"minutes",academy_quiz_hide_quiz_time:!1,academy_quiz_feedback_mode:"default",academy_quiz_passing_grade:80,academy_quiz_max_questions_for_answer:10,academy_quiz_max_attempts_allowed:10,academy_quiz_auto_start:!1,academy_quiz_questions_order:"rand",academy_quiz_hide_question_number:!1,academy_quiz_short_answer_characters_limit:200,...n}}},Aw={quiz_id:"",question_title:"",question_content:"",question_level:"",question_type:"trueFalse",question_score:1,question_settings:{display_points:!0,answer_required:!1,randomize:!1},correct_answer:""},Tw=[{value:"trueFalse",label:(0,W.__)("True/False","academy")},{value:"singleChoice",label:(0,W.__)("Single Choice","academy")},{value:"multipleChoice",label:(0,W.__)("Multiple Choice","academy")},{value:"shortAnswer",label:Sa?(0,W.__)("Short Answer","academy"):(0,W.__)("Short Answer [PRO]","academy"),isDisabled:!Sa},{value:"imageAnswer",label:Sa?(0,W.__)("Image Answer","academy"):(0,W.__)("Image Answer [PRO]","academy"),isDisabled:!Sa},{value:"fillInTheBlanks",label:Sa?(0,W.__)("Fill In The Blanks","academy"):(0,W.__)("Fill In The Blanks [PRO]","academy"),isDisabled:!Sa}];function Pw({name:a}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-sortable-format"},(0,e.createElement)("label",{htmlFor:"onlytext"},(0,e.createElement)(bp,{id:"onlytext",type:"radio",name:a,value:"text"})," ",(0,W.__)("Only Text","academy")),(0,e.createElement)("label",{htmlFor:"onlyimage"},(0,e.createElement)(bp,{id:"onlyimage",type:"radio",name:a,value:"image"})," ",(0,W.__)("Only Image","academy")),(0,e.createElement)("label",{htmlFor:"onlytextimage"},(0,e.createElement)(bp,{id:"onlytextimage",type:"radio",name:a,value:"textAndImage"})," ",(0,W.__)("Text & Image Both","academy"))))}Pw.propTypes={},Pw.defaultProps={};const Mw=({index:t,value:a,closeFormHandler:n})=>{const{setFieldValue:r}=ep();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-sortable__item-title"},(0,e.createElement)("span",{className:"label"},(0,W.__)("Answer Title","academy")),(0,e.createElement)(bp,{name:`answers.${t}.answer_title`})),(0,e.createElement)("div",{className:"academy-sortable__item-image"},(0,e.createElement)(by,{name:`answers.${t}.image_id`,saveValueHandler:(e,t)=>{r(e,t)},value:parseInt(a?.image_id)})),(0,e.createElement)("div",{className:"academy-sortable__item-format"},(0,e.createElement)("span",null,(0,W.__)("Display format for answer options","academy")),(0,e.createElement)(Pw,{name:`answers.${t}.view_format`})),(0,e.createElement)(lu,{onClick:()=>n(!1),preset:"white",border:"purple",size:"sm",label:(0,W.__)("Save and Update Answer","academy")}))},Dw=ad((({item:t,itemIndex:a,correctAnswerHandler:n,editItemHandler:r,deleteItemHandler:i})=>{const[s,o]=(0,e.useState)({});return(0,e.useEffect)((()=>{t?.image_id&&Za.get(`wp/v2/media/${t?.image_id}`).then((e=>{o(e.data)}))}),[]),(0,e.createElement)("div",{className:"academy-sortable__item"},(0,e.createElement)("div",{className:"academy-sortable__title"},(0,e.createElement)("span",{className:"bars"},(0,e.createElement)("span",null),(0,e.createElement)("span",null),(0,e.createElement)("span",null)),t.answer_title,0!==parseInt(t?.image_id)&&(0,e.createElement)("img",{src:s?.source_url,alt:(0,W.__)("item image","academy")})),(0,e.createElement)("div",{className:"academy-sortable__item-field"},(0,e.createElement)("input",{type:"checkbox",onChange:()=>{n(`answers.${a}.is_correct`,a)},checked:!0===t.is_correct}),(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>r(t,a)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>i(t,a)}]})))})),Fw=Ju((({items:t,correctAnswerHandler:a,arrayHelpers:n})=>{const r=zn(),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(0),c=(e,t)=>{l(t),s(!0)},u=(e,t)=>{window.confirm((0,W.__)("Are you sure?","academy"))&&(n.remove(t),e?.answer_id&&(Za.post(`${pa}quiz_answers/${parseInt(e?.answer_id)}`,{},{headers:{"X-HTTP-Method-Override":"DELETE"}}),r(sr((0,W.__)("Option deleted successfully!","academy"),!0,"success"))))};return(0,e.createElement)("div",{className:"academy-sortable"},i?(0,e.createElement)(Mw,{closeFormHandler:()=>{return e=t[o],void(e?.answer_title?s(!1):r(sr((0,W.__)("Answer title is required!!","academy"),!0,"error")));var e},value:t[o],index:o}):(0,e.createElement)(e.Fragment,null,t&&t.map(((t,n)=>(0,e.createElement)(Dw,{key:`item-${n}`,index:n,correctAnswerHandler:a,editItemHandler:c,deleteItemHandler:u,itemIndex:n,item:t}))),(0,e.createElement)(lu,{onClick:()=>{l(t.length),n.push({answer_title:"",is_correct:!1,image_id:0,view_format:"text"}),s(!0)},preset:"white",border:"purple",size:"sm",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),iconPosition:"left",label:(0,W.__)("Add an option","academy"),style:{justifyContent:"center"}})))}));function Rw(){const{setFieldValue:a,values:n}=ep(),{answers:r}=n,[i,s]=(0,e.useState)(!1),o=({oldIndex:e,newIndex:t})=>{s(!0),a("answers",nd(r,e,t)),setTimeout((()=>{s(!1)}),500)},l=(e,t)=>{const{is_correct:n}=r[t];a(e,!n)};return r?(0,e.createElement)(t().Fragment,null,i?(0,e.createElement)(wd,null):(0,e.createElement)(Cp,{name:"answers",render:t=>(0,e.createElement)(Fw,{arrayHelpers:t,items:r,correctAnswerHandler:l,onSortEnd:o})})):null}Rw.propTypes={},Rw.defaultProps={};const Lw=({index:t,value:a,closeFormHandler:n})=>{const{setFieldValue:r}=ep();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-sortable__item-title"},(0,e.createElement)("span",{className:"label"},(0,W.__)("Answer Title","academy")),(0,e.createElement)(bp,{name:`answers.${t}.answer_title`})),(0,e.createElement)("div",{className:"academy-sortable__item-image"},(0,e.createElement)(by,{name:`answers.${t}.image_id`,saveValueHandler:(e,t)=>{r(e,t)},value:parseInt(a?.image_id)})),(0,e.createElement)("div",{className:"academy-sortable__item-format"},(0,e.createElement)("span",null,(0,W.__)("Display format for answer options","academy")),(0,e.createElement)(Pw,{name:`answers.${t}.view_format`})),(0,e.createElement)(lu,{onClick:()=>n(!1),preset:"white",border:"purple",size:"sm",label:(0,W.__)("Save and Update Answer","academy")}))},qw=ad((({item:t,itemIndex:a,correctAnswerHandler:n,editItemHandler:r,deleteItemHandler:i})=>{const[s,o]=(0,e.useState)({});return(0,e.useEffect)((()=>{t.image_id&&Za.get(`wp/v2/media/${t?.image_id}`).then((e=>{o(e.data)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-sortable__item"},(0,e.createElement)("div",{className:"academy-sortable__title"},(0,e.createElement)("span",{className:"bars"},(0,e.createElement)("span",null),(0,e.createElement)("span",null),(0,e.createElement)("span",null)),t.answer_title,0!==parseInt(t?.image_id)&&(0,e.createElement)("img",{src:s?.source_url,alt:(0,W.__)("item image","academy")})),(0,e.createElement)("div",{className:"academy-sortable__item-field"},(0,e.createElement)("input",{type:"radio",onChange:()=>{n(`answers.${a}.is_correct`,a)},checked:!0===t.is_correct}),(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>r(t,a)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>i(t,a)}]}))))})),jw=Ju((({items:t,correctAnswerHandler:a,arrayHelpers:n})=>{const r=zn(),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(0),c=(e,t)=>{l(t),s(!0)},u=(e,t)=>{window.confirm((0,W.__)("Are you sure?","academy"))&&(n.remove(t),e?.answer_id&&Za.post(`${pa}quiz_answers/${parseInt(e?.answer_id)}`,{},{headers:{"X-HTTP-Method-Override":"DELETE"}}))};return(0,e.createElement)("div",{className:"academy-sortable"},i?(0,e.createElement)(Lw,{closeFormHandler:()=>{return e=t[o],void(e?.answer_title?s(!1):r(sr((0,W.__)("Answer title is required!!","academy"),!0,"error")));var e},value:t[o],index:o}):(0,e.createElement)(e.Fragment,null,t&&t.map(((t,n)=>(0,e.createElement)(qw,{key:`item-${n}`,correctAnswerHandler:a,editItemHandler:c,deleteItemHandler:u,itemIndex:n,index:n,item:t}))),(0,e.createElement)(lu,{onClick:()=>{n.push({answer_title:"",is_correct:!1,image_id:0,view_format:"text"}),l(t.length),s(!0)},preset:"white",border:"purple",size:"sm",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),iconPosition:"left",label:(0,W.__)("Add an option","academy"),style:{justifyContent:"center"}})))}));function zw(){const{setFieldValue:a,values:n}=ep(),{answers:r}=n,[i,s]=(0,e.useState)(!1),o=({oldIndex:e,newIndex:t})=>{s(!0),a("answers",nd(r,e,t)),setTimeout((()=>{s(!1)}),500)},l=(e,t)=>{const{is_correct:n}=r[t];r.forEach(((r,i)=>{i===t?!1===n&&a(e,!0):a(`answers.${i}.is_correct`,!1)}))};return r?(0,e.createElement)(t().Fragment,null,(0,e.createElement)(e.Fragment,null,i?(0,e.createElement)(wd,null):(0,e.createElement)(Cp,{name:"answers",render:t=>(0,e.createElement)(jw,{arrayHelpers:t,items:r,correctAnswerHandler:l,onSortEnd:o,sortedDataLoading:i})}))):null}zw.propTypes={},zw.defaultProps={};const Bw=ad((({item:t,itemIndex:a,correctAnswerHandler:n})=>(0,e.createElement)("div",{className:"academy-sortable__item"},(0,e.createElement)("div",{className:"academy-sortable__title"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag"},(0,e.createElement)("span",null),(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("span",null,t.answer_title)),(0,e.createElement)("div",{className:"academy-sortable__item-field"},(0,e.createElement)("input",{type:"radio",onChange:()=>{n(`answers.${a}.is_correct`,a)},checked:!0===t.is_correct}))))),Hw=Ju((({items:t,correctAnswerHandler:a})=>(0,e.createElement)("div",{className:"academy-sortable"},t&&t.map(((t,n)=>(0,e.createElement)(Bw,{key:`item-${n}`,index:n,correctAnswerHandler:a,itemIndex:n,item:t}))))));function $w({fieldType:a}){const{setFieldValue:n,values:r}=ep(),{answers:i}=r,s=[{answer_title:(0,W.__)("True","academy"),view_format:"text",question_type:"trueFalse",is_correct:!1},{answer_title:(0,W.__)("False","academy"),view_format:"text",question_type:"trueFalse",is_correct:!1}];(0,e.useEffect)((()=>{const e=i?i?.reduce(((e,t)=>("trueFalse"===t.question_type&&e.push(t),e)),[]):[];n("answers",2===e?.length?e:s)}),[a]);const o=({oldIndex:e,newIndex:t})=>{n("answers",nd(i,e,t))},l=(e,t)=>{const{is_correct:a}=i[t];i.forEach(((e,r)=>{n(`answers.${r}.is_correct`,r===t&&!a)}))};return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(Cp,{name:"answers",render:()=>(0,e.createElement)(Hw,{items:i,correctAnswerHandler:l,onSortEnd:o})}))}$w.propTypes={},$w.defaultProps={};const Vw=()=>(0,e.createElement)("div",null,(0,e.createElement)("p",null,(0,W.__)("This answer type will automatically add text field for answer.","academy"))),Uw=({index:t,value:a,closeFormHandler:n})=>{const{setFieldValue:r}=ep();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-sortable__item-title"},(0,e.createElement)("span",{className:"label"},(0,W.__)("Answer Title","academy")),(0,e.createElement)(bp,{name:`answers.${t}.answer_title`,onChange:e=>r(`answers.${t}.answer_title`,e.target.value.toLowerCase())}),(0,e.createElement)("p",{className:"academy-desc"},(0,W.__)("The answers that students enter should match with this text.","academy"))),(0,e.createElement)("div",{className:"academy-sortable__item-image"},(0,e.createElement)(by,{name:`answers.${t}.image_id`,saveValueHandler:(e,t)=>{r(e,t)},value:parseInt(a?.image_id)})),(0,e.createElement)(lu,{onClick:()=>n(!1),preset:"white",border:"purple",size:"sm",label:(0,W.__)("Save and Update Answer","academy")}))},Ww=ad((({item:t,itemIndex:a,editItemHandler:n,deleteItemHandler:r})=>{const[i,s]=(0,e.useState)({});return(0,e.useEffect)((()=>{t.image_id&&Za.get(`wp/v2/media/${t.image_id}`).then((e=>{s(e.data)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-sortable__item"},(0,e.createElement)("div",{className:"academy-sortable__title"},(0,e.createElement)("span",{className:"bars"},(0,e.createElement)("span",null),(0,e.createElement)("span",null),(0,e.createElement)("span",null)),t.answer_title,t.image_id&&(0,e.createElement)("img",{src:i.source_url,alt:""})),(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t,a)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>r(t,a)}]})))})),Gw=Ju((({items:t,correctAnswerHandler:a,arrayHelpers:n})=>{const r=zn(),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(0),c=(e,t)=>{l(t),s(!0)},u=(e,t)=>{window.confirm((0,W.__)("Are you sure?","academy"))&&(n.remove(t),e?.answer_id&&(Za.post(`${pa}quiz_answers/${parseInt(e?.answer_id)}`,{},{headers:{"X-HTTP-Method-Override":"DELETE"}}),r(sr((0,W.__)("Option deleted successfully!","academy"),!0,"success"))))};return(0,e.createElement)("div",{className:"academy-sortable"},i?(0,e.createElement)(Uw,{closeFormHandler:()=>{return e=t[o],void(Sa?e?.answer_title&&e?.image_id?s(!1):r(sr((0,W.__)("Answer title and Image is required!!","academy"),!0,"error")):r(sr((0,W.__)("Required Academy LMS PRO!!","academy"),!0,"error")));var e},value:t[o],index:o}):(0,e.createElement)(e.Fragment,null,t&&t.map(((t,n)=>(0,e.createElement)(Ww,{key:`item-${n}`,correctAnswerHandler:a,editItemHandler:c,deleteItemHandler:u,itemIndex:n,index:n,item:t}))),(0,e.createElement)(lu,{onClick:()=>{n.push({answer_title:"",is_correct:!1,image_id:0,view_format:"text"}),l(t.length),s(!0)},preset:"white",border:"purple",size:"sm",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),iconPosition:"left",label:(0,W.__)("Add an option","academy"),style:{justifyContent:"center"}})))})),Yw=()=>{const{setFieldValue:a,values:n}=ep(),{answers:r}=n,[i,s]=(0,e.useState)(!1),o=({oldIndex:e,newIndex:t})=>{s(!0),a("answers",nd(r,e,t)),setTimeout((()=>{s(!1)}),500)},l=(e,t)=>{const{is_correct:n}=r[t];r.forEach(((r,i)=>{i===t?!1===n&&a(e,!0):a(`answers.${i}.is_correct`,!1)}))};return r?(0,e.createElement)(t().Fragment,null,i?(0,e.createElement)(wd,null):(0,e.createElement)(Cp,{name:"answers",render:t=>(0,e.createElement)(Gw,{arrayHelpers:t,items:r,correctAnswerHandler:l,onSortEnd:o})})):null},Kw=({index:t,closeFormHandler:a})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-sortable__item-title"},(0,e.createElement)("span",null,(0,W.__)("Answer Title","academy")),(0,e.createElement)(bp,{name:`answers.${t}.answer_title`}),(0,e.createElement)("p",{className:"academy-desc"},(0,W.__)("Please make sure to use the {dash} variable in your question title to show the blanks in your question. You can use multiple {dash} variables in one question.","academy"))),(0,e.createElement)("div",{className:"academy-sortable__item-title"},(0,e.createElement)("span",null,(0,W.__)("Answer","academy")),(0,e.createElement)(bp,{name:`answers.${t}.answer_content`}),(0,e.createElement)("p",{className:"academy-desc"},(0,W.__)("The question defines one answer per {dash} variable, with multiple answers separated by a vertical bar |. For instance, the possible answers to the question would be listed as: Apple | Banana | Orange.","academy"))),(0,e.createElement)(lu,{onClick:()=>a(!1),preset:"white",border:"purple",size:"sm",label:(0,W.__)("Save and Update Answer","academy")})),Zw=ad((({item:t,itemIndex:a,editItemHandler:n,deleteItemHandler:r})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-sortable__item "},(0,e.createElement)("div",{className:"academy-sortable__title"},t.answer_title),(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t,a)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>r(t,a)}]}))))),Qw=Ju((({items:t,correctAnswerHandler:a,arrayHelpers:n})=>{const r=zn(),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(0),{values:c}=ep(),u=(e,t)=>{l(t),s(!0)},d=(e,t)=>{window.confirm((0,W.__)("Are you sure?","academy"))&&(n.remove(t),e?.answer_id&&(Za.post(`${pa}quiz_answers/${parseInt(e?.answer_id)}`,{},{headers:{"X-HTTP-Method-Override":"DELETE"}}),r(sr((0,W.__)("Option deleted successfully!","academy"),!0,"success"))))};return(0,e.createElement)("div",{className:"academy-sortable"},i?(0,e.createElement)(Kw,{closeFormHandler:()=>{return e=t[o],void(Sa?e?.answer_title&&e?.answer_content?s(!1):r(sr((0,W.__)("Answer title and Answer is required!!","academy"),!0,"error")):r(sr((0,W.__)("Required Academy LMS PRO!!","academy"),!0,"error")));var e},value:t[o],index:o}):(0,e.createElement)(e.Fragment,null,t&&t.map(((t,n)=>(0,e.createElement)(Zw,{key:`item-${n}`,correctAnswerHandler:a,editItemHandler:u,deleteItemHandler:d,itemIndex:n,index:n,item:t}))),c.answers.length<1&&(0,e.createElement)(lu,{onClick:()=>{n.push({answer_title:"",is_correct:!1,image_id:0,view_format:"text"}),l(t.length),s(!0)},preset:"white",border:"purple",size:"sm",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),iconPosition:"left",label:(0,W.__)("Add an option","academy"),style:{justifyContent:"center"}})))}));function Xw(){const{setFieldValue:a,values:n}=ep(),{answers:r}=n,i=({oldIndex:e,newIndex:t})=>{a("answers",nd(r,e,t))},s=(e,t)=>{const{is_correct:n}=r[t];r.forEach(((r,i)=>{i===t?!1===n&&a(e,!0):a(`answers.${i}.is_correct`,!1)}))};return r?(0,e.createElement)(t().Fragment,null,(0,e.createElement)(Cp,{name:"answers",render:t=>(0,e.createElement)(Qw,{arrayHelpers:t,items:r,correctAnswerHandler:s,onSortEnd:i})})):null}function Jw({question_type:a,isLoading:n,setLoading:r}){const{values:i,setFieldValue:s}=ep();return(0,e.useEffect)((()=>{i?.question_id&&(r(!0),Ow(i?.question_id,a).then((e=>{e?.data?.length&&s("answers",e?.data),r(!1)})))}),[a]),(0,e.createElement)(t().Fragment,null,n?(0,e.createElement)("div",{className:"academy-form-group__loading-message"},(0,e.createElement)(wd,null)):(0,e.createElement)("div",{className:"academy-form-group--answer"},(0,e.createElement)("h3",{className:"academy-quiz-answer-label"},(e=>{switch(e){case"fillInTheBlanks":return(0,W.__)("Input options for this question with {dash} variable.","academy");case"imageAnswer":return(0,W.__)("Input option for this question with image and text.","academy");case"shortAnswer":return"No input option is required for this answer type.";default:return(0,W.__)("Select or add an option for this question, then select the correct answer.","academy")}})(a)),(0,e.createElement)("div",{className:"academy-quiz-answer-items"},(t=>{switch(t){case"fillInTheBlanks":return(0,e.createElement)(Xw,{fieldType:t});case"imageAnswer":return(0,e.createElement)(Yw,{fieldType:t});case"shortAnswer":return(0,e.createElement)(Vw,{fieldType:t});case"singleChoice":return(0,e.createElement)(zw,{fieldType:t});case"multipleChoice":return(0,e.createElement)(Rw,{fieldType:t});default:return(0,e.createElement)($w,{fieldType:t})}})(a))))}Xw.propTypes={},Xw.defaultProps={},Jw.propTypes={},Jw.defaultProps={};const ex=({field:t,form:{touched:a,errors:n},...r})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-control-switch"},(0,e.createElement)("label",{className:"academy-switch"},(0,e.createElement)("input",{type:"checkbox",className:"form-control",...t,...r,defaultChecked:t.value}),(0,e.createElement)("span",{className:"academy-slider"})),(0,e.createElement)("span",{className:"switch-title"}),n[t.name]&&a[t.name]?(0,e.createElement)("span",{className:"academy-control-switch__error"},n[t.name]):null)),tx=({isLoading:t,setLoading:a,questionResponse:n,quizId:r,setQuestionResponse:i})=>{const{values:s,setFieldValue:o,isSubmitting:l,submitForm:c,resetForm:u}=ep(),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),h=zn(),y=[{answer_title:"True",view_format:"text",question_type:"trueFalse",is_correct:!1},{answer_title:"False",view_format:"text",question_type:"trueFalse",is_correct:!1}],_=()=>{c().then((()=>{f(!0),setTimeout((()=>{u({values:{...Aw,quiz_id:r,answers:y}}),f(!1)}),500)}))};(0,e.useEffect)((()=>{Array.isArray(s.answers)&&!s?.answers.length&&"trueFalse"===s?.question_type&&o("answers",y)}),[s.answers]);const g=Tw.find((e=>e.value===s.question_type));return(0,e.createElement)("div",{className:"academy-question-form-wrap"},p?(0,e.createElement)("div",{className:"academy-question-form--loading"},(0,e.createElement)(wd,null)):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-question-form-wrap__heading"},(0,W.__)("Question List","academy")),(0,e.createElement)("div",{className:"academy-question-form"},(0,e.createElement)("div",{className:"academy-question-form__field"},(0,e.createElement)("div",{className:"entry-left"},(0,e.createElement)("div",{className:"academy-form-group academy-form-group--title academy-form-group-field"},(0,e.createElement)("label",{htmlFor:"questionTitle"},(0,W.__)("Question Title","academy")),(0,e.createElement)(bp,{type:"text",id:"questionTitle",name:"question_title",className:"academy-input",placeholder:"Add question title here"})),d?(0,e.createElement)("div",{className:"academy-form-group academy-form-group-field"},(0,e.createElement)("div",{className:"academy-description-close"},(0,e.createElement)("label",{htmlFor:"questionDesc"},(0,W.__)("Description (Optional)","academy")),(0,e.createElement)(lu,{onClick:()=>m(!1),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),preset:"transparent",size:"sm"})),(0,e.createElement)(bp,{id:"questionDesc",as:"textarea",name:"question_content",placeholder:"Add question description here",className:"academy-input"})):(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),iconPosition:"left",suffix:"description",preset:"transparent",onClick:()=>m(!0),label:(0,W.__)("Add Description","academy"),className:"academy-btn__description"}),(0,e.createElement)("div",{className:"academy-form-group-d-flex"},(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"questionType"},(0,W.__)("Question Type","academy")),(0,e.createElement)(Pd,{suffix:"question-type",value:s?.question_type?g:Tw[0].value,options:Tw,onChangeHandler:e=>{e!==s.question_type?(o("answers",[]),o("question_type",e)):o("question_type",e)}})),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"questionType"},(0,W.__)("Point(s)","academy")),(0,e.createElement)(bp,{type:"number",id:"question_score",name:"question_score",className:"academy-form-control",min:"0",placeholder:(0,W.__)("Ex. 10","academy")}))),(0,e.createElement)(Jw,{question_type:s?.question_type,isLoading:t,setLoading:a})),(0,e.createElement)("div",{className:"entry-right"},(0,e.createElement)("h3",{className:"academy-question-setting__heading"},(0,W.__)("Question settings","academy")),(0,e.createElement)("div",{className:"academy-form-group academy-form-group--switch-control"},(0,e.createElement)("label",null,(0,W.__)("Answer required","academy")),(0,e.createElement)(bp,{name:"question_settings.answer_required",component:ex})),(0,e.createElement)("div",{className:"academy-form-group academy-form-group--switch-control"},(0,e.createElement)("label",null,(0,W.__)("Randomize Answer","academy")),(0,e.createElement)(bp,{name:"question_settings.randomize",component:ex})),(0,e.createElement)("div",{className:"academy-form-group academy-form-group--switch-control"},(0,e.createElement)("label",null,(0,W.__)("Display points","academy")),(0,e.createElement)(bp,{name:"question_settings.display_points",component:ex})))))),(0,e.createElement)("div",{className:"academy-question-form-wrap--footer"},(0,e.createElement)(lu,{size:"sm",type:"button",preset:"cancel",suffix:"cancel",onClick:()=>{i(!1),f(!0),setTimeout((()=>{u({values:{...Aw,quiz_id:r,answers:y}}),f(!1)}),500)},label:n?(0,W.__)("Cancel","academy"):(0,W.__)("Reset","academy")}),(0,e.createElement)(lu,{size:"sm",type:"submit",preset:"secondary",suffix:"question-submit",onClick:()=>{""===s.question_title?h(sr((0,W.__)("Question title missing","academy"),!0,"error")):"multipleChoice"===s.question_type||"singleChoice"===s.question_type||"trueFalse"===s.question_type?s.answers.some((e=>e.is_correct))?_():h(sr((0,W.__)("Please select correct answer","academy"),!0,"error")):_()},isLoading:l,label:n?(0,W.__)("Update Question","academy"):(0,W.__)("Add Question","academy")})))};function ax({quizId:a,initialValues:n,addQuestionHandler:r,setQuestionResponse:i,questionResponse:s}){const o=zn(),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{s&&(d(!0),p(!0),Ow(s?.question_id,s.question_type).then((e=>{c(e?.data),d(!1),p(!1)})))}),[s]),(0,e.createElement)(t().Fragment,null,(0,e.createElement)(fp,{enableReinitialize:!0,initialValues:{...Aw,quiz_id:a,...n,...s,answers:l},onSubmit:(e,t)=>{t.setSubmitting(!0);const{answers:n}=e,i=n?.reduce(((e,t)=>(t.is_correct&&(e=!0),e)),!1);return e.question_title?i||"singleChoice"!==e.question_type&&"multipleChoice"!==e.question_type&&"trueFalse"!==e.question_type?(delete e.answers,void(e?.question_id?o(xw(e)).then((e=>{o(sr((0,W.__)("Question Updated"),!0,"success")),Sw(n,{quiz_id:parseInt(a),question_id:parseInt(e.data?.question_id),question_type:e.data?.question_type}),t.setSubmitting(!1),t.resetForm(),r(e.data)})).catch((e=>{console.log(e)})):o(ww(e)).then((e=>{o(sr((0,W.__)("Question Added"),!0,"success")),Sw(n,{quiz_id:parseInt(a),question_id:parseInt(e.data?.question_id),question_type:e.data?.question_type}),t.setSubmitting(!1),t.resetForm(),r(e.data)})).catch((e=>{console.log(e)})))):(o(sr((0,W.__)("No correct answer!!","academy"),!0,"error")),void t.setSubmitting(!1)):(o(sr((0,W.__)("Question Title Missing!!","academy"),!0,"error")),void t.setSubmitting(!1))}},u?(0,e.createElement)(wd,null):(0,e.createElement)(tx,{questionResponse:s,setQuestionResponse:i,isLoading:m,setLoading:p,quizId:a})))}ax.propTypes={},ax.defaultProps={};const nx=ad((({question:t,itemIndex:a,arrayHelpers:n,openQuestionModalHandler:r,editBtnLoading:i})=>(0,e.createElement)(bw,{key:`item-${a}`,data:t,arrayHelpers:n,index:a,openQuestionModalHandler:r,editBtnLoading:i}))),rx=Ju((t=>(0,e.createElement)("ul",{className:"academy-questions-sortable-list"},t.children)));function ix({quizId:a,data:n}){const[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(""),{setFieldValue:m}=ep(),[p,f]=(0,e.useState)(!1);function h(e){e&&(o(e.id),i({question_title:e.title,question_id:e.id}),Cw(e?.id).then((e=>{c({...e,question_settings:JSON.parse(e?.question_settings)}),o(!1)})))}const y=({oldIndex:e,newIndex:t})=>{let a=[...n];a=nd(a,e,t),m("meta.academy_quiz_questions",a)},_=()=>{f(!p)},g=p||n.length>0,b=!p&&0===n.length;return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(Cp,{name:"meta.academy_quiz_questions",render:t=>(0,e.createElement)("div",{className:"academy-questions"},b&&(0,e.createElement)("div",{className:"academy-question-btn-field"},(0,e.createElement)("div",{className:"academy-questions--icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--question"})),(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Add your questions here","academy")),(0,e.createElement)("p",{className:"academy-sub-title"},(0,W.__)("You haven't added any questions yet.","academy"),(0,e.createElement)("br",null),(0,W.__)("Start by adding one!","academy")),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),iconPosition:"right",label:(0,W.__)("Add Questions","academy"),onClick:_,suffix:"add-question"})),g&&(0,e.createElement)("div",{className:"academy-questions-list-container"},(0,e.createElement)("h3",{className:"academy-questions-list-container__heading"},(0,W.__)("Question List","academy")),(0,e.createElement)("div",{className:"academy-questions-list"},(0,e.createElement)("div",{className:"academy-questions-list__items"},n.length>0?(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Questions","academy"),onSearchHandler:e=>d(e.trim())}):(0,e.createElement)("div",{className:"academy-questions-list__items-list"},(0,e.createElement)("div",{className:"academy-questions-list__items-list__questions--icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--question"})),(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Add your questions here","academy")),(0,e.createElement)("p",{className:"academy-sub-title"},(0,W.__)("You haven't added any questions yet","academy"),(0,e.createElement)("br",null),(0,W.__)("sStart by adding one!","academy")))),(0,e.createElement)(rx,{onSortEnd:y},n.filter((e=>e.title.toLowerCase().includes(u.toLowerCase()))).map(((a,n)=>(0,e.createElement)(nx,{question:a,arrayHelpers:t,index:n,itemIndex:n,key:`item-${n}`,openQuestionModalHandler:h,editBtnLoading:s})))))),g&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ax,{quizId:a,initialValues:r,addQuestionHandler:e=>{if(e){const a=n.findIndex((t=>t.id===parseInt(e?.question_id)));-1!==a?t.replace(a,{id:parseInt(e?.question_id),title:e?.question_title}):t.push({id:parseInt(e?.question_id),title:e?.question_title})}},questionResponse:l,setQuestionResponse:c})))}))}function sx({values:a}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-quiz-form__step"},(0,e.createElement)(ix,{quizId:a.id,data:a.meta.academy_quiz_questions})))}ix.propTypes={},ix.defaultProps={},sx.propTypes={},sx.defaultProps={};const ox=["Quiz Info","Questions","Settings"];function lx({currentStepIndex:a}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("ul",{className:"academy-quiz-form__steps academy-steps-section academy-steps-section--size-small"},ox.map(((t,n)=>(0,e.createElement)("li",{className:`step-item ${a>=n&&"step-item--is-completed"}`,key:n},(0,e.createElement)("div",{className:"academy-step-details"},(0,e.createElement)("span",{className:"academy-step-details__step-index "+(a===n?"academy-step-details__step-index--active":"")},(0,e.createElement)("span",{className:"academy-step-details__step-index__number"},n+1)," ",(0,e.createElement)("span",{className:"academy-icon academy-icon--filled-checkmark"})),(0,e.createElement)("span",{className:"academy-step-details__step-name"},t)))))))}lx.propTypes={},lx.defaultProps={};const cx=({field:t,form:a,...n})=>(0,e.createElement)(Ov,{className:"academy-select",classNamePrefix:"academy-react-select",...n}),ux=({field:t,form:{touched:a,errors:n},...r})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("label",{className:"academy-radio"},(0,e.createElement)("input",{type:"radio",placeholder:r.placeholder,...t,...r,checked:r.value===t.value}),(0,e.createElement)("span",null,(0,e.createElement)("div",{className:"text"},(0,e.createElement)("h3",null,r.label?r.label:r.value),(0,e.createElement)("p",{className:"desc"},r.desc)))),n[t.name]&&a[t.name]?(0,e.createElement)("span",null,n[t.name]):null);function dx({setFieldValue:a,values:n}){const r=An((e=>e.addons)),{dripContentType:i,topics:s,currentItemId:o,isDripContentEnable:l}=(0,e.useContext)(gw),c=ln(r,"content-drip",!0)&&(0,e.createElement)(Ay,{name:"academy_quiz_drip_content",type:i,topics:s,currentItemId:o,isDripContentEnable:l}),u=[{value:"seconds",label:"Seconds"},{value:"minutes",label:"Minutes"},{value:"hours",label:"Hours"},{value:"days",label:"Days"},{value:"weeks",label:"Weeks"}],d=[{label:(0,W.__)("Random"),value:"rand"},{label:(0,W.__)("Ascending"),value:"ASC"},{label:(0,W.__)("Descending"),value:"DESC"}];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-quiz-form__step"},(0,e.createElement)("div",{className:"academy-quiz-settings"},(0,e.createElement)("div",{className:"academy-quiz-settings__switch-field-wrapper"},(0,e.createElement)("label",{htmlFor:"hideQuestionNumber"},(0,e.createElement)("span",{className:"academy-quiz-title"},(0,W.__)("Hide question number","academy")),(0,e.createElement)("span",{className:"academy-quiz-sub-title"},(0,W.__)("Show/hide question number during attempt.","academy"))),(0,e.createElement)(bp,{id:"hideQuestionNumber",name:"meta.academy_quiz_hide_question_number",component:ex})),(0,e.createElement)("div",{className:"academy-quiz-settings__switch-field-wrapper"},(0,e.createElement)("label",{htmlFor:"hideQuizTime"},(0,e.createElement)("span",{className:"academy-quiz-title"},(0,W.__)("Hide quiz time","academy")),(0,e.createElement)("span",{className:"academy-quiz-sub-title"},(0,W.__)("Show/hide quiz time","academy"))),(0,e.createElement)(bp,{id:"hideQuizTime",name:"meta.academy_quiz_hide_quiz_time",component:ex})),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"academy-quiz-settings__quiz-time-fields-group"},(0,e.createElement)("div",null,(0,e.createElement)("label",{htmlFor:"timelimit",className:"academy-quiz-settings__quiz-time-fields-group__label"},(0,e.createElement)("span",null,(0,W.__)("Time Limit","academy")),(0,e.createElement)("span",{className:"academy-quiz-settings__quiz-time-fields-group__desc"},(0,W.__)("Time limit for this quiz. 0 means no time limit.","academy")))),(0,e.createElement)("div",{id:"timelimit",className:"academy-quiz-settings__quiz-time-fields-group__items"},(0,e.createElement)("div",{className:"academy-form-group time-limit academy-form-group-fields"},(0,e.createElement)(bp,{type:"number",id:"academy_quiz_time",name:"meta.academy_quiz_time",className:"academy-form-control",min:"0"})),(0,e.createElement)("div",{className:"academy-form-group academy-form-group-fields"},(0,e.createElement)(Pd,{id:"academy_quiz_time_unit",name:"meta.academy_quiz_time_unit",suffix:"time-limit",component:cx,value:u.find((e=>e.value===n?.meta?.academy_quiz_time_unit)),options:u,onChangeHandler:e=>{a("meta.academy_quiz_time_unit",e)}})))),(0,e.createElement)("div",{className:"academy-quiz-settings__questions_order"},(0,e.createElement)("label",{htmlFor:"academy_quiz_questions_order"},(0,e.createElement)("span",{className:"academy-quiz-title"},(0,W.__)("Questions Order","academy")),(0,e.createElement)("span",{className:"academy-quiz-sub-title"},(0,W.__)("Question order type","academy"))),(0,e.createElement)(Pd,{id:"meta.academy_quiz_questions_order",name:"meta.academy_quiz_questions_order",suffix:"question-order",component:cx,options:d,value:d.find((e=>e.value===n?.meta?.academy_quiz_questions_order)),onChangeHandler:e=>a("meta.academy_quiz_questions_order",e)})),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"academy-quiz-settings__passing-grade"},(0,e.createElement)("label",{htmlFor:"academy_quiz_passing_grade"},(0,e.createElement)("span",{className:"academy-quiz-title"},(0,W.__)("Passing Grade (%)","academy")),(0,e.createElement)("span",{className:"academy-quiz-sub-title"},(0,W.__)("Set the passing percentage for this quiz.","academy"))),(0,e.createElement)("div",null,(0,e.createElement)(bp,{id:"academy_quiz_passing_grade",type:"number",name:"meta.academy_quiz_passing_grade",className:"academy-form-control",min:"0"}),(0,e.createElement)("span",null,(0,W.__)("%","academy")))),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-quiz-settings__quiz-feedback-fields-group"},(0,e.createElement)("div",{className:"info"},(0,e.createElement)("label",{htmlFor:"academy_quiz_feedback_mode"},(0,e.createElement)("span",{className:"academy-quiz-title"},(0,W.__)("Quiz Feedback Mode","academy")),(0,e.createElement)("span",{className:"academy-quiz-sub-title"},(0,W.__)('(Pick the quiz system"s behaviour on choice based questions.)',"academy")))),(0,e.createElement)("div",{className:"academy-switch-fields-wrapper academy-form-group-fields",id:"academy_quiz_feedback_mode"},(0,e.createElement)(bp,{name:"meta.academy_quiz_feedback_mode",component:ux,value:"default",label:(0,W.__)("Default","academy"),desc:"Answers are shown after the quiz is finished"}),(0,e.createElement)(bp,{name:"meta.academy_quiz_feedback_mode",component:ux,value:"retry",label:(0,W.__)("Retry Mode","academy"),desc:"Unlimited attempts on each question."}))),"retry"===n?.meta?.academy_quiz_feedback_mode&&(0,e.createElement)("div",{className:"academy-quiz-settings__attempts_allowed"},(0,e.createElement)("label",{htmlFor:"academy_quiz_max_attempts_allowed"},(0,e.createElement)("span",{className:"academy-quiz-title"},(0,W.__)("Attempts Allowed","academy")),(0,e.createElement)("span",{className:"academy-quiz-sub-title"},(0,W.__)("Restriction on the number of attempts a student is allowed to take for this quiz. 0 for no limit.","academy"))),(0,e.createElement)(bp,{id:"academy_quiz_max_attempts_allowed",type:"number",name:"meta.academy_quiz_max_attempts_allowed",className:"academy-form-control",min:"0"})),c))))}dx.propTypes={},dx.defaultProps={};const mx={data:Zc().any,cancelHandler:Zc().func};function px({data:a,cancelHandler:n}){const r=zn(),i=An((e=>e.addons)),[s,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(!1),{updateTopic:u,topicUpdateHandler:d,itemIndex:m,subCurriculumIndex:p,subTopicUpdateHandler:f,isSubCurriculum:h,closeModal:y,isAddNewItem:_}=(0,e.useContext)(gw);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-quiz-form-wrapper"},(0,e.createElement)("div",{className:"academy-quiz-form"},(0,e.createElement)(_w,{enableReinitialize:!0,initialValues:Iw(a,i),onSubmit:(e,t)=>{e?.meta?.academy_quiz_questions?.length&&(e.status="publish"),(e=>{var t;s&&(e.id=s),e.id?r((t=e,async e=>{try{return await Za.post(pa+"academy_quiz/"+t.id,t).then((t=>(e({type:GE,payload:t.data}),t)))}catch(t){var a;e(sr(null!==(a=t?.response?.data?.message)&&void 0!==a?a:t?.message,!0,"error"))}})).then((e=>{o(e.data.id)})):c(!1)})(e)},validateOnNext:!0,activeStepIndex:0,steps:[{component:cw},{component:sx},{component:dx}]},(({values:t,currentStepIndex:a,renderComponent:i,handlePrev:s,handleNext:g,isNextDisabled:b,isPrevDisabled:v,isLastStep:E})=>(0,e.createElement)(e.Fragment,null,a>0&&(0,e.createElement)(lw,{debounceMs:500}),(0,e.createElement)(lx,{currentStepIndex:a}),(0,e.createElement)("div",{className:"academy-quiz-form__content"},i()),(0,e.createElement)("div",{className:"academy-quiz-form__control"},(0,e.createElement)("div",{className:"academy-quiz-form__control--btn-left"},!v&&(0,e.createElement)(lu,{type:"button",preset:"light-purple",isDisabled:b,borderRadius:"rounded",onClick:s,label:(0,W.__)("Back","academy")})),(0,e.createElement)("div",{className:"academy-quiz-form__control--btn-right"},(0,e.createElement)(lu,{type:"button",suffix:"cancel",border:"purple",borderRadius:"rounded",onClick:()=>n(),label:(0,W.__)("Cancel","academy")}),E?(0,e.createElement)(lu,{isDisabled:b,type:"button",borderRadius:"rounded",isLoading:l,onClick:()=>{c(!0),g().then((()=>{r(sr((0,W.__)("Successfully Saved!","academy"),!0,"success")),h?f({id:t?.id,name:t?.title,type:"quiz"},m,p):d&&d({id:t?.id,name:t?.title,type:"quiz"},m),setTimeout((()=>{c(!1),n(u&&t)}),500)}))},label:(0,W.__)("Finish","academy")}):(0,e.createElement)(lu,{borderRadius:"rounded",type:"button",isLoading:l,onClick:()=>((e,t,a)=>{c(!0),t?.id?0!==a&&t?.meta?.academy_quiz_questions?.length<1?setTimeout((()=>{c(!1),r(sr((0,W.__)("Empty Questions!!","academy"),!0,"error"))}),500):setTimeout((()=>{c(!1),e().then((()=>{r(sr((0,W.__)("Successfully Saved!","academy"),!0,"success"))}))}),500):""===t.title?(r(sr((0,W.__)("Title is required","academy"),!0,"error")),c(!1)):r((e=>async t=>{try{return await Za.post(pa+"academy_quiz",e).then((e=>(t({type:WE,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(t)).then((t=>{o(t.data.id),setTimeout((()=>{c(!1),e().then((()=>{_&&y(),r(sr((0,W.__)("Successfully Saved!","academy"),!0,"success"))}))}),500)}))})(g,t,a),label:(0,W.__)("Save & Continue","academy")})))))))))}px.propTypes=mx,px.defaultProps={data:{},cancelHandler:()=>{}};const fx=({isOpenQuizForm:t,closeQuizFormModal:a,formData:n,dripContentType:r,topics:i,currentItemId:s,isDripContentEnable:o,isLoading:l,topicUpdateHandler:c,updateTopic:u=!1,itemIndex:d,subCurriculumIndex:m,subTopicUpdateHandler:p,isSubCurriculum:f,closeModal:h,isAddNewItem:y})=>(0,e.createElement)(gw.Provider,{value:{dripContentType:r,topics:i,currentItemId:s,isDripContentEnable:o,topicUpdateHandler:c,updateTopic:u,itemIndex:d,subCurriculumIndex:m,subTopicUpdateHandler:p,isSubCurriculum:f,closeModal:h,isAddNewItem:y}},(0,e.createElement)(fd,{title:(0,W.__)("Quiz","academy"),isOpen:t,onRequestClose:a,isSmallAvailable:!1,suffix:"quiz-form",size:"medium"},l?(0,e.createElement)("div",{className:"academy-quiz-loader"},(0,e.createElement)(wd,null)):(0,e.createElement)(px,{cancelHandler:a,data:n}))),hx={viewFromCourseBuilder:Zc().bool,item:Zc().object,itemIndex:Zc().number,updateTopic:Zc().bool,isSubCurriculum:Zc().bool,hasIcon:Zc().bool},yx=({item:t,itemIndex:a,hasIcon:n,viewFromCourseBuilder:r,updateTopic:i,isSubCurriculum:s,subCurriculumIndex:o,closeModal:l,isAddNewItem:c})=>{const{topicUpdateHandler:u,topics:d,subTopicUpdateHandler:m}=(0,e.useContext)(fh),{dripContentType:p,isDripContentEnable:f}=(0,e.useContext)(ph),[h,y]=(0,e.useState)(!1),[_,g]=(0,e.useState)(!1),[b,v]=(0,e.useState)(!1),E=s&&d[a].topics;function w(){t?.id?(v(!0),g(!0),Za.get(pa+"academy_quiz/"+t.id,{params:{context:"edit"}}).then((e=>{y(e.data),i||v(!1)}))):g(!0)}return(0,e.createElement)(e.Fragment,null,t?.id||r?(0,e.createElement)(lu,{onClick:w,preset:"transparent",size:"xs",suffix:"edit",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),iconPosition:"center"}):(0,e.createElement)(e.Fragment,null,n?(0,e.createElement)(lu,{onClick:()=>w(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--quiz-fill"}),label:(0,W.__)("Add Quiz","academy")}):(0,e.createElement)(lu,{onClick:()=>w(),label:(0,W.__)("Create New Quiz","academy")})),_&&(0,e.createElement)(fx,{isOpenQuizForm:_,closeQuizFormModal:function(e=null){s&&e?m({id:e?.id,name:e?.title,type:"quiz"},a,o):u&&e&&u({id:e?.id,name:e?.title,type:"quiz"},a),y(!1),g(!1)},formData:h,dripContentType:p,isDripContentEnable:f,topics:s?E:d,currentItemId:t.id,isLoading:b,updateTopic:i,topicUpdateHandler:u,isSubCurriculum:s,subCurriculumIndex:o,subTopicUpdateHandler:m,itemIndex:a,closeModal:l,isAddNewItem:c}))};yx.propTypes=hx,yx.defaultProps={viewFromCourseBuilder:!0,item:{},updateTopic:!1,isSubCurriculum:!1,hasIcon:!1};const gx=yx,bx="create_new_meeting",vx="update_meeting",Ex="delete_meeting",wx="fetch_all_meeting",xx=e=>async t=>{try{nn({action:"academy_pro_meeting/delete_meeting",...e}).then((a=>{a.data?.data?.post_id?(t({type:Ex,payload:{id:e?.post_id}}),t(sr((0,W.__)("Meeting Deleted!","academy"),!0,"success"))):t(sr(data?.data,"error"))}))}catch(e){dn(e)}},Nx=(e="",t=1,a=10,n="")=>async r=>{let i={status:""!==e?e:"draft,publish,pending,future",page:t,per_page:a,author:ka,context:"edit"};return n&&(i={...i,search:n}),await Za.get(pa+"academy_meeting",{params:i}).then((e=>(r({type:wx,payload:{data:e.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e)),(e=>{dn(e)}))},kx=(e=null,t="")=>{let a="zoom"===t?{meetingTitle:"",meetingSummary:"",meetingDate:"",meetingTime:"",meetingDuration:30,meetingTimeUnit:"minute",meetingTimeZone:iu().tz.guess(),meetingAutoRecording:"none",meetingPassword:"",meetingEmail:""}:{title:"",content:"",start_date:"",timezone:"",end_date:""};if(e&&"zoom"===t){const{academy_meeting_request:t}=e.meta,n=JSON.parse(t),[r,i]=n?n?.start_time.split("T"):[];a={post_id:e.id,meetingTitle:e?.title?.raw,meetingSummary:e?.content?.raw,meetingDate:r,meetingTime:i&&i.length>5?i.slice(0,5):i,meetingDuration:n?.duration,meetingTimeUnit:"minute",meetingTimeZone:n?.timezone,meetingAutoRecording:"none",meetingPassword:n?.password}}else if(e&&"google_meet"===t){var n;const{academy_meeting_request:t}=e.meta,r=JSON.parse(t),i=iu()(r?.meetingDate).format().split("+"),s=iu()(r?.meetingDuration).format().split("+");a={post_id:e.id,title:e.title.raw,content:e.content.raw,start_date:i[0],timezone:null!==(n=r.meetingTimezone)&&void 0!==n?n:"",end_date:s[0]}}return a},Sx=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(""),o=(0,e.useRef)(null);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{preset:"transparent",border:"purple",label:(0,W.__)("Setup API","academy"),onClick:()=>a(!0)}),(0,e.createElement)(fd,{isOpen:t,onRequestClose:()=>a(!1),contentLabel:(0,W.__)("Google Meet Setup","academy"),title:(0,W.__)("Google Meet Setup","academy"),suffix:"google-setup-modal"},(0,e.createElement)("div",{className:"academy-google-setup-modal"},n?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,W.__)("Click on redirect to continue Google meet setup!","academy")),(0,e.createElement)(lu,{type:"link",link:n,label:(0,W.__)("Redirect","academy")})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-google-setup-modal__details"},(0,e.createElement)("div",{className:"academy-google-setup-modal__details__image"},(0,e.createElement)("img",{src:fa+"assets/images/upload.svg",alt:""})),i?(0,e.createElement)("h3",{className:"academy-google-setup-modal__details__file-name"},i):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{className:"academy-google-setup-modal__details__title"},(0,W.__)("Drag & drop your file here or","academy")),(0,e.createElement)("span",{className:"academy-google-setup-modal__details__sub-title"},(0,W.__)("Support: JSON","academy")))),(0,e.createElement)("input",{type:"file",className:"academy-import__file",onChange:e=>{return t=e.target.files[0],s(t.name),void nn({action:"academy_pro_meeting/fetch_meet_credential",upload_file:t},!0).then((e=>{!0===e.data.success&&nn({action:"academy_pro_meeting/save_meeting_credentials"}).then((e=>{r(e.data.data)}))}));var t},ref:o}),(0,e.createElement)(lu,{label:i?"Change File":"Browse File",onClick:()=>{o.current.click()},border:"gray",preset:"transparent"})))))},Cx={title:Zc().string,subtitle:Zc().string,tooltip:Zc().string,desc:Zc().string,name:Zc().string,placeholder:Zc().string,value:Zc().string,prefix:Zc().string,readOnly:Zc().bool};function Ox({name:t,title:a,subtitle:n,tooltip:r,desc:i,placeholder:s,prefix:o,readOnly:l}){const{setFieldValue:c}=ep(),u=AE().uniqueId(t+"_");return(0,e.createElement)("div",{className:`academy-column-items form-group ${o&&"form-group--"+o}`},(0,e.createElement)("div",{className:"academy-label-tooltip"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("label",{className:"academy-title",htmlFor:u},a),n&&(0,e.createElement)("span",{className:"academy-sub-title"},n)),r&&(0,e.createElement)("div",{className:"academy-tooltip-container"},(0,e.createElement)("span",{className:"academy-icon academy-icon--info-circle"}),(0,e.createElement)("span",{className:"academy-tooltip-text"},r))),r&&(0,e.createElement)("span",{className:"academy-tooltip"},r),(0,e.createElement)("div",{className:"academy-input-desc"},(0,e.createElement)(bp,{id:u,className:"academy-input",type:"text",name:t,placeholder:s,onChange:e=>c(t,e.target.value),readOnly:l}),i&&(0,e.createElement)("span",{className:"desc"},i)))}Ox.propTypes=Cx,Ox.defaultProps={readOnly:!1};const Ix=({data:t,setData:a})=>{const[n,r]=(0,e.useState)(!1),i=zn();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{preset:"transparent",border:"purple",label:(0,W.__)("Setup API","academy"),onClick:()=>r(!0)}),(0,e.createElement)(fd,{isOpen:n,onRequestClose:()=>r(!1),contentLabel:(0,W.__)("Zoom Setup","academy"),title:(0,W.__)("Zoom Setup","academy"),suffix:"meeting-setup-modal",size:"small"},(0,e.createElement)("div",{className:"academy-meeting-setup-form"},(0,e.createElement)("div",{className:"academy-meeting-setup-form__inner"},(0,e.createElement)("div",{className:"academy-meeting-setup-form__inner--header"},(0,e.createElement)("div",{className:"academy-meeting-setup-form__inner--header__inner"},(0,e.createElement)("div",null,(0,e.createElement)("h3",null,(0,W.__)("Configure the Meeting Integration","academy")),(0,e.createElement)("p",null,(0,W.__)("To connect Meeting with your e-learning website, go to your Meeting account and retrieve the Api key. visit the","academy")," ",(0,e.createElement)("a",{href:"https://marketplace.zoom.us/develop/create",target:"_blank",rel:"noreferrer"},(0,W.__)("Meeting Website","academy")),".")),(0,e.createElement)("img",{className:"academy-zoom-setup-icon",src:fa+"/assets/images/zoomSetup.svg",alt:(0,W.__)("zoom setup","academy")})),(0,e.createElement)("p",{className:"academy-api-update-notice"},(0,e.createElement)("strong",null,(0,W.__)("Important notice:","academy"))," ",(0,e.createElement)("a",{href:"https://developers.zoom.us/docs/internal-apps/jwt-faq/",target:"_blank",rel:"noreferrer"},(0,W.__)("Meeting JWT app type will no longer be supported!","academy"))," ",(0,W.__)("To continue using the Meeting API, you need to switch to the new server-to-server OAuth app and update your API configuration by September 1, 2023.","academy"),(0,e.createElement)("a",{href:"https://academylms.net/docs/how-to-use-zoom-integration-in-academy-lms/",target:"_blank",rel:"noreferrer"},(0,W.__)("Learn how to make the migrate from JWT to Server-to-Server OAuth app type.","academy")))),(0,e.createElement)(fp,{initialValues:t.zoom,onSubmit:(e,n)=>{n.setSubmitting(!0),nn({action:"academy_pro_meeting/save_zoom_meeting_credentials",...e}).then((e=>{n.setSubmitting(!1),e.data.success?(i(sr((0,W.__)("Setup Complete!","academy"),!0,"success")),a({...t,zoom:{account_id:e.data?.data?.account_id,client_id:e.data?.data?.client_id,client_secret:e.data?.data?.client_secret,host_email:e.data?.data?.host_email,status:e.data?.data?.status}}),setTimeout((()=>{r(!1)}),500)):(n.setSubmitting(!1),i(sr(e?.data?.data,"error")))}))}},(t=>(0,e.createElement)("form",{onSubmit:t.handleSubmit,className:"academy-meeting-setup-form"},(0,e.createElement)(Ox,{name:"account_id",title:(0,W.__)("Account ID","academy"),placeholder:(0,W.__)("Enter zoom account id","academy")}),(0,e.createElement)(Ox,{name:"client_id",title:(0,W.__)("Client ID","academy"),placeholder:(0,W.__)("Enter zoom client id","academy")}),(0,e.createElement)(Ox,{name:"client_secret",title:(0,W.__)("Client Secret","academy"),placeholder:(0,W.__)("Enter zoom client secret","academy")}),(0,e.createElement)("div",{className:"academy-meeting-setup-form__footer"},(0,e.createElement)(lu,{onClick:()=>r(!1),type:"cancel",label:"Cancel",preset:"transparent",border:"gray"}),(0,e.createElement)(lu,{isLoading:t.isSubmitting,type:"submit",label:"Save & Check Connection"})))))))))},Ax={debounceMs:Zc().number};function Tx({debounceMs:a}){const n=ep(),r=t().useCallback(Qd((()=>n.submitForm()),a),[a,n.submitForm]);return(0,e.useEffect)((()=>{n.dirty&&r()}),[r,n.dirty,n.values]),(0,e.createElement)(e.Fragment,null)}Tx.propTypes=Ax,Tx.defaultProps={debounceMs:1e3};const Px=[{label:"No Recordings",value:!1},{label:"Local Drive",value:"local"},{label:"Meeting Cloud",value:"cloud"}],Mx=({isOpen:t,onRequestClose:a})=>{const[n,r]=(0,e.useState)({}),i=zn();return(0,e.useEffect)((()=>{nn({action:"academy_pro_meeting/get_zoom_settings"}).then((e=>{e.data.success&&r(e.data?.data)}))}),[]),(0,e.createElement)(fd,{isOpen:t,onRequestClose:a,contentLabel:(0,W.__)("Meeting Settings","academy"),title:(0,W.__)("Meeting Settings","academy"),suffix:"meeting-settings",size:"small"},(0,e.createElement)(fp,{enableReinitialize:!0,initialValues:{join_before_host:!1,host_video:!1,participants_video:!1,mute_participants:!1,enforce_login:!1,recording_settings:!1,...n},onSubmit:e=>{nn({action:"academy_pro_meeting/save_zoom_settings",...e}).then((e=>{e.data.success&&i(sr((0,W.__)("Settings Saved","academy"),!0,"success"))}))}},(0,e.createElement)(vp,null,(0,e.createElement)(Tx,{debounceMs:1}),(0,e.createElement)(PE,{suffix:"radio-check",name:"join_before_host",title:(0,W.__)("Join Before Host","Academy"),subtitle:(0,W.__)("Join before the host starts the meeting. Only for scheduled or recurring meetings.","Academy")}),(0,e.createElement)(PE,{suffix:"radio-check",name:"host_video",title:(0,W.__)("Host Video","Academy"),subtitle:(0,W.__)("Host will join the meeting with video enabled.","Academy")}),(0,e.createElement)(PE,{suffix:"radio-check",name:"participants_video",title:(0,W.__)("Participants Video","Academy"),subtitle:(0,W.__)("Participants will join the meeting with video enabled.","Academy")}),(0,e.createElement)(PE,{suffix:"radio-check",name:"mute_participants",title:(0,W.__)("Mute Participants","Academy"),subtitle:(0,W.__)("Participants will join the meeting with audio muted.","Academy")}),(0,e.createElement)(PE,{suffix:"radio-check",name:"enforce_login",title:(0,W.__)("Enforce Login","Academy"),subtitle:(0,W.__)("Only users logged into Meeting App can join the meeting.","Academy")}),(0,e.createElement)("div",{className:"academy-recording-settings"},(0,e.createElement)("p",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Recording Settings","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select where you want to record.","academy"))),(0,e.createElement)("div",{className:"academy-field__options"},(0,e.createElement)("div",{className:"academy-radio-options"},Px.map(((t,a)=>(0,e.createElement)("div",{className:"academy-meeting-recordings",key:a},(0,e.createElement)(bp,{type:"radio",id:t.value,name:"recording_settings",value:t.value}),(0,e.createElement)("label",{htmlFor:t.value,className:"academy-radio-item-label"},t.label))))))))))},Dx=({title:t,modalOpenHandler:a,data:n,setData:r})=>{const[i,s]=(0,e.useState)(!1),o=[{label:(0,W.__)("Zoom","academy"),subTitle:(0,W.__)("Setup Zoom For Video Conferencing.","academy"),value:"zoom",icon:"video",image:"assets/images/zoom.svg",content:(0,e.createElement)(Ix,{data:n,setData:r}),isActive:n?.zoom?.status},{label:(0,W.__)("Google Meet","academy"),subTitle:(0,W.__)("Setup Google Meet For Video Conferencing.","academy"),value:"google_meet",icon:"video",image:"assets/images/google-meet.svg",content:(0,e.createElement)(Sx,null),isActive:n?.google_meet?.access_token&&!0}];return(0,e.createElement)("div",{className:"academy-meeting-content"},(0,e.createElement)("h4",{className:"academy-meeting-content__title"},t),o.map(((t,n)=>{const r="zoom"===t.value?[{type:"button",label:(0,W.__)("Settings","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--build"}),onClick:()=>s(!i)}]:[];return(0,e.createElement)("div",{className:"academy-meeting-content__option",key:n},(0,e.createElement)("div",{className:"academy-meeting-option-title"},(0,e.createElement)("img",{src:`${fa}${t.image}`,alt:t.label}),(0,e.createElement)("p",{className:"academy-meeting-option-title__label"},(0,e.createElement)("span",{className:"academy-meeting-option-title__label--title"},t.label),(0,e.createElement)("span",{className:"academy-meeting-option-title__label--subTitle"},t.subTitle))),(0,e.createElement)("div",{className:"academy-meeting-option-title"},"active"===t.isActive||!0===t.isActive?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{preset:"transparent",border:"purple",label:(0,W.__)("Create Meeting","academy"),onClick:()=>{a(t.value)}}),"zoom"===t.value&&(0,e.createElement)(ld,{icon:"three-dots-menu",options:[...r]})):(0,e.createElement)(e.Fragment,null,t.content)),(0,e.createElement)(Mx,{isOpen:i,onRequestClose:()=>s(!i)}))})))},Fx=()=>{const{values:t,setFieldValue:a}=ep();return(0,e.createElement)("div",{className:"academy-meeting-form"},(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Meeting Title","academy")),(0,e.createElement)(cE,{name:"title",label:(0,W.__)("Add your meeting title","academy"),saveValueHandler:a,defaultValue:t.title}),""===t.title?(0,e.createElement)("div",{className:"field-error"},(0,W.__)("Required","academy")):null),(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Meeting Summary","academy")),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)(bp,{component:"textarea",cols:"55",name:"content",className:"academy-form-control",placeholder:(0,W.__)("Add your meeting summary","academy")}))),(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Time Zone","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select your preferred time zone","academy"))),(0,e.createElement)(Pd,{name:"timezone",suffix:"meeting-time",options:un,value:un.find((e=>e.value===t.timezone)),onChangeHandler:e=>a("timezone",e)})),(0,e.createElement)("div",{className:"academy-flex academy-meeting-form__item--meeting-time"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Meeting Start Time","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Set meeting start time ","academy"))),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)(bp,{name:"start_date",type:"datetime-local",id:"meetingDate",min:new Date,className:"academy-form-control"})),""===t.start_date?(0,e.createElement)("div",{className:"field-error"},(0,W.__)("Required","academy")):null),(0,e.createElement)("div",{className:"academy-flex academy-meeting-form__item--meeting-time"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Meeting End Time","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Set meeting end time ","academy"))),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)(bp,{name:"end_date",type:"datetime-local",id:"meetingDate",min:new Date,className:"academy-form-control"})),""===t.end_date?(0,e.createElement)("div",{className:"field-error"},(0,W.__)("Required","academy")):null))},Rx=[{value:"minute",label:"Minute"},{value:"hour",label:"Hour"}],Lx=[{value:"none",label:"No Recordings"},{value:"local",label:"Local"},{value:"cloud",label:"Cloud"}],qx=()=>{const{values:t,setFieldValue:a}=ep();return(0,e.createElement)("div",{className:"academy-meeting-form"},(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Meeting Title","academy")),(0,e.createElement)(cE,{name:"meetingTitle",label:(0,W.__)("Add meeting title here","academy"),saveValueHandler:a,defaultValue:t.meetingTitle})),""===t.meetingTitle?(0,e.createElement)("div",{className:"field-error"},(0,W.__)("Required","academy")):null,(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Meeting Description","academy")),(0,e.createElement)(bp,{component:"textarea",cols:"55",name:"meetingSummary",className:"academy-input",placeholder:(0,W.__)("Add your meeting description here","academy")})),(0,e.createElement)("div",{className:"academy-flex academy-meeting-form__item--meeting-time"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Meeting Time","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Setup your meeting time","academy"))),(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)(bp,{name:"meetingDate",type:"date",id:"meetingDate",min:(new Date).toISOString().split("T")[0],className:"academy-flex--meeting-date"}),(0,e.createElement)(bp,{className:"academy-flex--meeting-time",name:"meetingTime",type:"time",id:"meetingTime"}))),""===t.meetingDate||""===t.meetingTime?(0,e.createElement)("div",{className:"field-error"},(0,W.__)("Required","academy")):null,(0,e.createElement)("div",{className:"academy-flex academy-meeting-form__item--meeting-duration"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Meeting Duration","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Setup your meeting duration time","academy"))),(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)(bp,{type:"number",name:"meetingDuration",className:"academy-flex--meeting-duration",min:"0"}),(0,e.createElement)(Pd,{name:"meetingTimeUnit",suffix:"meeting-duration",options:Rx,value:Rx.find((e=>e.value===t.meetingTimeUnit)),onChangeHandler:e=>a("meetingTimeUnit",e)}))),(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Time Zone","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Set your preferred time zone","academy"))),(0,e.createElement)(Pd,{name:"meetingTimeZone",className:"academy-select",suffix:"meeting-time-zone",options:un,value:un.find((e=>e.value===t.meetingTimeZone)),onChangeHandler:e=>a("meetingTimeZone",e)})),(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Auto Recording","academy")),(0,e.createElement)(Pd,{name:"meetingAutoRecording",className:"academy-select",classNamePrefix:"academy-react-select",options:Lx,value:Lx.find((e=>e.value===t.meetingAutoRecording)),onChangeHandler:e=>a("meetingAutoRecording",e)})),(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Password","academy")),(0,e.createElement)(bp,{name:"meetingPassword",className:"academy-input"})),""===t.meetingPassword?(0,e.createElement)("div",{className:"field-error"},(0,W.__)("Required","academy")):null,(0,e.createElement)("div",{className:""},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Meeting Host","academy")),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)(bp,{name:"host_email",className:"academy-form-control",readOnly:!0}))))},jx=({type:t})=>(0,e.createElement)(e.Fragment,null,"google_meet"===t?(0,e.createElement)(Fx,null):(0,e.createElement)(qx,null)),zx={updateTopic:Zc().bool,isModalLoading:Zc().bool,itemIndex:Zc().number,formData:Zc().any,onRequestClose:Zc().func,topicUpdateHandler:Zc().func,modalOpenHandler:Zc().func,hostEmail:Zc().string},Bx=t=>{const{openMeetingModal:a,formData:n,onRequestClose:r,isModalLoading:i,hostEmail:s,topicUpdateHandler:o,itemIndex:l,isSubCurriculum:c,subCurriculumIndex:u,subTopicUpdateHandler:d,config:m,setConfig:p,meetingType:f,setMeetingType:h,modalOpenHandler:y}=t,_=zn(),[g,b]=(0,e.useState)(m),v="zoom"===n?.meta?.academy_meeting_type?{host_email:s}:{};return(0,e.useEffect)((()=>{p&&p(g)}),[g]),(0,e.createElement)("div",null,(0,e.createElement)(zf,{title:(0,W.__)("Meeting","academy"),isOpen:a,onRequestClose:()=>{r(),h("")},submitButtonLabel:n?(0,W.__)("Update Meeting","academy"):(0,W.__)("Add Meeting","academy"),suffix:"meeting-form",size:"medium",formik:{enableReinitialize:!0,initialValues:{...kx(n,f),...v},onSubmit:(e,t)=>{if(t.setSubmitting(!0),""===e.meetingTitle||""===e.title)on("Title missing","error"),t.setSubmitting(!1);else if(""===e.meetingDate||""===e.meetingTime||""===e.start_date||""===e.end_date)on("Date and Time is required","error"),t.setSubmitting(!1);else if(""===e.meetingPassword)on("Password is required","error"),t.setSubmitting(!1);else if("zoom"===f)if(n){const a=JSON.parse(n.meta.academy_meeting_response),{id:i}=a;e.meeting_id=i,_((e=>async t=>await nn({action:"academy_pro_meeting/update_zoom_meeting",...e}).then((e=>{if(e?.data?.data?.post_id)return Za.get(`${pa}academy_meeting/${parseInt(e?.data?.data?.post_id)}`,{params:{context:"edit"}}).then((e=>(t({type:vx,payload:e.data}),t(sr((0,W.__)("Meeting Updated!","academy"),!0,"success")),e)));t(sr(e?.data?.data,"error"))}),(e=>{dn(e)})))(e)).then((()=>{t.setSubmitting(!1),r(),h(""),t.resetForm()}))}else _((a=e,async e=>await nn({action:"academy_pro_meeting/create_zoom_meeting",...a}).then((t=>{if(t?.data?.data?.post_id)return Za.get(`${pa}academy_meeting/${parseInt(t?.data?.data?.post_id)}`,{params:{context:"edit"}}).then((t=>(e({type:bx,payload:t.data}),e(sr((0,W.__)("New Meeting Created!","academy"),!0,"success")),t)));e(sr(t?.data?.data,"error"))}),(()=>{})))).then((e=>{c?d({id:e.data?.id,name:e.data?.title?.raw,type:"meeting"},l,u):o({id:e.data?.id,name:e.data?.title?.raw,type:"meeting"},l),t.setSubmitting(!1),r(),h(""),t.resetForm()}));else if("google_meet"===f)if(n){const a=JSON.parse(n.meta.academy_meeting_response),{meetingId:i}=a;e.meeting_id=i,_((e=>async t=>await nn({action:"academy_pro_meeting/update_google_meet_meeting",...e}).then((e=>{if(e?.data?.data?.post_id)return Za.get(`${pa}academy_meeting/${parseInt(e?.data?.data?.post_id)}`,{params:{context:"edit"}}).then((e=>(t({type:vx,payload:e.data}),t(sr((0,W.__)("Meeting Updated!","academy"),!0,"success")),e)));t(sr(data?.data,"error"))}),(e=>{dn(e)})))(e)).then((()=>{t.setSubmitting(!1),r(),h(""),t.resetForm()}))}else _((e=>async t=>await nn({action:"academy_pro_meeting/create_google_meet_meeting",...e}).then((e=>{if(e?.data?.data?.post_id)return Za.get(`${pa}academy_meeting/${parseInt(e?.data?.data?.post_id)}`,{params:{context:"edit"}}).then((e=>(t({type:bx,payload:e.data}),t(sr((0,W.__)("New Meeting Created!","academy"),!0,"success")),e)));t(sr(e?.data?.data,"error"))}),(()=>{})))(e)).then((e=>{c?d({id:e.data?.id,name:e.data?.title?.raw,type:"meeting"},l,u):o({id:e.data?.id,name:e.data?.title?.raw,type:"meeting"},l),t.setSubmitting(!1),r(),h(""),t.resetForm()}));var a}},isEnabledFooter:!!f},i?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)(e.Fragment,null,f?(0,e.createElement)(jx,{type:f}):(0,e.createElement)(Dx,{title:(0,W.__)("New Meeting","academy"),data:m,setData:b,modalOpenHandler:y}))))};Bx.propTypes=zx,Bx.defaultProps={updateTopic:!1,isModalLoading:!1,onRequestClose:()=>{},topicUpdateHandler:()=>{},modalOpenHandler:()=>{},hostEmail:""};const Hx=Bx,$x={updateTopic:Zc().bool,viewFromCourseBuilder:Zc().bool,itemIndex:Zc().number,item:Zc().object,hasIcon:Zc().bool},Vx=({viewFromCourseBuilder:t,item:a,hasIcon:n,itemIndex:r,updateTopic:i,isSubCurriculum:s,subCurriculumIndex:o,closeModal:l,isAddNewItem:c})=>{const[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1),{topicUpdateHandler:y,subTopicUpdateHandler:_}=(0,e.useContext)(fh),[g,b]=(0,e.useState)(""),[v,E]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),[N,k]=(0,e.useState)({google_meet:!1,zoom:{account_id:"",client_id:"",client_secret:""}});(0,e.useEffect)((()=>{u&&nn({action:"academy_pro_meeting/get_meeting_credentials"}).then((({data:e})=>{e?.data&&b(e?.data?.host_email),e.data.google_meet&&e.data.zoom?k(e.data):e.data.zoom&&!e.data.google_meet?k({...N,zoom:e?.data.zoom}):e.data.google_meet&&!e.data.zoom&&k({...N,google_meet:e?.data.google_meet})}))}),[u]);const S=()=>{a?.id?(h(!0),d(!0),Za.get(`${pa}academy_meeting/${parseInt(a.id)}`,{params:{context:"edit"}}).then((e=>{p(e.data);const t=JSON.parse(e.data.meta.academy_meeting_response);E(t.host_email),x(e.data.meta.academy_meeting_type),setTimeout((()=>{h(!1)}),1e3)}))):d(!0)};return(0,e.createElement)("div",null,a?.id||t?(0,e.createElement)(lu,{onClick:S,preset:"transparent",size:"xs",suffix:"edit",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),iconPosition:"center"}):(0,e.createElement)(e.Fragment,null,n?(0,e.createElement)(lu,{onClick:()=>S(),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--meeting"}),label:(0,W.__)("Add Meeting","academy")}):(0,e.createElement)(lu,{onClick:()=>S(),label:(0,W.__)("Create New Meeting","academy")})),u&&(0,e.createElement)(Hx,{openMeetingModal:u,onRequestClose:(e=null)=>{s&&e?_({id:e.id,name:e.title.rendered,type:"meeting"},r,o):y&&e&&y({id:e.id,name:e.title.rendered,type:"meeting"},r),d(!1)},formData:m,isModalLoading:f,updateTopic:i,topicUpdateHandler:y,itemIndex:r,hostEmail:v||g,isSubCurriculum:s,subCurriculumIndex:o,subTopicUpdateHandler:_,closeModal:l,isAddNewItem:c,config:N,meetingType:w,setMeetingType:x,isSetupModalOpen:!1,modalOpenHandler:(e="",t=null)=>{t&&p(t),d(!0),x(e)}}))};Vx.propTypes=$x,Vx.defaultProps={updateTopic:!1,viewFromCourseBuilder:!1,hasIcon:!1};const Ux=Vx,Wx={item:Zc().object,itemIndex:Zc().number};function Gx({item:a,itemIndex:n,subCurriculumIndex:r,isSubCurriculum:i}){return(0,e.createElement)(t().Fragment,null,(t=>{switch(t){case"booking":return(0,e.createElement)(jv,{item:a,itemIndex:n,subCurriculumIndex:r,isSubCurriculum:i});case"assignment":return(0,e.createElement)(yE,{item:a,itemIndex:n,subCurriculumIndex:r,isSubCurriculum:i});case"meeting":return(0,e.createElement)(Ux,{item:a,itemIndex:n,subCurriculumIndex:r,isSubCurriculum:!0});case"quiz":return(0,e.createElement)(gx,{item:a,itemIndex:n,subCurriculumIndex:r,isSubCurriculum:i});case"lesson":return(0,e.createElement)(UE,{item:a,itemIndex:n,subCurriculumIndex:r,isSubCurriculum:i})}})(a.type))}Gx.propTypes=Wx,Gx.defaultProps={item:{}};const Yx=t=>{const{item:a,isChecked:n}=t,{deleteLessonHandler:r,existingTopicInsertHandler:i,existingSubTopicInsertHandler:s}=(0,e.useContext)(fh),{curriculum:o,openIndex:l}=(0,e.useContext)(ph),c=o[l].topics.find((e=>(parseInt(e?.id)===parseInt(a?.id)||parseInt(e?.id)===parseInt(a?.ID))&&"sub-curriculum"!==e.type));return(0,e.createElement)("div",{className:"academy-item"},(0,e.createElement)(eu.CheckboxControl,{label:cn(a?.title?.rendered,80,"..."),checked:n,onChange:()=>{n?t.isSubCurriculum?t.subItemRemoveHandler(a):c&&r(a):t.isSubCurriculum?s({id:t.subCurriculumIndex,topics:[{id:a?.id,name:a?.title?.rendered,type:"meeting"}],type:"sub-curriculum"}):i({id:a?.id,name:a?.title?.rendered,type:"meeting"})}}),(0,e.createElement)(Ux,{item:a,viewFromCourseBuilder:!0}))},Kx=t=>{const a=An((e=>e.meetings)),{curriculum:n}=(0,e.useContext)(ph),r=zn(),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!0),c=o&&a.data,u=n?.reduce(((e,t)=>(t.topics.forEach((t=>{"sub-curriculum"===t.type?e.unshift(...t.topics):e.unshift(t)})),e)),[]),d=u.filter((e=>"meeting"===e.type));return(0,e.useEffect)((()=>{r(Nx("",1,10))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-topics-search"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Meeting"),onSearchHandler:(e="")=>{l(""===e),s(!0),r(Nx("",1,10,e)).then((()=>{s(!1)}))}}),(0,e.createElement)(Ux,{viewFromCourseBuilder:!1})),i||!a.data?(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(wd,{size:"md"})):(0,e.createElement)("div",{className:"academy-items"},a.data.length>0?(0,e.createElement)(e.Fragment,null,a.data.map(((a,n)=>(0,e.createElement)(Yx,{key:n,itemIndex:n,item:a,isChecked:d.some((e=>parseInt(e.id)===parseInt(a.id))),toggleLessonHandler:t.toggleLessonHandler,isSubCurriculum:t.isSubCurriculum,subCurriculumIndex:t.subCurriculumIndex,subItemRemoveHandler:t.subItemRemoveHandler})))):(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(vd,{title:(0,W.__)("No meeting Found!","academy")}))),c&&(0,e.createElement)(Fd,{fetchHandler:e=>{s(!0),r(Nx("",e,10)).then((()=>{s(!1)}))},totalItems:a.totalItems}))},Zx=t=>{const{item:a,isChecked:n}=t,{deleteLessonHandler:r,existingTopicInsertHandler:i,existingSubTopicInsertHandler:s}=(0,e.useContext)(fh),{curriculum:o,openIndex:l}=(0,e.useContext)(ph),c=o[l].topics.find((e=>(parseInt(e?.id)===parseInt(a?.id)||parseInt(e?.id)===parseInt(a?.ID))&&"sub-curriculum"!==e.type));return(0,e.createElement)("div",{className:"academy-item"},(0,e.createElement)(eu.CheckboxControl,{label:cn(a.lesson_title,80,"..."),checked:n,onChange:()=>{n?t.isSubCurriculum?t.subItemRemoveHandler(a):c&&r(a):t.isSubCurriculum?s({id:t.subCurriculumIndex,topics:[{id:a.ID,name:a.lesson_title,type:"lesson"}],type:"sub-curriculum"}):i({id:a.ID,name:a.lesson_title,type:"lesson"})}}),(0,e.createElement)(UE,{item:a,viewFromCourseBuilder:!0,isModalLoading:!1}))},Qx=({isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})=>{const r=An((e=>e.lessons)),i=zn(),{curriculum:s}=(0,e.useContext)(ph),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!0),d=c&&r.data,m=s?.reduce(((e,t)=>(t.topics.forEach((t=>{"sub-curriculum"===t.type?e.unshift(...t.topics):e.unshift(t)})),e)),[]),p=m.filter((e=>"lesson"===e.type));return(0,e.useEffect)((()=>{i(SE("publish",1,10,{}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-topics-search"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Lesson"),onSearchHandler:e=>{u(""===e),l(!0),i(SE("publish",1,10,e)).then((()=>{l(!1)}))}}),(0,e.createElement)(UE,{viewFromCourseBuilder:!1})),o||!r.data?(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(wd,null)):(0,e.createElement)("div",{className:"academy-items"},r.data?.length>0?(0,e.createElement)(e.Fragment,null,r.data?.map(((r,i)=>(0,e.createElement)(Zx,{key:i,item:r,isChecked:p.some((e=>parseInt(e.id)===parseInt(r.ID))),isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})))):(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(vd,{title:(0,W.__)("No Lessons found","academy")}))),d&&(0,e.createElement)(Fd,{fetchHandler:e=>{l(!0),i(SE("publish",e,10)).then((()=>{l(!1)}))},totalItems:r.totalItems}))},Xx=t=>{const{item:a,isChecked:n}=t,{deleteLessonHandler:r,existingTopicInsertHandler:i,existingSubTopicInsertHandler:s}=(0,e.useContext)(fh),{curriculum:o,openIndex:l}=(0,e.useContext)(ph),c=o[l].topics.find((e=>(parseInt(e?.id)===parseInt(a?.id)||parseInt(e?.id)===parseInt(a?.ID))&&"sub-curriculum"!==e.type));return(0,e.createElement)("div",{className:"academy-item"},(0,e.createElement)(eu.CheckboxControl,{label:cn(a?.title?.rendered,80,"..."),checked:n,onChange:()=>{n?t.isSubCurriculum?t.subItemRemoveHandler(a):c&&r(a):t.isSubCurriculum?s({id:t.subCurriculumIndex,topics:[{id:a?.id,name:a?.title?.rendered,type:"quiz"}],type:"sub-curriculum"}):i({id:a?.id,name:a?.title?.rendered,type:"quiz"})}}),(0,e.createElement)(gx,{item:a,viewFromCourseBuilder:!0}))},Jx=t=>{const a=An((e=>e.quizzes)),n=zn(),{curriculum:r}=(0,e.useContext)(ph),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!0),c=o&&a.data,u=r?.reduce(((e,t)=>(t.topics.forEach((t=>{"sub-curriculum"===t.type?e.unshift(...t.topics):e.unshift(t)})),e)),[]),d=u.filter((e=>"quiz"===e.type));return(0,e.useEffect)((()=>{n(iw("publish",1,10))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-topics-search"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Quiz"),onSearchHandler:e=>{l(""===e),s(!0),n(iw("publish",1,10,e)).then((()=>{s(!1)}))}}),(0,e.createElement)(gx,{viewFromCourseBuilder:!1})),i||!a.data?(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(wd,{size:"md"})):(0,e.createElement)("div",{className:"academy-items"},a.data.length>0?(0,e.createElement)(e.Fragment,null,a.data.map(((a,n)=>(0,e.createElement)(Xx,{key:n,itemIndex:n,item:a,isChecked:d.some((e=>parseInt(e.id)===parseInt(a.id))),toggleLessonHandler:t.toggleLessonHandler,isSubCurriculum:t.isSubCurriculum,subCurriculumIndex:t.subCurriculumIndex,subItemRemoveHandler:t.subItemRemoveHandler})))):(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(vd,{title:(0,W.__)("No Quiz Found!","academy")}))),c&&(0,e.createElement)(Fd,{fetchHandler:e=>{s(!0),n(iw("publish",e,10)).then((()=>{s(!1)}))},totalItems:a.totalItems}))},eN=t=>{const{item:a,isChecked:n}=t,{deleteLessonHandler:r,existingTopicInsertHandler:i,existingSubTopicInsertHandler:s}=(0,e.useContext)(fh),{curriculum:o,openIndex:l}=(0,e.useContext)(ph),c=o[l].topics.find((e=>(parseInt(e?.id)===parseInt(a?.id)||parseInt(e?.id)===parseInt(a?.ID))&&"sub-curriculum"!==e.type));return(0,e.createElement)("div",{className:"academy-item"},(0,e.createElement)(eu.CheckboxControl,{label:cn(a?.title?.rendered,80,"..."),checked:n,onChange:()=>{n?t.isSubCurriculum?t.subItemRemoveHandler(a):c&&r(a):t.isSubCurriculum?s({id:t.subCurriculumIndex,topics:[{id:a?.id,name:a?.title?.rendered,type:"booking"}],type:"sub-curriculum"}):i({id:a?.id,name:a?.title?.rendered,type:"booking"})}}),(0,e.createElement)(jv,{item:a,viewFromCourseBuilder:!0,isModalLoading:!1}))},tN=({isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})=>{const r=An((e=>e.bookings)),i=zn(),{curriculum:s}=(0,e.useContext)(ph),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!0),d=c&&r.data,m=s?.reduce(((e,t)=>(t.topics.forEach((t=>{"sub-curriculum"===t.type?e.unshift(...t.topics):e.unshift(t)})),e)),[]),p=m.filter((e=>"booking"===e.type));return(0,e.useEffect)((()=>{i(Ef("publish",1,10))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-topics-search"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Booking"),onSearchHandler:e=>{u(""===e),l(!0),i(Ef("publish",1,10,e)).then((()=>{l(!1)}))}}),(0,e.createElement)(jv,{viewFromCourseBuilder:!1})),o||!r.data?(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(wd,null)):(0,e.createElement)("div",{className:"academy-items"},r.data?.length>0?(0,e.createElement)(e.Fragment,null,r.data?.map(((r,i)=>(0,e.createElement)(eN,{key:i,item:r,isChecked:p.some((e=>parseInt(e.id)===parseInt(r.id))),isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})))):(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(vd,{title:(0,W.__)("No Bookings found","academy")}))),d&&(0,e.createElement)(Fd,{fetchHandler:e=>{l(!0),i(Ef("publish",e,10)).then((()=>{l(!1)}))},totalItems:r.totalItems}))},aN=t=>{const{item:a,isChecked:n}=t,{deleteLessonHandler:r,existingTopicInsertHandler:i,existingSubTopicInsertHandler:s}=(0,e.useContext)(fh),{curriculum:o,openIndex:l}=(0,e.useContext)(ph),c=o[l].topics.find((e=>(parseInt(e?.id)===parseInt(a?.id)||parseInt(e?.id)===parseInt(a?.ID))&&"sub-curriculum"!==e.type));return(0,e.createElement)("div",{className:"academy-item"},(0,e.createElement)(eu.CheckboxControl,{label:cn(a?.title?.rendered,80,"..."),checked:n,onChange:()=>{n?t.isSubCurriculum?t.subItemRemoveHandler(a):c&&r(a):t.isSubCurriculum?s({id:t.subCurriculumIndex,topics:[{id:a.id,name:a?.title?.rendered,type:"assignment"}],type:"sub-curriculum"}):i({id:a.id,name:a?.title?.rendered,type:"assignment"})}}),(0,e.createElement)(yE,{item:a,viewFromCourseBuilder:!0}))},nN=({isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})=>{const r=An((e=>e.assignments)),{curriculum:i}=(0,e.useContext)(ph),s=zn(),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!0),d=c&&r.data,m=i?.reduce(((e,t)=>(t.topics.forEach((t=>{"sub-curriculum"===t.type?e.unshift(...t.topics):e.unshift(t)})),e)),[]),p=m.filter((e=>"assignment"===e.type));return(0,e.useEffect)((()=>{s(tE("publish",1,10))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-topics-search"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Assignments"),onSearchHandler:e=>{u(""===e),l(!0),s(tE("publish",1,10,e)).then((()=>{l(!1)}))}}),(0,e.createElement)(yE,{viewFromCourseBuilder:!1,hasIcon:!1})),o||!r.data?(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(wd,null)):(0,e.createElement)("div",{className:"academy-items"},r.data?.length>0?(0,e.createElement)(e.Fragment,null,r.data?.map(((r,i)=>(0,e.createElement)(aN,{key:i,item:r,isChecked:p.some((e=>parseInt(e.id)===parseInt(r.id))),isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})))):(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(vd,{title:(0,W.__)("No Assignments found","academy")}))),d&&(0,e.createElement)(Fd,{fetchHandler:e=>{l(!0),s(tE("publish",e,10)).then((()=>{l(!1)}))},totalItems:r.totalItems}))},rN=({isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})=>{const r=An((e=>e.addons)),i=ln(r,"quizzes")?[{name:"quiz",title:(0,W.__)("Quiz","academy"),className:"academy-topics-select-tab__quiz",content:(0,e.createElement)(Jx,{isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})}]:[],s=ln(r,"assignments",!0)?[{name:"assignment",title:(0,W.__)("Assignment","academy"),className:"academy-topics-select-tab-panelhead",content:(0,e.createElement)(nN,{isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})}]:[],o=ln(r,"meeting",!0)?[{name:"meeting",title:(0,W.__)("Meeting","academy"),className:"academy-topics-select-tab-panelhead",content:(0,e.createElement)(Kx,{isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})}]:[],l=ln(r,"tutor-booking",!0)?[{name:"booking",title:(0,W.__)("Tutor Booking","academy"),className:"academy-topics-select-tab-panelhead",content:(0,e.createElement)(tN,{isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})}]:[];return(0,e.createElement)(eu.TabPanel,{className:"academy-topics-select-tabs",activeClass:"academy-topics-select-tab-panelhead--active",tabs:[{name:"lesson",title:(0,W.__)("Lesson","academy"),className:"academy-topics-select-tab-panelhead",content:(0,e.createElement)(Qx,{isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:n})},...i,...s,...o,...l]},(t=>(0,e.createElement)("div",{className:"academy-topics-select-tab-panelbody"},t.content)))},iN=({itemIndex:t,isSubCurriculum:a,subCurriculumIndex:n,updateTopic:r,isAddNewItem:i,closeModal:s})=>{const o=An((e=>e.addons));return(0,e.createElement)("div",{className:"academy-add-new-content"},(0,e.createElement)(UE,{viewFromCourseBuilder:!1,updateTopic:r,itemIndex:t,subCurriculumIndex:n,isSubCurriculum:a,hasIcon:!0,closeModal:s,isAddNewItem:i}),ln(o,"quizzes")&&(0,e.createElement)(gx,{viewFromCourseBuilder:!1,updateTopic:r,itemIndex:t,subCurriculumIndex:n,isSubCurriculum:a,hasIcon:!0}),ln(o,"assignments",!0)&&(0,e.createElement)(yE,{itemIndex:t,updateTopic:r,viewFromCourseBuilder:!1,subCurriculumIndex:n,isSubCurriculum:a,hasIcon:!0,closeModal:s,isAddNewItem:i}),ln(o,"meeting",!0)&&(0,e.createElement)(Ux,{itemIndex:t,updateTopic:r,subCurriculumIndex:n,isSubCurriculum:a,hasIcon:!0,closeModal:s,isAddNewItem:i}),ln(o,"tutor-booking",!0)&&(0,e.createElement)(jv,{viewFromCourseBuilder:!1,itemIndex:t,updateTopic:r,subCurriculumIndex:n,isSubCurriculum:a,hasIcon:!0,closeModal:s,isAddNewItem:i}))},sN=({isSubCurriculum:t,subCurriculumIndex:a,subCurriculumItemIndex:n,subItemRemoveHandler:r,itemIndex:i,showSubCurriculum:s,setShowTopicButton:o,updateTopic:l})=>{const[c,u]=(0,e.useState)(!1),d=()=>u(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{type:"button",onClick:()=>{u(!0)},icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),label:(0,W.__)("Add content","academy"),size:"medium",suffix:"add-content",preset:"transparent"}),s&&(0,e.createElement)(lu,{onClick:()=>o(!0),label:(0,W.__)("Add Sub-curriculum","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),size:"medium",suffix:"add-sub-curriculum",preset:"transparent"}),(0,e.createElement)(fd,{isOpen:c,title:(0,W.__)("Select Items","academy"),isEnabledHeader:!1,suffix:"topics-select",size:"small"},(0,e.createElement)(lu,{type:"button",suffix:"topics-select-close",onClick:d,preset:"transparent",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close-small"})}),(0,e.createElement)(eu.TabPanel,{className:"academy-curriculum-select-tabs",activeClass:"academy-curriculum-select-tab-panelhead--active",tabs:[{name:"new-topics",title:(0,W.__)("Start from Scratch","academy"),className:"academy-curriculum-select-tab-panelhead-new-content",content:(0,e.createElement)(iN,{itemIndex:i,setShowTopicButton:o,showSubCurriculum:s,isSubCurriculum:t,subCurriculumIndex:n,updateTopic:l,closeModal:d,isAddNewItem:!0})},{name:"existing-topics",title:(0,W.__)("Build from Existing","academy"),className:"academy-curriculum-select-tab-panelhead-existing-content",content:(0,e.createElement)(rN,{isSubCurriculum:t,subCurriculumIndex:a,subItemRemoveHandler:r})}]},(t=>(0,e.createElement)("div",{className:"academy-curriculum-select-tab-panelbody"},t.content)))))},oN=({isEdit:t,item:a,editLesson:n,setEditLesson:r})=>{const{setShowTopicButton:i,openIndex:s,setCurriculum:o,curriculum:l}=(0,e.useContext)(ph),[c,u]=(0,e.useState)(t?a.name:""),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(t?a?.content:""),h=()=>{if(t){const e=[...l];e[s].topics=e[s]?.topics?.map((e=>e?.id===a?.id&&"sub-curriculum"===e.type?{...e,name:c}:e)),o(e)}else{const e={name:c,type:"sub-curriculum",id:l[s]?.topics?.length,topics:[]},t=[...l];t[s]?.topics?.push(e),o(t)}};return(0,e.createElement)("div",{className:"academy-course-builder-sub-curriculum__head"},(0,e.createElement)("div",{className:"academy-topic-form"},(0,e.createElement)("div",{className:"academy-topic-form--heading"},t?(0,W.__)("Update Sub-curriculum","academy"):(0,W.__)("","academy")),(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)("input",{id:"topicname",value:c,onChange:e=>u(e.target.value),placeholder:(0,W.__)("Add title here","academy")})),(0,e.createElement)("div",{className:"form-group"},d?(0,e.createElement)("div",{className:"academy-summary-close"},(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)("label",{htmlFor:"topicsummary",className:"academy-title"},(0,W.__)("Summary","academy")),(0,e.createElement)(lu,{preset:"transparent",suffix:"close",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),onClick:()=>m(!1)})),(0,e.createElement)("textarea",{id:"topicsummary",onChange:e=>f(e.target.value),defaultValue:p,placeholder:(0,W.__)("Add summary here","academy")})):(0,e.createElement)(lu,{label:(0,W.__)("Add Summary","academy"),preset:"transparent",suffix:"description",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),onClick:()=>m(!0),size:"medium"})),(0,e.createElement)("div",{className:"academy-sub-curriculum"},(0,e.createElement)(lu,{type:"button",onClick:()=>{t?r(!n):i(!1)},size:"xs",preset:"transparent",label:(0,W.__)("Close","academy"),border:"gray"}),(0,e.createElement)(lu,{type:"button",onClick:()=>{""!==c&&(t?(r(!n),h()):(i(!1),h()))},label:t?(0,W.__)("Update","academy"):(0,W.__)("Add","academy"),size:"sm"}))))},lN=ad((({item:t,subItemRemoveHandler:a,subCurriculumIndex:n,topicIndex:r})=>(0,e.createElement)("li",{className:"academy-course-sub-topic-builder__item"},(0,e.createElement)("div",{className:"text"},(0,e.createElement)("span",{className:"title"},(e=>{switch(e){case"booking":return"Booking";case"assignment":return"Assignment";case"meeting":return"Meeting";case"quiz":return"Quiz";case"lesson":return"Lesson"}})(t?.type)," - ",t?.name)),(0,e.createElement)("div",{className:"control",style:{display:"flex"}},(0,e.createElement)(Gx,{item:t,itemIndex:r,viewFromCourseBuilder:!0,subCurriculumIndex:n,isSubCurriculum:!0}),(0,e.createElement)(lu,{preset:"transparent",type:"button",size:"xs",onClick:()=>a(t),suffix:"delete",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),iconPosition:"center"}))))),cN=Ju((({children:t})=>(0,e.createElement)("ul",{className:"academy-course-sub-topic-builder"},t))),uN=({topics:t,index:a})=>{const{openIndex:n,curriculum:r,setCurriculum:i}=(0,e.useContext)(ph),{deleteLessonHandler:s}=(0,e.useContext)(fh),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(a),d=e=>{u(c===e?-1:e)},m=e=>{const t=e.id?e.id:e.ID,a=[...r],s=r[n]?.topics[c]?.topics.filter((e=>parseInt(e?.id)!==t));a[n].topics[c].topics=s,i(a)};return(0,e.createElement)(e.Fragment,null,t&&(0,e.createElement)("div",{className:`academy-course-builder-sub-topic ${c===a&&"academy-course-builder-sub-topic--is-open"}`},(0,e.createElement)("div",{className:"panel__head"},(0,e.createElement)("div",{className:"text-title"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag"}),(0,e.createElement)("button",{type:"button",onClick:()=>d(a)},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Sub-curriculum -","academy"))," ",cn(t?.name,125,"..."))),(0,e.createElement)("div",{className:"control"},(0,e.createElement)(ld,{iconClass:(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 128 512"},(0,e.createElement)("path",{d:"M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"})),options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>l(!o)},{type:"button",suffix:"trash",label:(0,W.__)("Delete","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>s(t)}]}),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-"+(c===a?"up":"down")}),onClick:()=>d(a),suffix:"arrow-up-down"}))),(0,e.createElement)("div",{className:"panel__body"},c===a&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(cN,{onSortEnd:({oldIndex:e,newIndex:s})=>{const o=[...r],l=nd(t?.topics,e,s);o[n].topics[a].topics=l,i(o)}},t?.topics&&t?.topics.map(((n,r)=>(0,e.createElement)(lN,{key:`item-${r}`,index:r,itemIndex:r,item:n,subItemRemoveHandler:m,subCurriculumIndex:t?.topics?.length,topicIndex:a})))),(0,e.createElement)("div",{className:"panel-control"},(0,e.createElement)(sN,{subItemRemoveHandler:m,itemIndex:a,isSubCurriculum:!0,subCurriculumIndex:a,subCurriculumItemIndex:t?.topics?.length,updateTopic:!1}))))),o&&(0,e.createElement)(oN,{isEdit:!0,item:t,editLesson:o,setEditLesson:l}))},dN=ad((({item:t,itemIndex:a})=>{const{deleteLessonHandler:n}=(0,e.useContext)(fh);return(0,e.createElement)("li",{className:"sub-curriculum"===t.type?"academy-course-topic-builder__item-sub-curriculum":"academy-course-topic-builder__item"},"sub-curriculum"!==t?.type?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"text"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag"}),(0,e.createElement)("span",{className:"title"},(e=>{switch(e){case"booking":return"Booking";case"assignment":return"Assignment";case"meeting":return"Meeting";case"quiz":return"Quiz";case"lesson":return"Lesson"}})(t.type)," -"," ",cn(t.name,125,"..."))),(0,e.createElement)("div",{className:"control",style:{display:"flex"}},(0,e.createElement)(Gx,{item:t,itemIndex:a,viewFromCourseBuilder:!0,isSubCurriculum:!1}),(0,e.createElement)(lu,{preset:"transparent",type:"button",size:"xs",onClick:()=>{n(t)},suffix:"delete",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),iconPosition:"center"}))):(0,e.createElement)(uN,{topics:t,index:a}))})),mN=Ju((t=>(0,e.createElement)("ul",{className:"academy-course-topic-builder"},t.children))),pN=t=>{const{setFieldValue:a}=ep(),{curriculum:n,setCurriculum:r,setShowTopicButton:i,isShowTopicButton:s}=(0,e.useContext)(ph),o=()=>{const e=Date.now();a("updateTime",e)};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(fh.Provider,{value:{topicInsertHandler:e=>{const a=[...t?.topics,{id:e?.ID,name:e?.lesson_title,type:"lesson"}],i=[...n];i[t.itemIndex].topics=a,r(i),o()},topicUpdateHandler:(e,a)=>{const i=[...n];i[t.itemIndex].topics[a]=e,r(i),o()},subTopicUpdateHandler:(e,a)=>{const i=[...n],s=i[t.itemIndex]?.topics[a]?.topics,l=s?.findIndex((t=>t?.id===e?.id));-1===l?i[t.itemIndex].topics[a].topics=[...s,e]:i[t.itemIndex].topics[a].topics[l]=e,r(i),o()},topics:t.topics,deleteLessonHandler:e=>{const a=[...t.topics],i=[...n];i[t.itemIndex].topics=a?.filter((t=>parseInt(t?.id)!==parseInt(e?.ID)&&parseInt(t?.id)!==parseInt(e?.id))),r(i),o()},existingTopicInsertHandler:e=>{const a=[...t.topics,{...e}],i=[...n];i[t.itemIndex].topics=a,r(i),o()},existingSubTopicInsertHandler:e=>{const a=t.topics?.map(((t,a)=>a===e?.id?{...t,topics:[...t?.topics,...e?.topics]}:t)),i=[...n];i[t.itemIndex].topics=a,r(i),o()}}},(0,e.createElement)(mN,{onSortEnd:({oldIndex:e,newIndex:a})=>{let i=[...t.topics];i=nd(i,e,a);const s=[...n];s[t.itemIndex].topics=i,r(s),o()}},t.topics.map(((t,a)=>(0,e.createElement)(dN,{key:`item-${a}`,index:a,itemIndex:a,item:t})))),s&&(0,e.createElement)(oN,{isEdit:!1}),(0,e.createElement)("div",{className:"panel-control"},(0,e.createElement)(sN,{isSubCurriculum:!1,viewFromCourseBuilder:!1,itemIndex:t?.topics?.length,showSubCurriculum:t.showSubCurriculum,setShowTopicButton:i,updateTopic:!0}))))},fN={heading:Zc().string,submitLabel:Zc().string,title:Zc().string,content:Zc().string,value:Zc().array,setValue:Zc().func,itemIndex:Zc().number,toggleForm:Zc().func};function hN({title:a,content:n,submitLabel:r,itemIndex:i,formToggler:s,setEditOpen:o}){const[l,c]=(0,e.useState)(a),[u,d]=(0,e.useState)(n),[m,p]=(0,e.useState)(!!n),{curriculum:f,setCurriculum:h,toggleForm:y,setOpenIndex:_}=(0,e.useContext)(ph);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"academy-topic-form"},(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)("input",{id:"topicname",value:l,onChange:e=>c(e.target.value),placeholder:(0,W.__)("Add title here","academy")})),m?(0,e.createElement)("div",{className:"academy-summary-close"},(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)("label",{htmlFor:"topicsummary",className:"academy-title"},(0,W.__)("Summary","academy")),(0,e.createElement)(lu,{preset:"transparent",suffix:"close",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),onClick:()=>p(!1)})),(0,e.createElement)("textarea",{id:"topicsummary",onChange:e=>d(e.target.value),defaultValue:u})):(0,e.createElement)(lu,{label:(0,W.__)("Add Summary","academy"),preset:"transparent",suffix:"description",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),onClick:()=>p(!0)}),(0,e.createElement)("div",{className:"form-group form-group--buttons"},(0,e.createElement)(lu,{label:(0,W.__)("Cancel","academy"),type:"button",suffix:"cancel",onClick:()=>s(),size:"xs"}),(0,e.createElement)(lu,{type:"button",onClick:()=>""!==l.trim()&&(e=>{let t=f?[...f]:[];if(t[i]){const a={...t[i]};a.title=e.topics,a.content=e.topicSummary,t[i]=a,h(t),_(i),o(!1)}else t=[...t,{title:e.topics,content:e.topicSummary,topics:[]}],h(t),_(t.length-1);y(!1)})({topics:l,topicSummary:u}),suffix:"curriculum",label:r,size:"xs"})))))}hN.propTypes=fN,hN.defaultProps={heading:"",submitLabel:"submit",title:"",content:""};const yN={name:Zc().string,label:Zc().string,icon:Zc().element},_N={name:"upload_file",label:(0,W.__)("Upload","academy"),icon:null};function gN({setUploadFileHandler:t,name:a,label:n,icon:r}){const{values:i,setFieldValue:s}=ep(),[o,l]=(0,e.useState)("");return(0,e.createElement)("div",{className:"academy-file-upload"},i[a]?(0,e.createElement)("div",{className:"academy-upload-file-details"},(0,e.createElement)("span",{className:"span"},cn(o,30)),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),onClick:()=>{s(a,""),t(!1)}})):(0,e.createElement)("label",{id:a},r&&(0,e.createElement)("span",null,r),n,(0,e.createElement)("input",{type:"file",className:"academy-import__file",name:a,onChange:e=>{s(a,e.target.value),t(e.target.files[0]),l(e.target.files[0].name)}})))}gN.propTypes=yN,gN.defaultProps=_N;const bN=({uploadFiles:t,setUploadFiles:a})=>{const{values:n,setFieldValue:r}=ep(),[i,s]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{t&&(s(!0),nn({action:"academy_pro_scorm/admin/scorm_file_upload",upload_file:t},!0).then((e=>{r("meta._academy_course_builder_scorm_file",e.data.data),s(!1)})))}),[t]),(0,e.createElement)("div",{className:`academy-postbox academy-postbox--scorm ${t&&"academy-postbox--scorm-uploaded"}`},(0,e.createElement)("div",{className:"academy-postbox__body"},(0,e.createElement)("div",{className:"meta-field meta-field--scorm"},(0,e.createElement)("div",{className:"meta-field--scorm--container"},(0,e.createElement)("div",{className:"meta-field__body"},n?.meta?._academy_course_builder_scorm_file?(0,e.createElement)(e.Fragment,null,i?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-scrom-file-upload"},(0,e.createElement)("div",{className:"academy-scrom-file-upload--linear"},(0,e.createElement)("span",{className:"academy-icon academy-icon--scorm"})),(0,e.createElement)("div",{className:"academy-scrom-file-upload--file-name"},(0,e.createElement)("span",{className:"academy-icon academy-icon--filled-checkmark"}),(0,e.createElement)("span",null,(0,W.__)("Upload Completed")))))):(0,e.createElement)("div",{className:"academy-scrom-file-upload"},(0,e.createElement)("div",{className:"academy-scrom-file-upload--linear"},(0,e.createElement)("span",{className:"academy-icon academy-icon--scorm"})),(0,e.createElement)("span",null,(0,W.__)("No files yet")))),(0,e.createElement)("div",{className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Upload SCORM Package","academy")),(0,e.createElement)("span",{className:"academy-file-desc"},(0,W.__)("Support: Zip only","academy")),(0,e.createElement)(gN,{setUploadFileHandler:a,name:"meta._academy_course_builder_scorm_file",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--upload"})}))),n?.meta?._academy_course_builder_scorm_file&&(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),onClick:()=>{s(!0),nn({action:"academy_pro_scorm/admin/delete_upload_scorm_file",file_name:n?.meta?._academy_course_builder_scorm_file}).then((()=>{r("meta._academy_course_builder_scorm_file",""),a(!1),s(!1)}))},className:"academy-btn-delete",suffix:"delete",preset:"transparent"}))))},vN=ad((({item:t,itemIndex:a})=>{const{openIndex:n,setOpenIndex:r,deleteCurriculum:i}=(0,e.useContext)(ph),[s,o]=(0,e.useState)(!1),l=An((e=>e.addons)),c=()=>{o(!1),r(n===a?-1:a)},u=()=>{o(!s)},d=["lesson","sub-curriculum"];ln(l,"quizzes")&&d.push("quiz"),ln(l,"assignments",!0)&&d.push("assignment"),ln(l,"meeting",!0)&&d.push("meeting"),ln(l,"tutor-booking",!0)&&d.push("booking");const m=t.topics.filter((e=>d.includes(e?.type)));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("li",{className:`academy-course-builder__item ${n===a&&"academy-course-builder__item--is-open"}`,key:`item-${a}`},(0,e.createElement)("div",{className:"panel-head"},(0,e.createElement)("div",{className:"text"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag"}),(0,e.createElement)("button",{type:"button",onClick:()=>c()},cn(t.title,125,"..."))),(0,e.createElement)("div",{className:"control"},(0,e.createElement)(ld,{iconClass:(0,e.createElement)("span",{className:"academy-icon academy-icon--three-dots-menu"}),options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>u()},{type:"button",label:(0,W.__)("Delete","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),suffix:"trash",onClick:()=>i(a)}]}),(0,e.createElement)(lu,{preset:"transparent",type:"button",size:"xs",suffix:"angle",onClick:()=>c(),icon:n===a?(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-up"}):(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-down"}),iconPosition:"center"}))),(0,e.createElement)("div",{className:"panel-body"},n===a&&(0,e.createElement)(pN,{topics:m,itemIndex:a,showSubCurriculum:!0}))),s&&(0,e.createElement)(hN,{title:t.title,content:t.content,submitLabel:(0,W.__)("Update Curriculum","academy"),itemIndex:a,formToggler:u,setEditOpen:o}))})),EN=Ju((({children:t})=>(0,e.createElement)("ul",{className:"academy-course-builder"},t))),wN=()=>{const{values:t,setFieldValue:a}=ep(),{meta:n}=t,r=n.academy_course_curriculum,i=n.academy_course_drip_content_type,s=n.academy_course_drip_content_enabled,[o,l]=(0,e.useState)(-1),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),h=An((e=>e.addons)),y=e=>{a("meta.academy_course_curriculum",e)},_=()=>{u(!c)};return(0,e.createElement)(ph.Provider,{value:{curriculum:r,setCurriculum:y,openIndex:o,setOpenIndex:l,deleteCurriculum:e=>{y(r.filter(((t,a)=>a!=e)))},toggleForm:u,dripContentType:i,isDripContentEnable:s,setShowTopicButton:f,isShowTopicButton:p}},(0,e.createElement)("div",{className:"academy-postbox academy-postbox--course"},(0,e.createElement)("div",{className:"academy-postbox__header"},(0,e.createElement)("h2",null,(0,W.__)("Course Builder","academy"))),(0,e.createElement)("div",{className:"academy-postbox__body"},ln(h,"scorm",!0)&&(0,e.createElement)(bN,{uploadFiles:d,setUploadFiles:m}),!d&&(0,e.createElement)("div",{className:"academy-course-builder-wrap"},(0,e.createElement)(EN,{onSortEnd:({oldIndex:e,newIndex:t})=>{y(nd(r,e,t))}},r&&r.map(((t,a)=>(0,e.createElement)(vN,{key:`item-${a}`,index:a,itemIndex:a,item:t})))),c?(0,e.createElement)(hN,{heading:(0,W.__)("Add Curriculum","academy"),submitLabel:(0,W.__)("Add Curriculum","academy"),formToggler:_}):(0,e.createElement)(lu,{preset:"purple",type:"button",suffix:"new-curriculum",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),onClick:()=>_(),label:(0,W.__)("Add New Curriculum","academy")})))))},xN=()=>{const{values:t,setFieldValue:a}=ep();return(0,e.createElement)("div",{className:"academy-course-content-section academy-course-content-section--general"},(0,e.createElement)("span",{className:"academy-course-section-title"},(0,W.__)("General","academy")),(0,e.createElement)("div",{className:"academy-editor__content-title"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Course Title","academy")),(0,e.createElement)(cE,{name:"title",label:(0,W.__)("Add course title here","academy"),postId:t.post_ID,defaultValue:t.title,permalink:t.link,saveValueHandler:a})),(0,e.createElement)("div",{className:"academy-editor__content-texteditor"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Course Description","academy")),(0,e.createElement)(Ry,{name:"content",defaultValue:t.content,saveValueHandler:a})))},NN=()=>(0,e.createElement)("div",{className:"academy-postbox__body"},(0,e.createElement)(Av,{name:"author",action:"academy/get_approved_instructors_for_select",placeholder:(0,W.__)("Search and select Author","academy"),title:(0,W.__)("Choose Instructor","academy"),subtitle:(0,e.createElement)(e.Fragment,null,(0,W.__)("Choose instructor.","academy")),isMulti:!1})),kN=({data:t,toggleInstructorsHandler:a})=>{const[n,r]=(0,e.useState)(!1);return(0,e.createElement)("li",null,(0,e.createElement)(eu.CheckboxControl,{label:t.display_name,checked:n,onChange:()=>{return e=n,r(!n),void a(t,e);var e}}),(0,e.createElement)("span",{className:"academy-choose-instructor__email"},t.user_email))};function SN({course_id:a,saveValueHandler:n}){const r=An((e=>e.addons)),{values:i}=ep(),{author:s}=i,[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[d,m]=(0,e.useState)([]),[p,f]=(0,e.useState)(!1),[h,y]=(0,e.useState)("");(0,e.useEffect)((()=>{ln(r,"multi_instructor")&&nn({action:"academy_multi_instructor/get_instructors_by_course_id",course_id:a}).then((e=>{if(e.data.data&&l(e.data.data),e.data.data&&e.data.data.length>0){const t=e.data.data?.reduce(((e,t)=>(e.push(t.ID),e)),[]);u(t),n("instructors",t)}}))}),[a]);const _=(e,t=!1)=>{let a,r;t?(a=o.filter((t=>parseInt(t.ID)!==parseInt(e.ID))),a.length>0&&(r=a?.reduce(((e,t)=>(e.push(t.ID),e)),[]))):(a=[...o,e],a.length>0&&(r=a?.reduce(((e,t)=>(e.push(t.ID),e)),[]))),n("instructors",r),u(r),l(a)},g=!ln(r,"multi_instructor"),b=d.filter((e=>e.display_name.toLowerCase().includes(h)));return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-postbox academy-postbox--course-instructors"},(0,e.createElement)("h2",{className:"academy-heading"},(0,W.__)("Instructor","academy")),g&&(0,e.createElement)(NN,null),ln(r,"multi_instructor")&&(0,e.createElement)("div",{className:"academy-instructors"},(0,e.createElement)("div",{id:"multiInstructor",className:"academy-postbox__body"},o&&o.map(((t,r)=>(0,e.createElement)("div",{className:"academy-course-instructor"+(parseInt(t.ID)===parseInt(s)?" academy-course-instructor--active":""),key:r},(0,e.createElement)("div",{className:"academy-course-instructor__entry-left"},(0,e.createElement)("span",{className:"academy-course-instructor__name"},t.display_name)),(0,e.createElement)("div",{className:"academy-course-instructor__entry-right"},(0,e.createElement)("div",{className:"academy-course-instructor__info-wrap"},(0,e.createElement)("label",{htmlFor:`multiInstructor${t.ID}`,className:"academy-course-instructor__info"},(0,e.createElement)("span",{className:"academy-course-instructor__designation"},t.academy_profile_designation)),(0,e.createElement)(bp,{id:`multiInstructor${t.ID}`,name:"author",type:"radio",checked:parseInt(t.ID)===parseInt(s),value:t.ID})),(0,e.createElement)(ld,{icon:"three-dots-menu",options:[{type:"button",label:(0,W.__)("Remove","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{var e;e=t.ID,nn({action:"academy_multi_instructor/remove_instructor_from_course",course_id:a,instructor_id:e}).then((()=>{const t=o.filter((t=>parseInt(t.ID)!==parseInt(e))),a=t?.reduce(((e,t)=>(e.push(t.ID),e)),[]);u(a),l(t),n("instructors",a)}))}}]}))))),(0,e.createElement)("div",null,(0,e.createElement)(lu,{type:"button",onClick:()=>{nn({action:"academy_multi_instructor/get_active_instructors"}).then((e=>{200===e.status&&m(e.data.data?.reduce(((e,t)=>(!1===c?.includes(t.ID)&&e.push(t),e)),[])),f(!0)}))},icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--group-profile"}),iconPosition:"left",label:(0,W.__)("Add Instructor","academy")}),(0,e.createElement)("p",{className:"academy-deactivate-message"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,e.createElement)("span",null,(0,W.__)("Only Default Instructors Get Shared Revenue.","academy"))),(0,e.createElement)(fd,{title:"Add instructors",isOpen:p,onRequestClose:()=>f(!1),size:"small",suffix:"add-instructors"},d.length>0?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Instructor"),onSearchHandler:e=>y(e.toLowerCase())}),(0,e.createElement)("ul",{className:"academy-choose-instructor"},0!==b.length?(0,e.createElement)(e.Fragment,null,b.map(((t,a)=>(0,e.createElement)(kN,{data:t,key:a,toggleInstructorsHandler:_})))):(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(vd,{title:(0,W.__)("No Instructor Available","academy")})))):(0,e.createElement)("div",{className:"academy-info"},(0,e.createElement)(vd,{title:(0,W.__)("No Instructor Available","academy")}))))))))}const CN={name:Zc().string};function ON(){const{values:a,setFieldValue:n}=ep(),r=[{label:(0,W.__)("Course","academy"),value:"course"},{label:(0,W.__)("Category","academy"),value:"category"}];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-postbox academy-postbox--course"},(0,e.createElement)("h2",{className:"academy-heading"},(0,W.__)("Course Prerequisite","academy")),(0,e.createElement)("div",{className:"academy-postbox__body"},(0,e.createElement)("div",{className:"meta-field meta-field--course-prerequisite"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Prerequisite Type","academy")),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(Pd,{id:"coursePreRequsiteSelect",suffix:"prerequisite-type",name:"coursePreRequsiteClass",options:r,value:r.find((e=>e.value===a?.meta?.academy_prerequisite_type)),onChangeHandler:e=>{n("meta.academy_prerequisite_type",e)}}))),(0,e.createElement)("div",{className:"meta-field meta-field--course-prerequisite"},"category"===a?.meta?.academy_prerequisite_type?(0,e.createElement)(Av,{name:"meta.academy_prerequisite_categories",placeholder:(0,W.__)("Search and select categories","academy"),title:(0,W.__)("Course Categories","academy"),action:"academy/fetch_course_category",isMulti:!0}):(0,e.createElement)(Av,{name:"meta.academy_prerequisite_courses",placeholder:(0,W.__)("Search and select courses","academy"),title:(0,W.__)("Course Prerequisite","academy"),postType:"academy_courses",isMulti:!0})))))}ON.propTypes=CN,ON.defaultProps={};const IN=()=>{const t=An((e=>e.settings)),{values:a,setFieldValue:n}=ep(),r=zn(),i=!t?.data?.monetization_engine,s=Aa.manage_options?Sa:Sa&&t?.data?.is_instructor_update_course_price,o="paid"!==a.meta.academy_course_type||!("woocommerce"===t?.data?.monetization_engine&&0!==a?.meta?.academy_course_product_id||"edd"===t?.data?.monetization_engine&&0!==a?.meta?.academy_course_download_id),l="free"===a.meta.academy_course_type,c="paid"===a.meta.academy_course_type,u="public"===a.meta.academy_course_type,d="woocommerce"===t?.data?.monetization_engine||"edd"===t?.data?.monetization_engine,m=!t?.data?.monetization_engine&&"paid"===a.meta?.academy_course_type;return(0,e.createElement)("div",{className:"academy-postbox academy-postbox--course"},(0,e.createElement)("h2",{className:"academy-heading"},(0,W.__)("Course Type","academy")),(0,e.createElement)("div",{className:"academy-postbox__body"},(0,e.createElement)("div",{className:"meta-field meta-field--course-type"},(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)("label",{htmlFor:"free",className:`${l&&"academy-label-is-active"}`},(0,e.createElement)("span",null,(0,W.__)("Free","academy")),(0,e.createElement)(bp,{id:"free",type:"radio",name:"meta.academy_course_type",value:"free"})),(0,e.createElement)("div",{className:`academy-course-paid-label ${c&&"academy-label-is-active"}`},(0,e.createElement)("label",{htmlFor:"paid",className:"",disabled:i},xa&&d?(0,e.createElement)("span",null,(0,W.__)("Paid","academy")):(0,e.createElement)(e.Fragment,null,t?.data?.monetization_engine?(0,e.createElement)("span",{className:"academy-label-disabled"},(0,W.__)("Paid ( Woocommerce / Easy Digital Downloads required )","academy")):(0,e.createElement)("span",{className:"academy-label-disabled"},(0,W.__)("Paid ( Please Select E-Commerce Engine from settings )","academy"))),(0,e.createElement)(bp,{id:"paid",type:"radio",name:"meta.academy_course_type",value:"paid"})),!i&&"paid"===a.meta?.academy_course_type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Av,{name:"woocommerce"===t?.data?.monetization_engine?"meta.academy_course_product_id":"meta.academy_course_download_id",action:"woocommerce"===t?.data?.monetization_engine?"academy_woo/fetch_products":"academy_edd/fetch_downloads",placeholder:(0,W.__)("Search and select a product","academy"),title:(0,W.__)("Select product","academy"),subtitle:(0,W.__)("(When selling the course)","academy"),postType:"woocomerce"===t?.data?.monetization_engine?"product":"download",desc:(0,e.createElement)(e.Fragment,null,s?(0,e.createElement)(e.Fragment,null,(0,W.__)("You have the option to choose an existing WooCommerce product, or a new one will be generated for you.","academy")):(0,e.createElement)(e.Fragment,null,(0,W.__)("Sell your product, process by WooCommerce","academy")))}),s&&(0,e.createElement)(zy,{action:"woocommerce"===t?.data?.monetization_engine?"academy_pro_woo/get_product":"academy_edd/get_download",updateAction:"woocommerce"===t?.data?.monetization_engine?"academy_pro_woo/create_or_update_product":"academy_pro_edd/create_or_update_download",productId:"woocommerce"===t?.data?.monetization_engine?a?.meta?.academy_course_product_id:a?.meta?.academy_course_download_id,name:"woocommerce"===t?.data?.monetization_engine?"meta.academy_course_product_id":"meta.academy_course_download_id",setFieldValue:n,isForceProductCreation:o,isRegularFieldDisabled:"woocommerce"!==t?.data?.monetization_engine&&"edd"!==t?.data?.monetization_engine,title:a?.title?a?.title:"",regularPrice:0}))),m&&(0,e.createElement)("div",{className:"academy-warning-text"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,e.createElement)("p",null,(0,W.__)("Please Select ","academy"),(0,e.createElement)("a",{target:"__blank",href:`${va}admin.php?page=academy-settings&path=payments&tab=engine`},(0,W.__)("eCommerce Engine","academy")))),(0,e.createElement)("div",{className:"academy-course-public-label"},(0,e.createElement)("label",{className:`${u&&"academy-label-is-active"}`,htmlFor:"public",onClick:()=>!Sa&&r(au(!0)),role:"presentation"},(0,e.createElement)("span",{className:`${!Sa&&"academy-label-disable"}`},(0,e.createElement)("span",null,(0,W.__)("Public","academy"))),(0,e.createElement)(bp,{id:"public",type:"radio",value:"public",name:"meta.academy_course_type",disabled:!Sa})),(0,e.createElement)("p",{className:"academy-pro-badge--label"},!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))))))))};function AN(){const[a,n]=(0,e.useState)(!0),{values:r,setFieldValue:i}=ep(),{meta:s}=r,o=[{label:(0,W.__)("Youtube","academy"),value:"youtube"},{label:(0,W.__)("Vimeo","academy"),value:"vimeo"},{label:(0,W.__)("External URL","academy"),value:"external"},{label:(0,W.__)("Embedded","academy"),value:"embedded"},{label:(0,W.__)("HTML 5 (mp4)","academy"),value:"html5"},{label:(0,W.__)("Short Code","academy"),value:"shortcode"}],l=o.find((e=>e.value===s?.academy_course_intro_video[0])),c=s.academy_course_intro_video.length>0&&"html5"!==s.academy_course_intro_video[0],u=s.academy_course_intro_video.length>0&&"html5"===s.academy_course_intro_video[0];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"meta-field meta-field--course-intro"},(0,e.createElement)("label",{htmlFor:"intro_video",className:"meta-field__label"},(0,W.__)("Course Intro Video","academy")),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)("div",{className:"academy-video--wrap"},(0,e.createElement)("div",{className:"academy-video--wrap--linear"},(0,e.createElement)("span",{className:"academy-icon academy-icon--image"})),(0,e.createElement)("span",null,(0,W.__)("Upload Video","academy"))),(0,e.createElement)("div",{className:"academy-video--select--container"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Course video intro","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Support: HTML5 MP4","academy"))),(0,e.createElement)("div",{className:"academy-video--select"},(0,e.createElement)(Pd,{suffix:"intro-video",value:l,isClearable:!0,placeholder:(0,W.__)("Select Video Source","academy"),options:o,onChangeHandler:e=>i("meta.academy_course_intro_video",e?[e,""]:[])}),u&&(0,e.createElement)(FE,{name:"meta.academy_course_intro_video[1]",value:s.academy_course_intro_video[1],saveValueHandler:i,isString:!0}),c&&(0,e.createElement)("div",{className:"academy-video--select__textarea"},(0,e.createElement)(bp,{type:"text",as:"textarea",name:"meta.academy_course_intro_video[1]",placeholder:`${mn(s.academy_course_intro_video[0])} video url`,validate:e=>{let t=!0;return"youtube"===s.academy_course_intro_video[0]?t=/^https?:\/\/(www\.)?youtube\.com/.test(e)||/^https?:\/\/youtu\.be\/[^\s/?]+/.test(e):"vimeo"===s.academy_course_intro_video[0]&&(t=/^https?:\/\/(www\.)?vimeo\.com/.test(e)),n(t),t?void 0:`Invalid ${s.academy_course_intro_video[0]} link`},className:a?"":"invalidLink"}),(0,e.createElement)(lu,{onClick:()=>{i("meta.academy_course_intro_video[1]","")},icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),preset:"transparent"})))))))}const TN=()=>{const{values:t,setFieldValue:a}=ep();return(0,e.createElement)("div",{className:"academy-course-content-section academy-course-content-section--feature-intro"},(0,e.createElement)("span",{className:"academy-course-section-title"},(0,W.__)("Course Image/Intro","academy")),(0,e.createElement)(by,{label:(0,W.__)("Feature Image","academy"),value:t?.featured_media,name:"featured_media",saveValueHandler:a}),(0,e.createElement)(AN,null))};function PN(){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-widget academy-widget--excerpt"},(0,e.createElement)("h2",{className:"academy-title"},(0,W.__)("Excerpt","academy")),(0,e.createElement)("div",{className:"academy-widget__body"},(0,e.createElement)(bp,{type:"text",name:"excerpt",as:"textarea",placeholder:""}))))}PN.propTypes={},PN.defaultProps={};const MN={name:Zc().string},DN=()=>{const{values:t,setFieldValue:a}=ep();return(0,e.createElement)("div",{className:"academy-widget academy-widget--taxonomy"},(0,e.createElement)("span",{className:"academy-heading"},(0,W.__)("Course Taxonomy","academy")),(0,e.createElement)(ky,{label:(0,W.__)("Course Category","academy"),values:t.academy_courses_category,saveValueHandler:a,type:"course"}),(0,e.createElement)(My,{label:(0,W.__)("Course Tags","academy"),values:t.academy_courses_tag,saveValueHandler:a,type:"course"}),(0,e.createElement)(PN,null))};DN.propTypes=MN,DN.defaultProps={};const FN=DN;function RN(){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"meta-field  meta-field--course-benefits"},(0,e.createElement)("label",{htmlFor:"benefits",className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Benefits of the course","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Write benefits of this course. (one per line)","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(bp,{id:"benefits",type:"text",name:"meta.academy_course_benefits",as:"textarea",placeholder:""}))),(0,e.createElement)("div",{className:"meta-field  meta-field--target-audience"},(0,e.createElement)("label",{htmlFor:"targeted",className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Targeted Audience","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Specify the target audience that will benefit the most from the course. (one per line)","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(bp,{id:"targeted",type:"text",name:"meta.academy_course_audience",as:"textarea",placeholder:""}))),(0,e.createElement)("div",{className:"meta-field meta-field--requirements"},(0,e.createElement)("label",{htmlFor:"requirements",className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Requirements","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Are there any course requirements? (one per line)","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(bp,{id:"requirements",type:"text",name:"meta.academy_course_requirements",as:"textarea",placeholder:""}))),(0,e.createElement)("div",{className:"meta-field meta-field--materials"},(0,e.createElement)("label",{htmlFor:"materials",className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Materials Included","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("A list of assets you will be providing for the students in this course (One per line)","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(bp,{id:"materials",type:"text",name:"meta.academy_course_materials_included",as:"textarea",placeholder:""}))))}const LN=[{name:"meta.academy_course_drip_content_type",label:(0,W.__)("Schedule Course content according to the date","academy"),value:"schedule_by_date"},{name:"meta.academy_course_drip_content_type",label:(0,W.__)("Content Accessible after X days from enrollment","academy"),value:"schedule_by_enroll_date"},{name:"meta.academy_course_drip_content_type",label:(0,W.__)("Course content available sequentially","academy"),value:"schedule_by_sequentially"},{name:"meta.academy_course_drip_content_type",label:(0,W.__)("Course content available after completing prerequisites","academy"),value:"schedule_by_prerequisite"}],qN=t=>{const{meta:a}=t;return(0,e.createElement)("div",{className:"academy-content-drip-settings"},(0,e.createElement)(PE,{name:"meta.academy_course_drip_content_enabled",title:(0,W.__)("Enable/Disable Content Drip","academy")}),(0,e.createElement)("div",{className:`academy-content-drip-settings-options ${!a.academy_course_drip_content_enabled&&"academy-content-drip-options-opacity"}`},(0,e.createElement)("h4",null,(0,W.__)("Content Drip Types","academy")),(0,e.createElement)("p",null,(0,W.__)("Select your content schedule using the following content drip options","academy")),(0,e.createElement)("div",{className:"academy-content-drip-option-items"},LN.map(((t,n)=>(0,e.createElement)("div",{className:"academy-content-drip-option",key:n},(0,e.createElement)(bp,{type:"radio",id:t.value,name:t.name,value:t.value,disabled:!a.academy_course_drip_content_enabled}),(0,e.createElement)("label",{htmlFor:t.value,className:"academy-drip-item-label"},t.label)))))))};function jN(){const{errors:a,values:n,setFieldValue:r}=ep(),i=An((e=>e.settings)),s=Sa&&i?.data?.is_expire_course_enrollment,o=[{label:(0,W.__)("Beginner","academy"),value:"beginner"},{label:(0,W.__)("Intermediate","academy"),value:"intermediate"},{label:(0,W.__)("Experts","academy"),value:"experts"}];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"meta-field meta-field--qa"},(0,e.createElement)("div",{className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Question and answer","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Enable/Disable QA section for this course.","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(bp,{id:"qa",type:"checkbox",name:"meta.academy_is_enabled_course_qa",component:Ip}))),(0,e.createElement)("div",{className:"meta-field meta-field--qa"},(0,e.createElement)("div",{className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Announcements","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Enable/Disable Announcements section for this course.","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(bp,{id:"qa",type:"checkbox",name:"meta.academy_is_enabled_course_announcements",component:Ip}))),(0,e.createElement)("div",{className:"meta-field meta-field--playback-time"},(0,e.createElement)("div",{className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Course Duration","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Set the expected time duration for this course ","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(Cp,{name:"meta.academy_course_duration",render:()=>(0,e.createElement)("div",{className:"group-field"},(0,e.createElement)("label",{htmlFor:"hours",className:"group-field__items academy-input"},(0,e.createElement)(bp,{id:"hours",type:"number",name:"meta.academy_course_duration[0]",min:"0"}),(0,e.createElement)("span",null,(0,W.__)("Hrs","academy"))),(0,e.createElement)("label",{htmlFor:"minutes",className:"group-field__items academy-input"},(0,e.createElement)(bp,{id:"minutes",type:"number",name:"meta.academy_course_duration[1]",min:"0"}),(0,e.createElement)("span",null,(0,W.__)("Min","academy"))),(0,e.createElement)("label",{htmlFor:"seconds",className:"group-field__items academy-input"},(0,e.createElement)(bp,{id:"seconds",type:"number",name:"meta.academy_course_duration[2]",min:"0"}),(0,e.createElement)("span",null,(0,W.__)("Sec","academy"))))}))),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"meta-field meta-field--maximum-students"},(0,e.createElement)("div",null,(0,e.createElement)("label",{htmlFor:"max_students",className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Maximum Students","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Maximum number of students who can enroll in this course.","academy")))),(0,e.createElement)(bp,{id:"max_students",type:"number",name:"meta.academy_course_max_students",placeholder:"max students",className:`academy-input\n\t\t\t\t\t\t${a?.meta?.academy_course_max_students&&"academy-input-field-required"}`,min:"0"})),s&&(0,e.createElement)("div",{className:"meta-field meta-field--expire-enrollment"},(0,e.createElement)("div",{className:"meta-field__label"},(0,W.__)("Expire Enrollment","academy"),(0,e.createElement)("p",{className:"sub-title"},(0,W.__)("Expire student enrolled course after this number of days. Keep 0 if you want to make this course lifetime enrollment.","academy"))),(0,e.createElement)(bp,{id:"academy_course_expire_enrollment",type:"number",name:"meta.academy_course_expire_enrollment",className:`academy-input\n\t\t\t\t\t\t\t${a?.meta?.academy_course_expire_enrollment&&"academy-input-field-required"}`,placeholder:"0",min:"0"})),(0,e.createElement)("div",{className:"meta-field meta-field--difficulty-level"},(0,e.createElement)("div",{className:"meta-field__label"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Difficulty Level","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Choose course level","academy"))),(0,e.createElement)("div",{className:"meta-field__body"},(0,e.createElement)(Pd,{className:"academy-select academy-select--difficulty-level",classNamePrefix:"academy-react-select",suffix:"difficulty-level",options:o,value:o.find((e=>e.value===n.meta.academy_course_difficulty_level)),onChangeHandler:e=>{r("meta.academy_course_difficulty_level",e)}}))),(0,e.createElement)("div",{className:"meta-field meta-field--languages"},(0,e.createElement)("label",{htmlFor:"languages",className:"meta-field__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Language","academy")),(0,e.createElement)("span",{className:"sub-title"},(0,W.__)("Mention the language of the course","academy"))),(0,e.createElement)(bp,{id:"languages",type:"text",name:"meta.academy_course_language",placeholder:"Language",className:"academy-input"})))}const zN=()=>{const t=An((e=>e.addons)),{values:a,setFieldValue:n}=ep(),{meta:r}=a,i=ln(t,"content-drip",!0)?[{name:"content_drip",title:(0,W.__)("Content Drip","academy"),className:"meta-tab-link meta-tab-link--info",content:(0,e.createElement)(qN,{meta:r,setFieldValue:n})}]:[];return(0,e.createElement)("div",{className:"academy-postbox academy-postbox--settings"},(0,e.createElement)("div",{className:"academy-postbox__header"},(0,e.createElement)("h2",{className:"academy-heading"},(0,W.__)("Course Settings","academy"))),(0,e.createElement)("div",{className:"academy-postbox__body"},(0,e.createElement)(eu.TabPanel,{className:"meta-tabs",initialTabName:"general",activeClass:"meta-tab-link--selected",tabs:[{name:"general",title:(0,W.__)("General","academy"),className:"meta-tab-link meta-tab-link--general",content:(0,e.createElement)(jN,{meta:r,setFieldValue:n})},{name:"info",title:(0,W.__)("Additional Info","academy"),className:"meta-tab-link meta-tab-link--info",content:(0,e.createElement)(RN,{meta:r,setFieldValue:n})},...i]},(t=>(0,e.createElement)("div",{className:"meta-tab-content"},t.content)))))},BN=({id:t,isShowCourseType:a})=>{const{values:n,setFieldValue:r,dirty:i,isSubmitting:s}=ep(),o=An((e=>e.addons));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),t?(0,W.__)("Edit Course","academy"):(0,W.__)("Add New Course","academy")),rightContent:()=>(0,e.createElement)("div",{className:"academy-course-submit-btn"},(0,e.createElement)(mh,{name:"status",type:"course",isSubmitted:s,value:n.status,saveValueHandler:r,label:t||n.post_ID?(0,W.__)("Update","academy"):(0,W.__)("Publish","academy"),isSubmitDisabled:!i}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Create course","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--course academy-editor academy-editor--course"},(0,e.createElement)("div",{className:"academy-editor__content"},(0,e.createElement)("div",{className:"entry-left"},(0,e.createElement)(xN,null),(0,e.createElement)(TN,null),(0,e.createElement)("div",{className:"academy-editor__content-meta"},(0,e.createElement)(zN,null),(0,e.createElement)(wN,null),Aa.manage_options&&(0,e.createElement)(SN,{course_id:t,saveValueHandler:r}))),(0,e.createElement)("div",{className:"entry-right"},(0,e.createElement)("div",{className:"academy-editor__content-sidebar"},a&&(0,e.createElement)(IN,null),(0,e.createElement)(FN,null),ln(o,"course-prerequisites",!0)&&(0,e.createElement)(ON,null))))))},HN=t=>{const a=An((e=>e.courses)),n=An((e=>e.settings)),r=zn(),{id:i,openModal:s,onRequestClose:o,setEditItemID:l}=t,[c,u]=(0,e.useState)(!0),d=P(),{courseId:m}=function(){let{matches:t}=e.useContext(O),a=t[t.length-1];return a?a.params:{}}();return(0,e.useEffect)((()=>{var e;n.data||r(Rp()),!a.data&&i||!a.data&&m?r((e=i||m,async t=>{try{return await Za.get(`${pa}academy_courses/${parseInt(e)}`,{params:{context:"edit"}}).then((e=>(t({type:Yf,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})).then((()=>{u(!1)})):u(!1)}),[i,a.data]),(0,e.createElement)("div",{className:"academy-dashboard__content"},c?(0,e.createElement)(wd,null):(0,e.createElement)(fp,{enableReinitialize:!0,initialValues:ch(i,a.data),onSubmit:(e,t)=>{const{updateTime:a,...n}=e;var s;t.setSubmitting(!0),""!==e.title?i||m?r((s=n,async e=>{try{return await Za.post(`${pa}academy_courses/${parseInt(s.post_ID)}`,s).then((t=>(e({type:Wf,payload:t.data}),e(sr((0,W.__)("Course Updated!","academy"),!0,"success")),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}})).then((e=>{t.setSubmitting(!1),t.setValues(ch(i||m,[e.data]))})):r((e=>async t=>{try{return await Za.post(pa+"academy_courses",e).then((e=>(t({type:Uf,payload:e.data}),t(sr((0,W.__)("New Course Created!","academy"),!0,"success")),e)))}catch(n){var a;if("publish"===e.status)return e.status="pending",await Za.post(pa+"academy_courses",e).then((e=>(t({type:Uf,payload:e.data}),t(sr((0,W.__)("New Course Created!","academy"),!0,"success")),e)));t(sr(null!==(a=n?.response?.data?.message)&&void 0!==a?a:n?.message,!0,"error"))}})(n)).then((e=>{if(t.setSubmitting(!1),t.setValues(ch(e.data.id,[e.data])),Ca){const t=new URLSearchParams(window.location.search);t.set("id",e.data.id),t.set("action","edit"),d(`?${t.toString()}`)}else l(e.data.id)})):(r(sr((0,W.__)("Title missing!","academy"),!0,"error")),setTimeout((()=>{t.setSubmitting(!1)}),500))}},(({values:t,setFieldValue:a,isSubmitting:r,dirty:l})=>{const c="paid-memberships-pro"!==n?.data?.monetization_engine;return(0,e.createElement)(vp,null,Ca?(0,e.createElement)(BN,{id:i,isShowCourseType:c}):(0,e.createElement)(fd,{isOpen:s,title:(0,W.__)("Course","academy"),subtitle:i||m?(0,W.__)("Edit course","academy"):(0,W.__)("Create course","academy"),onRequestClose:o,suffix:"course",isEnabledHeader:!0,size:"large",isEnabledResizer:!1,largeModalMarginTop:"75px",externalComponent:(0,e.createElement)("div",{className:"academy-course-submit-btn"},(0,e.createElement)(mh,{name:"status",type:"course",isSubmitted:r,value:t.status,saveValueHandler:a,label:i||t.post_ID?(0,W.__)("Update","academy"):(0,W.__)("Publish","academy"),isSubmitDisabled:!l}))},(0,e.createElement)(BN,{id:i,isShowCourseType:c})))})))},$N=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(0);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("All Courses","academy")),(0,e.createElement)(nm,{filterText:["course"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Courses","academy")},Ca?(0,e.createElement)($,{to:`${_a}admin.php?page=academy-courses&action=new`,className:"academy-btn academy-btn--md academy-btn--preset-purple"},(0,e.createElement)("span",{className:"academy-btn--label"},(0,W.__)("Add New Course","academy"))):(0,e.createElement)(lu,{type:"button",label:(0,W.__)("Add New Course","academy"),preset:"purple",onClick:()=>{a(!0),r(0)}})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--courses"},(0,e.createElement)(lh,{setEditItemID:r,isModalOpen:a})),!Ca&&(0,e.createElement)(HN,{openModal:t,onRequestClose:()=>{a(!1),r(0)},id:n,setEditItemID:r}))};$N.propTypes={},$N.defaultProps={};const VN=$N,UN="fetch_all_instructors",WN="update_instructor",GN="register_instructor",YN="remove_instructor",KN="update_instructor_current_page",ZN=(e="publish",t=1,a=10,n="")=>async r=>{try{let i={status:"all"===e?"any":e,page:t,per_page:a};return n&&(i={...i,search:n}),nn({action:"academy/get_all_instructors",...i}).then((t=>(r({type:UN,payload:{data:t.data.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}}),t)))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},QN=(e,t)=>async a=>{try{return nn({action:"academy/update_instructor_status",ID:e,status:t}).then((e=>e.data.success?(a({type:WN,payload:e.data.data}),a(sr(`Instructor ${t.charAt(0).toUpperCase()+t.slice(1)}`,!0,"success")),e):(a(sr(e.data.data,!0,"error")),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},XN=(e,t)=>async a=>{try{return nn({action:"academy/update_instructor_status",ID:e,status:t}).then((e=>e.data.success?(a({type:YN,payload:e.data.data}),a(sr(`Instructor ${t.charAt(0).toUpperCase()+t.slice(1)}`,!0,"success")),e):(a(sr(e.data.data,!0,"error")),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},JN=e=>t=>{t({type:KN,payload:e})},ek={data:Zc().object};function tk({data:t,title:a,closeModal:n}){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(fd,{isOpen:!0,onRequestClose:n,title:a,suffix:"user-details",size:"medium",isSmallAvailable:!1},(0,e.createElement)("div",{className:"academy-user-details__info-list"},t?.meta&&t?.meta?.length?(0,e.createElement)(e.Fragment,null,t?.meta.map(((t,a)=>(0,e.createElement)("div",{className:"academy-user-details__info-list--item",key:a},(0,e.createElement)("span",{className:"academy-user-details-item__label"},t.label),(0,e.createElement)("span",null,"-"),(0,e.createElement)("span",{className:"academy-user-details-item__value"},t.value))))):(0,e.createElement)("span",null,(0,W.__)("No Details Available")))))}tk.propTypes=ek,tk.defaultProps={data:{}};const ak=[{value:"all",label:"All"},{value:"approved",label:"Approved"},{value:"pending",label:"Pending"}],nk=()=>{const a=An((e=>e.instructors)),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null),h=zn(),y=P(),_=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),g=_.get("status"),b=_.get("perPage"),v=_.get("search"),[E,w]=(0,e.useState)(g||"all"),x=(e="",t="")=>{let a=`${_a}admin.php?page=academy-instructors`;if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}y(a)},N=[..."trash"!==E?[{suffix:"publish",label:(0,W.__)("Approve","academy"),preset:"transparent",onClick:()=>l({value:"approved",message:(0,W.__)("Are you sure, you want to approve these items?","academy")})},{suffix:"draft",label:(0,W.__)("Pending","academy"),preset:"transparent",onClick:()=>l({value:"pending",message:(0,W.__)("Are you sure, you want to pending these items?","academy")})},{suffix:"delete",label:(0,W.__)("Remove","academy"),preset:"transparent",onClick:()=>l({value:"remove",message:(0,W.__)("Are you sure, you want to remove these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!a.data||a.data&&a.data.length<=1)&&(r(!0),h(ZN(E)).then((()=>{r(!1)})))}),[]),(0,e.useEffect)((()=>{x(g,v)}),[g,v]);const k=()=>{s([]),l({}),m(!0),u(!1)};t().useMemo((()=>{var e;c?"remove"===(e=o.value)?(i.forEach((t=>{h(XN(t.ID,e)).then((()=>{r(!1)}))})),k()):i.forEach((t=>{h(QN(t.ID,e)).then((()=>{r(!1)})),k()})):k()}),[c]);const S=(e,t)=>{"remove"===t&&window.confirm((0,W.__)("Are you sure?","academy"))?(r(!0),h(XN(e.ID,t)).then((()=>{r(!1)}))):"remove"!==t&&(r(!0),h(QN(e.ID,t)).then((()=>{r(!1)})))},C=(e=1,t=10)=>{r(!0),h(ZN("any",e,t)).then((()=>{r(!1)}))},O=[{name:(0,W.__)("Name","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("a",{href:t.permalink},an(t))))},{name:(0,W.__)("Email","academy"),cell:e=>e.user_email},{name:(0,W.__)("Total Courses","academy"),cell:e=>e.total_courses},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.instructor_status,options:{items:[{value:"approved",label:(0,W.__)("Approve","academy")},{value:"pending",label:(0,W.__)("Pending","academy")}]},onChangeHandler:e=>{h(QN(t.ID,e))}})},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"link",link:t.permalink,label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"})},{type:"button",label:(0,W.__)("Details","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--details"}),onClick:()=>(e=>{f(e)})(t)},{type:"button",label:(0,W.__)("Approve","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--approve"}),onClick:()=>S(t,"approved")},{type:"button",label:(0,W.__)("Pending","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--pending"}),onClick:()=>S(t,"pending")},{type:"button",label:(0,W.__)("Remove","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>S(t,"remove")}]}))}],I=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},ak.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===E?"is-active":""} `,key:a,onClick:()=>{var e;w(t.value),e=t.value,r(!0),x(e),h(ZN(e,1,b)).then((()=>{r(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Instructors","academy"),onSearchHandler:e=>{r(!0),h(ZN(E,1,10,e)).then((()=>{r(!1),x(g,e)}))},defaultValue:v||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[E,v]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:O,data:a?.data?a?.data:[],showSubHeader:!0,subHeaderComponent:I,isRowSelectable:!0,noDataText:(0,W.__)("No instructor data was found to see the available list here."),showColumnFilter:!0,getSelectRowValue:e=>{s(e),m(!1)},showPagination:!0,onChangePage:(e=1)=>{h(JN(e)),C(e)},onChangeItemsPerPage:(e,t)=>{h(JN(t)),C(t,e),x(g)},totalItems:a?.totalItems,totalRows:a?.data?.length,dataFetchingStatus:n,resetSelected:d,rowsPerPage:b,suffix:"instructors"}),i.length>0&&(0,e.createElement)(Pf,{actionButtons:N,itemsLength:i?.length,confirmHandler:u,isActionSelected:o,resetHandler:k}),p&&(0,e.createElement)(tk,{data:p,title:(0,W.__)("Instructor Details","academy"),closeModal:()=>f(null)}))},rk="fetch_all_students",ik="register_student",sk="delete_student",ok="update_student_current_page",lk=(e=1,t=10,a="")=>async n=>{try{let r={page:e,per_page:t};return a&&(r={...r,search:a}),await nn({action:"academy/get_all_students",...r}).then((e=>(n({type:rk,payload:{data:e.data.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e)))}catch(e){var r;n(sr(null!==(r=e?.response?.data?.message)&&void 0!==r?r:e?.message,!0,"error"))}},ck=({ID:e})=>async t=>{try{return await nn({action:"academy/remove_student",student_id:parseInt(e)}).then((e=>(e.data.success?(t({type:sk,payload:e.data.data}),t(sr((0,W.__)("Student removed successfully","academy"),!0,"success"))):t(sr(e.data.data,!0,"error")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},uk=e=>t=>{t({type:ok,payload:e})},dk={label:Zc().string,type:Zc().string,isOpenModal:Zc().func,setImportOpen:Zc().func,info:Zc().string},mk={label:(0,W.__)("Bulk Import","academy"),type:"",info:"Please ensure your CSV file includes the <strong>'email'</strong> field as it is required for a successful import. The <strong>'first_name'</strong>, <strong>'last_name'</strong>, <strong>'username'</strong> and <strong>'password'</strong> fields are optional. Thank you!",isOpenModal:()=>{},setImportOpen:()=>{}};function pk({label:a,type:n,isOpenModal:r,setImportOpen:i,info:s}){const[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)([]),[d,m]=(0,e.useState)(!1),p=zn();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-enrollment-teaser"},(0,e.createElement)(lu,{type:"button",suffix:Sa?"import":"disabled",preset:"border-purple",size:"sm",onClick:()=>{Sa?(l(!0),i(!0)):(r(!1),p(au(!0)))},label:a,isPro:!!Sa})),(0,e.createElement)(zf,{title:a,isOpen:o,onRequestClose:()=>(l(!1),void i(!1)),submitButtonLabel:(0,W.__)("Import Now","academy"),suffix:"bulk-import",size:"small",isEnabledHeader:!1,formik:{enableReinitialize:!0,initialValues:{upload_file:""},onSubmit:(e,t)=>{if(t.setSubmitting(!0),!d)return p(sr((0,W.__)("Please select a file before import.","academy"),!0,"error")),void t.setSubmitting(!1);u([]),nn({action:"academy_pro/admin/bulk_"+n,upload_file:d},!0).then((e=>{t.setSubmitting(!1),t.resetForm({}),m(!1),e.data.success?(u(e.data.data),p(lk()),p(sr((0,W.__)("Successfully Imported"),!0,"success"))):p(sr(e?.data?.data,!0,"error"))}))}}},(0,e.createElement)("div",{className:"academy-import"},(0,e.createElement)("h4",{className:"academy-import__details"},(0,e.createElement)("div",{className:"academy-import__details__linear"},(0,e.createElement)("span",{className:"academy-icon academy-icon--upload-two"}))," ",(0,W.__)("Support: CSV","academy")),(0,e.createElement)(gN,{setUploadFileHandler:m,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--upload-two"})})),c.length>0&&(0,e.createElement)("div",{className:"academy-import-response"},(0,e.createElement)("p",{className:"academy-import-response__title"},(0,W.__)("Imported Data List","academy")),(0,e.createElement)(e.Fragment,null,c.map(((t,a)=>(0,e.createElement)("p",{className:"academy-import-response__item",key:a},(0,e.createElement)("span",null,t.email),(0,e.createElement)("span",null,t.message)))))),(0,e.createElement)("p",{className:"academy-info",dangerouslySetInnerHTML:{__html:s}})))}pk.propTypes=dk,pk.defaultProps=mk;const fk=({isOpenModal:t,modalOpen:a,onRequestClose:n,title:r,type:i})=>{const[s,o]=(0,e.useState)(!1),l=zn();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{type:"button",preset:"purple",onClick:()=>t(!0),label:r}),(0,e.createElement)(zf,{title:(0,e.createElement)(e.Fragment,null,r,(0,e.createElement)(pk,{type:"import_"+i,isOpenModal:t,setImportOpen:o})),isOpen:a,onRequestClose:n,submitButtonLabel:r,suffix:s?"registration-form-hidden":"registration-form",size:"small",formik:{enableReinitialize:!1,initialValues:{type:i,first_name:"",last_name:"",username:"",email:"",password:""},onSubmit:(e,a)=>{a.setSubmitting(!0),""===e.first_name||""===e.last_name?(l(sr((0,W.__)("First and Last name field is required","academy"),!0,"error")),a.setSubmitting(!1)):""===e.email?(l(sr((0,W.__)("Email is required","academy"),!0,"error")),a.setSubmitting(!1)):""===e.password?(l(sr((0,W.__)("Password is required","academy"),!0,"error")),a.setSubmitting(!1)):""===e.username?(l(sr((0,W.__)("Username is required","academy"),!0,"error")),a.setSubmitting(!1)):"student"===i?l((e=>async t=>{try{return await nn({action:"academy/register_student",...e}).then((e=>(e.data.success?(t({type:ik,payload:e.data.data.data}),t(sr((0,W.__)("Student registered successfully","academy"),!0,"success"))):t(sr(e.data.data,!0,"error")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((e=>{e.data.success?(a.setSubmitting(!1),t(!1)):a.setSubmitting(!1)})):"instructor"===i&&l((e=>async t=>{try{return await nn({action:"academy/register_instructor",...e}).then((e=>(e.data.success?(t({type:GN,payload:e.data.data.data}),t(sr((0,W.__)("Instructor registered successfully","academy"),!0,"success"))):t(sr(e.data.data,!0,"error")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((e=>{e.data.success?(a.setSubmitting(!1),t(!1)):a.setSubmitting(!1)}))}}},(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-group-fields"},(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"first_name",className:"academy-form-group__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("First Name","academy"))),(0,e.createElement)(bp,{type:"text",className:"academy-input",name:"first_name",id:"first_name",placeholder:(0,W.__)("Enter first name","academy")})),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"last_name",className:"academy-form-group__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Last Name","academy"))),(0,e.createElement)(bp,{type:"text",className:"academy-input",name:"last_name",id:"last_name",placeholder:(0,W.__)("Enter last name","academy")}))),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"username",className:"academy-form-group__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("User Name","academy"))),(0,e.createElement)(bp,{type:"text",className:"academy-input",name:"username",id:"username",placeholder:(0,W.__)("Enter your username","academy")})),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"email",className:"academy-form-group__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Email","academy"))),(0,e.createElement)(bp,{type:"text",className:"academy-input",name:"email",id:"email",placeholder:(0,W.__)("Enter your email","academy")})),(0,e.createElement)("div",{className:"academy-form-group"},(0,e.createElement)("label",{htmlFor:"password",className:"academy-form-group__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Password","academy"))),(0,e.createElement)(bp,{type:"text",className:"academy-input",name:"password",id:"password",placeholder:(0,W.__)("Enter your password","academy")})))))},hk=function(){const[a,n]=(0,e.useState)(!1);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("All Instructors","academy")),(0,e.createElement)(nm,{filterText:["instructor"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Instructors","academy")},(0,e.createElement)(fk,{isOpenModal:n,onRequestClose:()=>{n(!1)},modalOpen:a,title:(0,W.__)("Add Instructor","academy"),type:"instructor"})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--instructors"},(0,e.createElement)(nk,null)))},yk=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}],_k=a=>{const{lessonFormOpenHandler:n}=a,r=An((e=>e.lessons)),i=zn(),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)({}),[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1),y=P(),_=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),g=_.get("status"),b=_.get("perPage"),v=_.get("search"),[E,w]=(0,e.useState)(g||"all"),x=(e="",t="")=>{let a=Ca?`${_a}admin.php?page=academy-lessons`:"/dashboard/lessons?";if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}y(a)},N=[..."trash"!==E?[{suffix:"trash",label:(0,W.__)("Trash","academy"),onClick:()=>c({value:"trash",message:(0,W.__)("Are you sure, you want to move these item to trash!","academy")})}]:[],..."trash"===E?[{suffix:"restore",label:(0,W.__)("Restore","academy"),onClick:()=>c({value:"restore",message:(0,W.__)("Are you sure, you want to restore these items?","academy")})},{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>c({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!r.data||r.data&&r.data.length<=1)&&(h(!0),i(SE(E)).then((()=>{h(!1)})))}),[]),(0,e.useEffect)((()=>{x(g,v)}),[g,v]);const k=()=>{o([]),c({}),p(!0),d(!1)};t().useMemo((()=>{var e;u?(e=l.value,"trash"!==E&&"trash"===e?(s.forEach((e=>{var t;i(NE(e.ID,{...e,lesson_status:"trash",lesson_content:null!==(t=e?.lesson_content?.raw)&&void 0!==t?t:""}))})),k()):"restore"===e?(s.forEach((e=>{i(CE({...e,lesson_status:"draft"}))})),k()):s.forEach((e=>{i(kE(e)),k()}))):k()}),[u]);const S=(e=1,t=10)=>{h(!0),i(SE("all",e,t)).then((()=>{h(!1)}))},C=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{onClick:()=>n(t),className:"academy-table-title",role:"presentation"},cn(t.lesson_title,30)))},{name:(0,W.__)("Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.lesson_date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.lesson_date).format("h:mm A")))},{name:(0,W.__)("Author","academy"),cell:t=>(0,e.createElement)("span",null,t.author_name)},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.lesson_status,options:{items:[{label:(0,W.__)("Published","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}]},onChangeHandler:e=>{var a;const n={...t,lesson_status:e,lesson_content:null!==(a=t?.lesson_content?.raw)&&void 0!==a?a:""};i(NE(n.ID,n))}})},{name:(0,W.__)("Action","academy"),cell:t=>{const a="trash"!==t.lesson_status?[{type:"button",label:(0,W.__)("Trash","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{var e;return i(NE(t.ID,{...t,lesson_status:"trash",lesson_content:null!==(e=t?.lesson_content?.raw)&&void 0!==e?e:""}))}}]:[],r="trash"===t.lesson_status?[{type:"button",label:(0,W.__)("Restore","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>i(CE({...t,lesson_status:"draft"}))},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{var e;"trash"!==(e=t).lesson_status?i(CE({...e,lesson_status:"draft"})):window.confirm((0,W.__)("Are you sure you want to permanently delete selected lessons?","academy"))&&i(kE(e))}}]:[];return(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Edit","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t)},{type:"button",label:(0,e.createElement)("span",null,(0,e.createElement)("span",null,(0,W.__)("Duplicate","academy")),!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--copy-two"}),onClick:()=>{return Sa?void nn({action:"academy_pro/duplicate_lesson",lesson_id:(e=t).id?e.id:e.ID}).then((e=>{e.data.success&&(i(sr((0,W.__)("Lesson Duplicated","academy"),!0,"success")),h(!0),i(SE("all")).then((()=>{h(!1)})))})):i(au(!0));var e}},...a,...r]}))}}],O=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},yk.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===E?"is-active":""} `,key:a,onClick:()=>{var e;w(t.value),e=t.value,h(!0),x(e),i(SE(e,1,r?.itemPerPage)).then((()=>{h(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Lesson","academy"),onSearchHandler:e=>{h(!0),i(SE(E,1,10,e)).then((()=>{x(g,e),h(!1)}))},defaultValue:v||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[E,v]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:C,data:r?.data?r?.data:[],showSubHeader:!0,noDataText:(0,W.__)("Please, create lessons to see the available list here."),subHeaderComponent:O,isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{o(e),p(!1)},showPagination:!0,onChangePage:e=>{i((e=>t=>{t({type:wE,payload:e})})(e)),S(e,r?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{var a;i((a=e,e=>{e({type:xE,payload:a})})),S(t,e),x(g)},totalItems:r?.totalItems,totalRows:r?.data?.length,dataFetchingStatus:f,resetSelected:m,rowsPerPage:r?.itemPerPage?r?.itemPerPage:b,suffix:"lesson"}),s.length>0&&(0,e.createElement)(Pf,{actionButtons:N,itemsLength:s?.length,confirmHandler:d,isActionSelected:l,resetHandler:k}))},gk=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("All Lessons","academy")),(0,e.createElement)(nm,{filterText:["lesson"]})),label:(0,W.__)("All Lessons","academy")}),(0,e.createElement)(bm,{heading:(0,W.__)("All Lessons","academy")},(0,e.createElement)(lu,{type:"button",onClick:()=>{r(!1),a(!0)},label:(0,W.__)("Add New Lesson","academy")})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--lessons"},(0,e.createElement)(_k,{lessonFormOpenHandler:(e=null)=>{e&&r(e),a(!0)}}),t&&(0,e.createElement)(HE,{isOpenModal:t,onRequestClose:()=>{r(!1),a(!1)},formData:n})))},bk="update_qa",vk="delete_qa",Ek="fetch_all_qa",wk=(e="any",t=1,a=10,n="")=>async r=>{try{let i={status:"all"===e?"any":e,parent:0,page:t,per_page:a};return n&&(i={...i,search:n}),await Za.get(pa+"question_answer",{params:i}).then((e=>(r({type:Ek,payload:{data:e.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e)))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},xk=e=>async t=>{try{return await nn({action:"academy/delete_qa",id:e.ID,force:!0}).then((e=>(t({type:vk,payload:e.data?.data}),t(sr((0,W.__)("Q&A Removed!","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}};function Nk({question:a,closeModal:n}){const[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(!1),l=zn();return(0,e.useEffect)((()=>{Za.get(`${pa}question_answer`,{params:{status:"any",per_page:100,parent:parseInt(a?.id)}}).then((e=>{o(e?.data)}))}),[a?.id]),(0,e.createElement)(t().Fragment,null,(0,e.createElement)(fd,{title:a?.meta?.question_title?a?.meta?.question_title:" ",isOpen:!0,onRequestClose:n,suffix:"qa",size:"medium",isSmallAvailable:!1},s?(0,e.createElement)("div",{className:"academy-backend-qa academy-backend-qa-wrapper "},(0,e.createElement)("div",{className:"academy-qa-wrapper"},(0,e.createElement)("div",{className:"academy-backend-qa__current-user-question"},(0,e.createElement)("div",{className:"academy-qa academy-qa__user"},(0,e.createElement)("div",{className:"academy-qa__meta"},(0,e.createElement)("div",{className:"academy-qa-text-avator"},a.author_name.substring(0,1)),(0,e.createElement)("div",{className:"academy-qa-user-info"},(0,e.createElement)("span",{className:"academy-tooltip__admin-text"},a.author_name),(0,e.createElement)("p",{className:"academy-qa-time"},iu()(a.date).fromNow()))),(0,e.createElement)("div",{className:`academy-qa__body ${parseInt(ka)===parseInt(a.author)&&"academy-current-user-bacground"}`},(0,e.createElement)("h3",{className:"academy-qa-title"},a.meta.question_title),(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:a.content?.rendered}})))),s&&s.reverse().filter((e=>parseInt(e.parent)===parseInt(a.id))).map(((t,a)=>(0,e.createElement)("div",{className:parseInt(ka)===parseInt(t.author)?"academy-backend-qa__admin-answer":"academy-backend-qa__current-user-question",key:a},(0,e.createElement)("div",{className:`academy-qa ${parseInt(ka)!==parseInt(t.author)&&"academy-qa__user"}`,key:a},(0,e.createElement)("div",{className:"academy-qa__meta"},(0,e.createElement)("div",{className:"academy-qa-text-avator"},t.author_name.substring(0,1)),(0,e.createElement)("div",{className:"academy-qa-user-info"},(0,e.createElement)("span",{className:"academy-tooltip__admin-text"},t.author_name),(0,e.createElement)("p",{className:"academy-qa-time"},iu()(t.date).fromNow()))),(0,e.createElement)("div",{className:`academy-qa__body ${parseInt(ka)===parseInt(t.author)&&"academy-current-user-bacground"}`},(0,e.createElement)("h3",{className:"academy-qa-title"},t.meta.question_title),(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content.rendered}}))))))),(0,e.createElement)(fp,{initialValues:{content:""},onSubmit:(e,{resetForm:t})=>{if(i(!0),""===e.content)i(!1),l(sr((0,W.__)("Answer can not be empty","academy"),!0,"error"));else{const n={post:a.post,status:"answered",author_user_agent:"AcademyLMS",parent:a.id,...e};nn({action:"academy/insert_qa",...n}).then((e=>{var t;i(!1),l((t={id:e.data?.data?.parent,status:"answered"},async e=>{try{return await nn({action:"academy/update_qa",...t}).then((t=>(e({type:bk,payload:t.data?.data}),t)))}catch(t){var a;e(sr(null!==(a=t?.response?.data?.message)&&void 0!==a?a:t?.message,!0,"error"))}})),o([e.data?.data,...s]),l(sr((0,W.__)("Question Answered","academy"),!0,"success"))})),t()}}},(0,e.createElement)(vp,{className:"academy-anwser-form"},(0,e.createElement)("p",null,(0,e.createElement)(bp,{id:"content",name:"content",as:"textarea",placeholder:(0,W.__)("Answer","academy")})),(0,e.createElement)("p",null,(0,e.createElement)(lu,{label:(0,W.__)("Submit","academy"),preset:"light-purple",type:"submit",isLoading:r}))))):(0,e.createElement)(wd,null)))}const kk=[{value:"all",label:"All"},{value:"answered",label:"Answered"},{value:"waiting_for_answer",label:"Pending"}],Sk=()=>{const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),s=An((e=>e.qa)),[o,l]=(0,e.useState)(s.status?s.status:"all"),[c,u]=(0,e.useState)(""),[d,m]=(0,e.useState)([]),[p,f]=(0,e.useState)({}),[h,y]=(0,e.useState)(!1),[_,g]=(0,e.useState)(!1),b=[..."trash"!==o?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>f({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]],v=zn();(0,e.useEffect)((()=>{(!s?.data||s?.data&&s?.data?.length<=1||o)&&(i(!0),v(wk(o)).then((()=>{i(!1)})))}),[o]);const E=()=>{m([]),f({}),g(!0),y(!1)};t().useMemo((()=>{h?(p.value,d.forEach((e=>{v(xk({ID:e.id?e.id:e.ID}))})),E()):E()}),[h]);const w=(e=1,t=10)=>{i(!0),v(wk("any",e,t)).then((()=>{i(!1)}))},x=e=>{u(e),n(!0)},N=[{name:(0,W.__)("Question","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",onClick:()=>x(t),dangerouslySetInnerHTML:{__html:cn(t.meta.question_title,30)},role:"presentation"}),(0,e.createElement)("div",{className:"academy-table-title",dangerouslySetInnerHTML:{__html:cn(t.content.rendered,30)}}))},{name:(0,W.__)("Course","academy"),cell:t=>(0,e.createElement)("a",{href:t._post.permalink,target:"_blank",rel:"noreferrer"},cn(t._post.title,12))},{name:(0,W.__)("Students","academy"),cell:t=>(0,e.createElement)("span",null,t.author_name)},{name:(0,W.__)("Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.date).format("h:mm A")))},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)("div",{className:`academy-${t.status}`},"waiting_for_answer"===t.status?(0,W.__)("Waiting For Answer","academy"):pn(t.status))},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:"waiting_for_answer"===t.status?(0,W.__)("Give answer","academy"):(0,W.__)("Details","academy"),hasBorder:!0,icon:"waiting_for_answer"===t.status?(0,e.createElement)("span",{className:"academy-icon academy-icon--correct"}):(0,e.createElement)("span",{className:"academy-icon academy-icon--details"}),suffix:"waiting_for_answer"===t.status?"give-answer":"given-answer",onClick:()=>x(t)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure you want to permanently delete selected Question?","academy"))&&v(xk({ID:e.id?e.id:e.ID})));var e}}]}))}],k=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},kk.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===o?"is-active":""} `,key:a,onClick:()=>l(t.value)},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Q&A"),onSearchHandler:e=>{i(!0),v(wk("any",1,10,e)).then((()=>{i(!1)}))}}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[o]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:N,data:s?.data?s?.data:[],showSubHeader:!0,subHeaderComponent:k,noDataText:(0,W.__)("No data was found to see the available list here."),isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{m(e),g(!1)},showPagination:!0,onChangePage:(e=1)=>{v((e=>t=>{t({type:"update_current_page",payload:e})})(e)),w(e,s?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{var a;v((a=e,e=>{e({type:"update_qa_item_per_page",payload:a})})),w(t,e)},totalItems:s?.totalItems,totalRows:s?.data?.length,dataFetchingStatus:r,resetSelected:_,suffix:"qa"}),d.length>0&&(0,e.createElement)(Pf,{actionButtons:b,itemsLength:d?.length,confirmHandler:y,isActionSelected:p,resetHandler:E}),a&&(0,e.createElement)(Nk,{question:c,closeModal:()=>{u(""),n(!1)}}))},Ck=function(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Question & Answer","academy")),(0,e.createElement)(nm,{filterText:["question","q&a"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Question & Answer","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--qa"},(0,e.createElement)(Sk,null)))},Ok="update_quiz_attempt",Ik="delete_quiz_attempt",Ak="fetch_all_quiz_attempts",Tk=(e="publish",t=1,a=10,n="")=>async r=>{try{let i={page:t,per_page:a,search:n};"all"!==e&&(i={...i}),n&&(i={...i,search:n});const s=pa+"quiz_attempts";return await Za.get(s,{params:i}).then((t=>(r({type:Ak,payload:{data:t.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}}),t)))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},Pk=(e,t,a=0)=>async n=>{const r=new FormData;return r.append("action","academy_quizzes/get_student_quiz_attempt_details"),r.append("security",ua),r.append("attempt_id",e),r.append("course_id",t),a&&r.append("user_id",a),await At.post(ma,r).then((e=>e),(e=>{var t;n(sr(null!==(t=e?.response?.data?.message)&&void 0!==t?t:e?.message,!0,"error"))}))},Mk=e=>async t=>{try{const a=pa+"quiz_attempts",n=await Za.post(`${a}/${parseInt(e.ID)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:Ik,payload:n.data}),t(sr((0,W.__)("Quiz Attempt removed!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},Dk=t=>{const{data:a,setAttemptDataFetching:n,dataFetchingStatus:r}=t,i=zn(),s=e=>{var t;n(!0),i((t=e,async e=>await nn({action:"academy_quizzes/quiz_answer_manual_review",answer_id:t.attempt_answer_id,attempt_id:t.attempt_id,question_id:t.question_id,quiz_id:t.quiz_id,user_id:t.user_id,mark_as:t.mark_as}).then((t=>(e({type:Ok,payload:t.data.data}),t)),(t=>{var a;e(sr(null!==(a=t?.response?.data?.message)&&void 0!==a?a:t?.message,!0,"error"))})))).then((()=>{i(sr((0,W.__)("Answer Reviewed","academy"),!0,"success")),n(!1)}))},o=[{name:(0,W.__)("Type","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,(e=>{let t="";switch(e){case"trueFalse":t=(0,W.__)("True/False","academy");break;case"singleChoice":t=(0,W.__)("Single Choose","academy");break;case"multipleChoice":t=(0,W.__)("Multiple Choose","academy");break;case"imageAnswer":t=(0,W.__)("Image Answer","academy");break;case"shortAnswer":t=(0,W.__)("Short Answer","academy");break;case"fillInTheBlanks":t=(0,W.__)("Fill In The Blanks","academy")}return t})(t.question_type))},{name:(0,W.__)("Question","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.question_title)},{name:(0,W.__)("Correct Answer","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-quiz-table-answers-items"},Array.isArray(t?.correct_answer)?(0,e.createElement)(e.Fragment,null,t?.correct_answer.map(((t,a)=>(0,e.createElement)("div",{className:"academy-quiz-table-answers-item",key:a},t?.image_url&&(0,e.createElement)("img",{width:"50",src:t?.image_url,alt:(0,W.__)("correct answer image","academy")}),(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:t?.answer_title}}))))):(0,e.createElement)("div",{className:"academy-quiz-table-answers-item"},t?.correct_answer?.id&&(0,e.createElement)("img",{width:"50",src:t?.correct_answer?.image_url,alt:(0,W.__)("correct answer image","academy")}),(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:t?.correct_answer?.answer_title}})))},{name:(0,W.__)("Given Answer","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-quiz-table-answers-items"},t?.given_answer?.map(((t,a)=>(0,e.createElement)("div",{className:"academy-quiz-table-answers-item",key:a},t?.image_url&&(0,e.createElement)("img",{width:"50",src:t?.image_url,alt:(0,W.__)("correct answer image","academy")}),(0,e.createElement)("p",null,t.answer_title)))))},{name:(0,W.__)("Answer","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",{className:"academy-"+(t.is_correct?"success":"failed")},t.is_correct?(0,W.__)("Correct","academy"):(0,W.__)("Incorrect","academy"))},{name:(0,W.__)("Review","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-quiz-attempt-modal__table-review",style:{display:"flex",gap:"10px"}},(0,e.createElement)(lu,{onClick:()=>s({...t,mark_as:"correct"}),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--correct"}),iconPosition:"center",preset:"light-purple",size:"sm",suffix:"correct"}),(0,e.createElement)(lu,{onClick:()=>s({...t,mark_as:"incorrect"}),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),iconPosition:"center",suffix:"incorrect",preset:"light-red",size:"sm"}))}];return(0,e.createElement)(Bd,{columns:o,noDataText:(0,W.__)("No data was found to see the available list here."),data:a?[{...a}]:[],showSubHeader:!1,suffix:"quizzes-answer",dataFetchingStatus:r})},Fk=({data:t})=>{const a=[{name:(0,W.__)("Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,t.attempt_started_at.split(" ")[0])},{name:(0,W.__)("Questions","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Total:","academy"))," ",t?.total_questions),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Answered:","academy"))," ",t.total_answered_questions))},{name:(0,W.__)("Marks","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Total:","academy"))," ",t.total_marks),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Earned:","academy"))," ",t.earned_marks))},{name:(0,W.__)("Answers","academy"),sortable:!0,cell:t=>(0,e.createElement)("span",null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Correct:","academy"))," ",t.attempt_info?.total_correct_answers||0),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Incorrect:","academy"))," ",(t.total_answered_questions||0)-(t.attempt_info?.total_correct_answers||0)))},{name:(0,W.__)("Result","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-quiz"},(0,e.createElement)("span",{className:`academy-${t?.attempt_status}`},pn(t?.attempt_status)))},{name:(0,W.__)("Final Grade","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("div",{className:"academy-grade-color",style:{background:t?.grade_details?.grade_config?.grade_color}}),(0,e.createElement)("span",null,t?.grade_details?.grade_name," (",t.grade_details?.user_grade_point,")")))}];return(0,e.createElement)(Bd,{columns:a,noDataText:(0,W.__)("No data was found to see the available list here."),data:t||[],showSubHeader:!1,suffix:"quizzes-attempt"})},Rk={name:Zc().string,value:Zc().string,attemptId:Zc().number};function Lk({name:a,value:n,attemptId:r}){const i=zn();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(fp,{initialValues:{attempt_id:r,[a]:n},onSubmit:(e,t)=>{t.setSubmitting(!0),nn({action:"academy_quizzes/update_quiz_attempt_instructor_feedback",...e}).then((e=>{t.setSubmitting(!1),200===e.status&&i(sr((0,W.__)("Feedback Updated","academy"),!0,"success"))}))}},(({isSubmitting:t})=>(0,e.createElement)(vp,{className:"academy-instructor__feedback"},(0,e.createElement)(bp,{className:"academy-instructor__field",id:"message",as:"textarea",name:a,placeholder:(0,W.__)("Feedback")}),(0,e.createElement)(lu,{type:"submit",label:(0,W.__)("Update Feedback","academy"),isLoading:t})))))}Lk.propTypes=Rk,Lk.defaultProps={};const qk={attempt:Zc().object};function jk({attempt:t,attemptModal:a,closeModal:n}){const[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)({}),[l,c]=(0,e.useState)(!1),u=t.attempt_info,d=zn();return(0,e.useEffect)((()=>{i(!0),d(Pk(t.attempt_id,t.course_id,t.user_id)).then((e=>{o(...e.data.data),i(!1)}))}),[t,l]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(fd,{isOpen:!1!==a,onAfterOpen:function(){i(!0),d(Pk(t.attempt_id,t.course_id,t.user_id)).then((e=>{o(...e.data.data),i(!1)}))},onRequestClose:n,isSmallAvailable:!1,title:(0,W.__)("Attempt Results","academy"),suffix:"quiz-attempt-details",size:"medium"},(0,e.createElement)("div",{className:"academy-quiz-attempt-details"},(0,e.createElement)("h3",{className:"academy-quiz-attempt-entry-title"},(0,W.__)("Attempt Details","academy")),(0,e.createElement)(Fk,{data:[{...t}],dataFetchingStatus:r})),(0,e.createElement)("div",{className:"academy-quiz-attempt-details"},(0,e.createElement)("h3",{className:"academy-quiz-attempt-entry-title"},(0,W.__)("Attempt Answers Details","academy")),(0,e.createElement)(Dk,{data:s,progressPending:r,setAttemptDataFetching:c,dataFetchingStatus:r})),(0,e.createElement)("div",{className:"academy-quiz-attempt-feedback"},(0,e.createElement)("h3",{className:"academy-quiz-attempt-entry-title"},(0,W.__)("Instructor Feedback","academy")),(0,e.createElement)(Lk,{attemptId:t.attempt_id,name:"instructor_feedback",value:u?.instructor_feedback}))))}jk.propTypes=qk,jk.defaultProps={attempt:{}};const zk=()=>{const[a,n]=(0,e.useState)(!0),r=An((e=>e.quiz_attempts)),[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),h=zn(),y=[..."trash"!==r?.status?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>l({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!r.data||r.data&&r.data.length<=1)&&(n(!0),h(Tk()).then((()=>{n(!1)})))}),[]);const _=()=>{s([]),l({}),m(!0),u(!1)};t().useMemo((()=>{c?(i.forEach((e=>{h(Mk({ID:e.attempt_id}))})),_()):_()}),[c]);const g=(e=1,t=10)=>{n(!0),h(Tk("any",e,t)).then((()=>{n(!1)}))},b=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Quiz Attempts","academy"),onSearchHandler:e=>{n(!0),h(Tk("any",1,10,e)).then((()=>{n(!1)}))}}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[]),v=[{name:(0,W.__)("Quiz Info","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-list-table-column academy-list-table-column--quiz-info"},(0,e.createElement)("p",{className:"academy-list-table-column__date"},t?.attempt_started_at?.split(" ")[0]),(0,e.createElement)("p",{className:"academy-list-table-column__heading"},(0,e.createElement)("strong",null,cn(t?._quiz?.title))),(0,e.createElement)("p",{className:"academy-list-table-column__sub-heading"},(0,e.createElement)("strong",null,(0,W.__)("Student:","academy"))," ",(0,e.createElement)("a",{href:t?._user?.admin_permalink},cn(an(t?._user),10))))},{name:(0,W.__)("Course","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-list-table-column academy-list-table-column--quiz-course"},(0,e.createElement)("p",{className:"academy-list-table-column__course-title"},(0,e.createElement)("strong",null,(0,e.createElement)("a",{href:t?._course?.permalink,target:"_blank",rel:"noreferrer"},cn(t?._course?.title,30)))))},{name:(0,W.__)("Questions","academy"),cell:t=>(0,e.createElement)("span",null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Total:","academy"))," ",t?.total_questions),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Answered:","academy"))," ",t?.total_answered_questions))},{name:(0,W.__)("Answers","academy"),cell:t=>(0,e.createElement)("span",null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Correct:","academy"))," ",t.attempt_info?.total_correct_answers||0),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Incorrect:","academy"))," ",(t?.total_answered_questions||0)-(t.attempt_info?.total_correct_answers||0)))},{name:(0,W.__)("Marks","academy"),cell:t=>(0,e.createElement)("span",null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Total:","academy"))," ",t?.total_marks),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Earned:","academy"))," ",t?.earned_marks))},{name:(0,W.__)("Result","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-quiz"},(0,e.createElement)("span",{className:`academy-${t?.attempt_status}`},pn(t?.attempt_status)))},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Details","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--analytics"}),onClick:()=>(e=>{f(e)})(t)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure you want to permanently delete selected Qizzes?","academy"))&&h(Mk({ID:e.attempt_id})));var e}}]}))}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Quiz Attempts","academy")),(0,e.createElement)(nm,{filterText:["quiz"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Quiz Attempts","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--quiz-attempts"},(0,e.createElement)(Bd,{columns:v,data:r?.data?r?.data:[],noDataText:(0,W.__)("No data is available to show here."),showSubHeader:!0,subHeaderComponent:b,isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{s(e),m(!1)},showPagination:!0,onChangePage:e=>{g(e)},onChangeItemsPerPage:e=>{g(e)},totalItems:r?.totalItems,totalRows:r?.data?.length,dataFetchingStatus:a,resetSelected:d,suffix:"quiz_attempts"}),i.length>0&&(0,e.createElement)(Pf,{actionButtons:y,itemsLength:i?.length,confirmHandler:u,isActionSelected:o,resetHandler:_}),p&&(0,e.createElement)(jk,{attempt:p,closeModal:()=>f(!1)})))},Bk=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}];function Hk({quizFormHandler:a}){const n=An((e=>e.quizzes)),r=zn(),[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),h=P(),y=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),_=y.get("status"),g=y.get("perPage"),b=y.get("search"),[v,E]=(0,e.useState)(_||"all"),w=(e="",t="")=>{let a=Ca?`${_a}admin.php?page=academy-quizzes`:"/dashboard/quizzes?";if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}h(a)},x=[..."trash"!==v?[{suffix:"trash",label:(0,W.__)("Trash","academy"),onClick:()=>l({value:"trash",message:(0,W.__)("Are you sure, you want to move these item to trash!","academy")})}]:[],..."trash"===v?[{suffix:"restore",label:(0,W.__)("Restore","academy"),onClick:()=>l({value:"restore",message:(0,W.__)("Are you sure, you want to restore these items?","academy")})},{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>l({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!n.data||n.data&&n.data.length<=1)&&(f(!0),r(iw(v)).then((()=>{f(!1)})))}),[]),(0,e.useEffect)((()=>{w(_,b)}),[_,b]);const N=()=>{s([]),l({}),m(!0),u(!1)};t().useMemo((()=>{var e;c?(e=o.value,"trash"!==v&&"trash"===e?(i.forEach((e=>{r(rw({ID:e.id?e.id:e.ID}))})),N()):"restore"===e?(i.forEach((e=>{r(aw(e.id))})),N()):i.forEach((e=>{r(nw(e.id)),N()}))):N()}),[c]);const k=(e=1,t=10)=>{f(!0),r(iw("any",e,t)).then((()=>{f(!1)}))},S=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},Bk.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===v?"is-active":""} `,key:a,onClick:()=>{var e;E(t.value),e=t.value,f(!0),w(e),r(iw(e,1,g)).then((()=>{f(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Quiz","academy"),onSearchHandler:e=>{f(!0),r(iw(v,1,10,e)).then((()=>{f(!1),w(_,e)}))},defaultValue:b||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[v,b]),C=e=>{"trash"!==e.status?r(rw({ID:e.id?e.id:e.ID})):window.confirm((0,W.__)("Are you sure you want to permanently delete selected courses?","academy"))&&r(nw(e.id))},O=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{onClick:()=>a(t),className:"academy-table-title",dangerouslySetInnerHTML:{__html:cn(t.title.rendered,30)},role:"presentation"}))},{name:(0,W.__)("Questions Count","academy"),isLabelWidth:!0,cell:t=>(0,e.createElement)("div",null,t?.meta?.academy_quiz_questions?.length)},{name:(0,W.__)("Created","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.date).format("h:mm A")))},{name:(0,W.__)("Author","academy"),cell:t=>(0,e.createElement)("span",null,t?.author_name)},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.status,options:{items:[{label:(0,W.__)("Published","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}]},onChangeHandler:e=>{const a={...t,status:e};r("trash"===e?rw({ID:t.id?t.id:t.ID}):tw(a))}})},{name:(0,W.__)("Action","academy"),cell:t=>{const n="trash"!==t.status?[{type:"button",label:(0,W.__)("Trash","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>C(t)}]:[],i="trash"===t.status?[{type:"button",label:(0,W.__)("Restore","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>{return e=t.id,void r(aw(e));var e}},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>C(t)}]:[];return(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Edit","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>a(t)},{type:"button",label:(0,e.createElement)("span",null,(0,e.createElement)("span",null,(0,W.__)("Duplicate","academy")),!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--copy-two"}),onClick:()=>{return Sa?void nn({action:"academy_pro/duplicate_quiz",quiz_id:(e=t).id?e.id:e.ID}).then((e=>{e.data.success&&(r(sr((0,W.__)("Quiz Duplicated","academy"),!0,"success")),f(!0),r(iw()).then((()=>{f(!1)})))})):r(au(!0));var e}},...n,...i]}))}}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:O,data:n?.data?n?.data:[],showSubHeader:!0,subHeaderComponent:S,isRowSelectable:!0,showColumnFilter:!0,noDataText:(0,W.__)("Please, create quiz to see the available list here."),getSelectRowValue:e=>{s(e),m(!1)},showPagination:!0,onChangePage:e=>{r(sw(e)),k(e,n?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{r(ow(e)),k(t,e),w(_)},totalItems:n?.totalItems,totalRows:n?.data?.length,dataFetchingStatus:p,resetSelected:d,rowsPerPage:n?.itemPerPage?n?.itemPerPage:g,suffix:"quizzes"}),i.length>0&&(0,e.createElement)(Pf,{actionButtons:x,itemsLength:i?.length,confirmHandler:u,isActionSelected:o,resetHandler:N}))}function $k(){const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1);function s(e=null){n(e),i(!0)}return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("All Quizzes","academy")),(0,e.createElement)(nm,{filterText:["quiz"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("All Quizzes","academy")},(0,e.createElement)(lu,{type:"button",onClick:()=>s(),label:(0,W.__)("Add New Quiz","academy")})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--quizzes"},(0,e.createElement)(Hk,{quizFormHandler:s}),(0,e.createElement)(fx,{isOpenQuizForm:r,closeQuizFormModal:function(){n(!1),i(!1)},formData:a})))}Hk.propTypes={},Hk.defaultProps={},$k.propTypes={},$k.defaultProps={};const Vk={title:Zc().string,subtitle:Zc().string,desc:Zc().string,name:Zc().string,resetValue:Zc().string,value:Zc().number};function Uk({title:t,name:a,subtitle:n,desc:r,resetValue:i}){const s=AE().uniqueId(a+"_"),{setFieldValue:o}=ep();return(0,e.createElement)("div",{className:"form-group form-group__color academy-mb-6"},t&&(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("label",{htmlFor:s,className:"academy-title"},t),n&&(0,e.createElement)("span",{className:"academy-sub-title"},n)),(0,e.createElement)("div",{className:"form-body form-body__color"},(0,e.createElement)("div",null,(0,e.createElement)(bp,{className:"color-field",id:s,type:"color",name:a,onChange:e=>o(a,e.target.value)}),(0,e.createElement)(bp,{className:"color-text-field",id:s,type:"text",name:a,onChange:e=>o(a,e.target.value)}),r&&(0,e.createElement)("span",{className:"desc"},r)),(0,e.createElement)(lu,{preset:"transparent",border:"gray",onClick:()=>o(a,i),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"})})))}Uk.propTypes=Vk,Uk.defaultProps={resetValue:"#111"};const Wk=[{icon:"academy-icon academy-icon--build",title:(0,W.__)("Course Archive Style","academy"),desc:(0,W.__)("Shorting or hide filter and manage query settings.","academy"),url:"/wp-admin/customize.php?autofocus[section]=academy_archive_course"},{icon:"academy-icon academy-icon--course-cap",title:(0,W.__)("Course Single Styles","academy"),desc:(0,W.__)("Set course single page spacing and colors.","academy"),url:"/wp-admin/customize.php?autofocus[section]=academy_single_course"},{icon:"academy-icon academy-icon--course",title:(0,W.__)("Learn Page Styles","academy"),desc:(0,W.__)("Set learn page spacing and colors.","academy"),url:"/wp-admin/customize.php?autofocus[section]=academy_learn_page"},{icon:"academy-icon academy-icon--front-dashboard",title:(0,W.__)("Frontend Dashboard Styles","academy"),desc:(0,W.__)("Set frontend dashboard spacing and colors.","academy"),url:"/wp-admin/customize.php?autofocus[section]=academy_frontend_dashboard"}],Gk=()=>{const{values:t}=ep(),a=`\n\t\t:root {\n\t\t\t--academy-primary-color: ${t?.primary_color};\n\t\t\t--academy-secondary-color: ${t?.secondary_color};\n\t\t\t--academy-text-color: ${t?.text_color};\n\t\t\t--academy-border-color: ${t?.border_color};\n\t\t\t--academy-gray-color: ${t?.gray_color};\n\t\t\t--academy-dark-gray-color: #999999;\n\t\t}\n\t`;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Brand","academy")),(0,e.createElement)("style",null,a),(0,e.createElement)(Uk,{name:"primary_color",title:(0,W.__)("Primary Color","academy"),resetValue:"#7b68ee"}),(0,e.createElement)(Uk,{title:(0,W.__)("Secondary Color","academy"),name:"secondary_color",resetValue:"#eae8fa"}),(0,e.createElement)(Uk,{title:(0,W.__)("Text Color","academy"),name:"text_color",resetValue:"#111"}),(0,e.createElement)(Uk,{title:(0,W.__)("Gray Color","academy"),name:"gray_color",resetValue:"#f6f7f9"}),(0,e.createElement)(Uk,{title:(0,W.__)("Border Color","academy"),name:"border_color",resetValue:"#E5E4E6"}),(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Style","academy")),(0,e.createElement)("div",{className:"form-customizer-options"},Wk.map(((t,a)=>(0,e.createElement)("div",{className:"form-customizer-item",key:a},(0,e.createElement)("div",{className:"form-customizer-item__icon"},(0,e.createElement)("span",{className:t.icon})),(0,e.createElement)("h3",{className:"academy-title"},t.title),(0,e.createElement)("p",{className:"academy-sub-title"},t.desc),(0,e.createElement)("a",{href:ya+t.url,type:"button",className:"academy-btn academy-btn--inline-flex"},(0,W.__)("Go To option","academy")," ",(0,e.createElement)("span",{className:"academy-icon academy-icon--arrow-right"})))))))},Yk=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("General","academy")),(0,e.createElement)(PE,{name:"is_enabled_academy_web_font",title:(0,W.sprintf)(
// translators: %s: BrandingName
(0,W.__)("Load %s Font","academy"),qa),subtitle:(0,W.__)("If you want to apply your theme font with your theme own style then disable it.","academy")}),(0,e.createElement)(PE,{name:"is_enabled_academy_login",title:(0,W.sprintf)(
// translators: %s: BrandingName
(0,W.__)("Enable %s Login","academy"),qa),subtitle:(0,W.__)("Switch to the academy login instead of the default WordPress login page.","academy")})),Kk={title:Zc().string,subtitle:Zc().string,desc:Zc().string,name:Zc().string,value:Zc().number};function Zk({title:t,name:a,subtitle:n,desc:r}){const i=AE().uniqueId(a+"_"),{setFieldValue:s}=ep();return(0,e.createElement)("div",{className:"academy-number-container academy-mb-6"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("label",{htmlFor:i,className:"academy-title"},t),n&&(0,e.createElement)("span",{className:"academy-sub-title"},n)),(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)(bp,{className:"academy-input",id:i,type:"number",name:a,min:"0",onChange:e=>s(a,e.target.value)}),r&&(0,e.createElement)("span",{className:"desc"},r)))}function Qk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xu(e,t)}Zk.propTypes=Kk,Zk.defaultProps={};var Xk=a(4890),Jk=t().createContext(null),eS=function(e){e()},tS=function(){return eS},aS={notify:function(){},get:function(){return[]}};function nS(e,t){var a,n=aS;function r(){s.onStateChange&&s.onStateChange()}function i(){a||(a=t?t.addNestedSub(r):e.subscribe(r),n=function(){var e=tS(),t=null,a=null;return{clear:function(){t=null,a=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],a=t;a;)e.push(a),a=a.next;return e},subscribe:function(e){var n=!0,r=a={callback:e,next:null,prev:a};return r.prev?r.prev.next=r:t=r,function(){n&&null!==t&&(n=!1,r.next?r.next.prev=r.prev:a=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}())}var s={addNestedSub:function(e){return i(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(a)},trySubscribe:i,tryUnsubscribe:function(){a&&(a(),a=void 0,n.clear(),n=aS)},getListeners:function(){return n}};return s}var rS="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;const iS=function(a){var n=a.store,r=a.context,i=a.children,s=(0,e.useMemo)((function(){var e=nS(n);return{store:n,subscription:e}}),[n]),o=(0,e.useMemo)((function(){return n.getState()}),[n]);rS((function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,o]);var l=r||Jk;return t().createElement(l.Provider,{value:s},i)};var sS=a(6001),oS=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],lS=["reactReduxForwardedRef"],cS=[],uS=[null,null];function dS(e,t){var a=e[1];return[t.payload,a+1]}function mS(e,t,a){rS((function(){return e.apply(void 0,t)}),a)}function pS(e,t,a,n,r,i,s){e.current=n,t.current=r,a.current=!1,i.current&&(i.current=null,s())}function fS(e,t,a,n,r,i,s,o,l,c){if(e){var u=!1,d=null,m=function(){if(!u){var e,a,m=t.getState();try{e=n(m,r.current)}catch(e){a=e,d=e}a||(d=null),e===i.current?s.current||l():(i.current=e,o.current=e,s.current=!0,c({type:"STORE_UPDATED",payload:{error:a}}))}};return a.onStateChange=m,a.trySubscribe(),m(),function(){if(u=!0,a.tryUnsubscribe(),a.onStateChange=null,d)throw d}}}var hS=function(){return[null,0]};function yS(a,n){void 0===n&&(n={});var r=n,i=r.getDisplayName,s=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,o=r.methodName,l=void 0===o?"connectAdvanced":o,c=r.renderCountProp,u=void 0===c?void 0:c,d=r.shouldHandleStateChanges,m=void 0===d||d,p=r.storeKey,f=void 0===p?"store":p,h=(r.withRef,r.forwardRef),y=void 0!==h&&h,_=r.context,g=void 0===_?Jk:_,b=Hy(r,oS),v=g;return function(n){var r=n.displayName||n.name||"Component",i=s(r),o=cu({},b,{getDisplayName:s,methodName:l,renderCountProp:u,shouldHandleStateChanges:m,storeKey:f,displayName:i,wrappedComponentName:r,WrappedComponent:n}),c=b.pure,d=c?e.useMemo:function(e){return e()};function p(r){var i=(0,e.useMemo)((function(){var e=r.reactReduxForwardedRef,t=Hy(r,lS);return[r.context,e,t]}),[r]),s=i[0],l=i[1],c=i[2],u=(0,e.useMemo)((function(){return s&&s.Consumer&&(0,sS.isContextConsumer)(t().createElement(s.Consumer,null))?s:v}),[s,v]),p=(0,e.useContext)(u),f=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(p)&&Boolean(p.store);var h=f?r.store:p.store,y=(0,e.useMemo)((function(){return function(e){return a(e.dispatch,o)}(h)}),[h]),_=(0,e.useMemo)((function(){if(!m)return uS;var e=nS(h,f?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,f,p]),g=_[0],b=_[1],E=(0,e.useMemo)((function(){return f?p:cu({},p,{subscription:g})}),[f,p,g]),w=(0,e.useReducer)(dS,cS,hS),x=w[0][0],N=w[1];if(x&&x.error)throw x.error;var k=(0,e.useRef)(),S=(0,e.useRef)(c),C=(0,e.useRef)(),O=(0,e.useRef)(!1),I=d((function(){return C.current&&c===S.current?C.current:y(h.getState(),c)}),[h,x,c]);mS(pS,[S,k,O,c,I,C,b]),mS(fS,[m,h,g,y,S,k,O,C,b,N],[h,g,y]);var A=(0,e.useMemo)((function(){return t().createElement(n,cu({},I,{ref:l}))}),[l,n,I]);return(0,e.useMemo)((function(){return m?t().createElement(u.Provider,{value:E},A):A}),[u,A,E])}var h=c?t().memo(p):p;if(h.WrappedComponent=n,h.displayName=p.displayName=i,y){var _=t().forwardRef((function(e,a){return t().createElement(h,cu({},e,{reactReduxForwardedRef:a}))}));return _.displayName=i,_.WrappedComponent=n,Pn()(_,n)}return Pn()(h,n)}}function _S(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function gS(e,t){if(_S(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(t,a[r])||!_S(e[a[r]],t[a[r]]))return!1;return!0}function bS(e){return function(t,a){var n=e(t,a);function r(){return n}return r.dependsOnOwnProps=!1,r}}function vS(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function ES(e,t){return function(t,a){a.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,a){n.mapToProps=e,n.dependsOnOwnProps=vS(e);var r=n(t,a);return"function"==typeof r&&(n.mapToProps=r,n.dependsOnOwnProps=vS(r),r=n(t,a)),r},n}}const wS=[function(e){return"function"==typeof e?ES(e):void 0},function(e){return e?void 0:bS((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?bS((function(t){return function(e,t){var a={},n=function(n){var r=e[n];"function"==typeof r&&(a[n]=function(){return t(r.apply(void 0,arguments))})};for(var r in e)n(r);return a}(e,t)})):void 0}],xS=[function(e){return"function"==typeof e?ES(e):void 0},function(e){return e?void 0:bS((function(){return{}}))}];function NS(e,t,a){return cu({},a,e,t)}const kS=[function(e){return"function"==typeof e?function(e){return function(t,a){a.displayName;var n,r=a.pure,i=a.areMergedPropsEqual,s=!1;return function(t,a,o){var l=e(t,a,o);return s?r&&i(l,n)||(n=l):(s=!0,n=l),n}}}(e):void 0},function(e){return e?void 0:function(){return NS}}];var SS=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function CS(e,t,a,n){return function(r,i){return a(e(r,i),t(n,i),i)}}function OS(e,t,a,n,r){var i,s,o,l,c,u=r.areStatesEqual,d=r.areOwnPropsEqual,m=r.areStatePropsEqual,p=!1;return function(r,f){return p?function(r,p){var f,h,y=!d(p,s),_=!u(r,i,p,s);return i=r,s=p,y&&_?(o=e(i,s),t.dependsOnOwnProps&&(l=t(n,s)),c=a(o,l,s)):y?(e.dependsOnOwnProps&&(o=e(i,s)),t.dependsOnOwnProps&&(l=t(n,s)),c=a(o,l,s)):_?(f=e(i,s),h=!m(f,o),o=f,h&&(c=a(o,l,s)),c):c}(r,f):(o=e(i=r,s=f),l=t(n,s),c=a(o,l,s),p=!0,c)}}function IS(e,t){var a=t.initMapStateToProps,n=t.initMapDispatchToProps,r=t.initMergeProps,i=Hy(t,SS),s=a(e,i),o=n(e,i),l=r(e,i);return(i.pure?OS:CS)(s,o,l,e,i)}var AS=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function TS(e,t,a){for(var n=t.length-1;n>=0;n--){var r=t[n](e);if(r)return r}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+a+" argument when connecting component "+n.wrappedComponentName+".")}}function PS(e,t){return e===t}function MS(e){var t=void 0===e?{}:e,a=t.connectHOC,n=void 0===a?yS:a,r=t.mapStateToPropsFactories,i=void 0===r?xS:r,s=t.mapDispatchToPropsFactories,o=void 0===s?wS:s,l=t.mergePropsFactories,c=void 0===l?kS:l,u=t.selectorFactory,d=void 0===u?IS:u;return function(e,t,a,r){void 0===r&&(r={});var s=r,l=s.pure,u=void 0===l||l,m=s.areStatesEqual,p=void 0===m?PS:m,f=s.areOwnPropsEqual,h=void 0===f?gS:f,y=s.areStatePropsEqual,_=void 0===y?gS:y,g=s.areMergedPropsEqual,b=void 0===g?gS:g,v=Hy(s,AS),E=TS(e,i,"mapStateToProps"),w=TS(t,o,"mapDispatchToProps"),x=TS(a,c,"mergeProps");return n(d,cu({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:w,initMergeProps:x,pure:u,areStatesEqual:p,areOwnPropsEqual:h,areStatePropsEqual:_,areMergedPropsEqual:b},v))}}const DS=MS();function FS(t,a){var n=(0,e.useState)((function(){return{inputs:a,result:t()}}))[0],r=(0,e.useRef)(!0),i=(0,e.useRef)(n),s=r.current||Boolean(a&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}(a,i.current.inputs)),o=s?i.current:{inputs:a,result:t()};return(0,e.useEffect)((function(){r.current=!1,i.current=o}),[o]),o.result}!function(e){eS=e}(yn.unstable_batchedUpdates);var RS=FS,LS=function(e,t){return FS((function(){return e}),t)},qS=function(e){var t=e.top,a=e.right,n=e.bottom,r=e.left;return{top:t,right:a,bottom:n,left:r,width:a-r,height:n-t,x:r,y:t,center:{x:(a+r)/2,y:(n+t)/2}}},jS=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},zS=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},BS={top:0,right:0,bottom:0,left:0},HS=function(e){var t=e.borderBox,a=e.margin,n=void 0===a?BS:a,r=e.border,i=void 0===r?BS:r,s=e.padding,o=void 0===s?BS:s,l=qS(jS(t,n)),c=qS(zS(t,i)),u=qS(zS(c,o));return{marginBox:l,borderBox:qS(t),paddingBox:c,contentBox:u,margin:n,border:i,padding:o}},$S=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var a=Number(t);return isNaN(a)&&function(e,t){throw new Error("Invariant failed")}(),a},VS=function(e,t){var a,n,r=e.borderBox,i=e.border,s=e.margin,o=e.padding,l=(n=t,{top:(a=r).top+n.y,left:a.left+n.x,bottom:a.bottom+n.y,right:a.right+n.x});return HS({borderBox:l,border:i,margin:s,padding:o})},US=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),VS(e,t)},WS=function(e,t){var a={top:$S(t.marginTop),right:$S(t.marginRight),bottom:$S(t.marginBottom),left:$S(t.marginLeft)},n={top:$S(t.paddingTop),right:$S(t.paddingRight),bottom:$S(t.paddingBottom),left:$S(t.paddingLeft)},r={top:$S(t.borderTopWidth),right:$S(t.borderRightWidth),bottom:$S(t.borderBottomWidth),left:$S(t.borderLeftWidth)};return HS({borderBox:e,margin:a,padding:n,border:r})},GS=function(e){var t=e.getBoundingClientRect(),a=window.getComputedStyle(e);return WS(t,a)},YS=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function KS(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!((n=e[a])===(r=t[a])||YS(n)&&YS(r)))return!1;var n,r;return!0}const ZS=function(e,t){var a;void 0===t&&(t=KS);var n,r=[],i=!1;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return i&&a===this&&t(s,r)||(n=e.apply(this,s),i=!0,a=this,r=s),n}},QS=function(e){var t=[],a=null,n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t=r,a||(a=requestAnimationFrame((function(){a=null,e.apply(void 0,t)})))};return n.cancel=function(){a&&(cancelAnimationFrame(a),a=null)},n};function XS(e,t){}function JS(){}function eC(e,t,a){var n=t.map((function(t){var n,r,i=(n=a,r=t.options,cu({},n,{},r));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){n.forEach((function(e){e()}))}}XS.bind(null,"warn"),XS.bind(null,"error");var tC=!0,aC="Invariant failed";function nC(e){this.message=e}function rC(e,t){if(!e)throw new nC(tC?aC:aC+": "+(t||""))}nC.prototype.toString=function(){return this.message};var iC=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=JS,t.onWindowError=function(e){var a=t.getCallbacks();a.isDragging()&&a.tryAbort(),e.error instanceof nC&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Qk(t,e);var a=t.prototype;return a.componentDidMount=function(){this.unbind=eC(window,[{eventName:"error",fn:this.onWindowError}])},a.componentDidCatch=function(e){if(!(e instanceof nC))throw e;this.setState({})},a.componentWillUnmount=function(){this.unbind()},a.render=function(){return this.props.children(this.setCallbacks)},t}(t().Component),sC=function(e){return e+1},oC=function(e,t){var a=e.droppableId===t.droppableId,n=sC(e.index),r=sC(t.index);return a?"\n      You have moved the item from position "+n+"\n      to position "+r+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+r+"\n  "},lC=function(e,t,a){return t.droppableId===a.droppableId?"\n      The item "+e+"\n      has been combined with "+a.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+a.draggableId+"\n      in list "+a.droppableId+"\n    "},cC=function(e){return"\n  The item has returned to its starting position\n  of "+sC(e.index)+"\n"},uC=function(e){return"\n  You have lifted an item in position "+sC(e.source.index)+"\n"},dC=function(e){var t=e.destination;if(t)return oC(e.source,t);var a=e.combine;return a?lC(e.draggableId,e.source,a):"You are over an area that cannot be dropped on"},mC=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+cC(e.source)+"\n    ";var t=e.destination,a=e.combine;return t?"\n      You have dropped the item.\n      "+oC(e.source,t)+"\n    ":a?"\n      You have dropped the item.\n      "+lC(e.draggableId,e.source,a)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+cC(e.source)+"\n  "},pC={x:0,y:0},fC=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},hC=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},yC=function(e,t){return e.x===t.x&&e.y===t.y},_C=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},gC=function(e,t,a){var n;return void 0===a&&(a=0),(n={})[e]=t,n["x"===e?"y":"x"]=a,n},bC=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},vC=function(e,t){return Math.min.apply(Math,t.map((function(t){return bC(e,t)})))},EC=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},wC=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},xC=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},NC=function(e,t){return t&&t.shouldClipSubject?function(e,t){var a=qS({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return a.width<=0||a.height<=0?null:a}(t.pageMarginBox,e):qS(e)},kC=function(e){var t=e.page,a=e.withPlaceholder,n=e.axis,r=e.frame,i=function(e,t){return t?wC(e,t.scroll.diff.displacement):e}(t.marginBox,r),s=function(e,t,a){var n;return a&&a.increasedBy?cu({},e,((n={})[t.end]=e[t.end]+a.increasedBy[t.line],n)):e}(i,n,a);return{page:t,withPlaceholder:a,active:NC(s,r)}},SC=function(e,t){e.frame||rC(!1);var a=e.frame,n=hC(t,a.scroll.initial),r=_C(n),i=cu({},a,{scroll:{initial:a.scroll.initial,current:t,diff:{value:n,displacement:r},max:a.scroll.max}});return cu({},e,{frame:i,subject:kC({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function CC(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function OC(e,t){if(e.findIndex)return e.findIndex(t);for(var a=0;a<e.length;a++)if(t(e[a]))return a;return-1}function IC(e,t){if(e.find)return e.find(t);var a=OC(e,t);return-1!==a?e[a]:void 0}function AC(e){return Array.prototype.slice.call(e)}var TC=ZS((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),PC=ZS((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),MC=ZS((function(e){return CC(e)})),DC=ZS((function(e){return CC(e)})),FC=ZS((function(e,t){var a=DC(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return a}));function RC(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function LC(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var qC=ZS((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),jC=function(e,t){return e.descriptor.droppableId===t.descriptor.id},zC={point:pC,value:0},BC={invisible:{},visible:{},all:[]},HC={displaced:BC,displacedBy:zC,at:null},$C=function(e,t){return function(a){return e<=a&&a<=t}},VC=function(e){var t=$C(e.top,e.bottom),a=$C(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&a(n.left)&&a(n.right))return!0;var r=t(n.top)||t(n.bottom),i=a(n.left)||a(n.right);if(r&&i)return!0;var s=n.top<e.top&&n.bottom>e.bottom,o=n.left<e.left&&n.right>e.right;return!(!s||!o)||s&&i||o&&r}},UC=function(e){var t=$C(e.top,e.bottom),a=$C(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&a(e.left)&&a(e.right)}},WC={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},GC={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},YC=function(e){var t=e.target,a=e.destination,n=e.viewport,r=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,s=r?function(e,t){var a=t.frame?t.frame.scroll.diff.displacement:pC;return wC(e,a)}(t,a):t;return function(e,t,a){return!!t.subject.active&&a(t.subject.active)(e)}(s,a,i)&&function(e,t,a){return a(t)(e)}(s,n,i)},KC=function(e){return YC(cu({},e,{isVisibleThroughFrameFn:VC}))},ZC=function(e){return YC(cu({},e,{isVisibleThroughFrameFn:UC}))},QC=function(e,t,a){if("boolean"==typeof a)return a;if(!t)return!0;var n=t.invisible,r=t.visible;if(n[e])return!1;var i=r[e];return!i||i.shouldAnimate};function XC(e){var t=e.afterDragging,a=e.destination,n=e.displacedBy,r=e.viewport,i=e.forceShouldAnimate,s=e.last;return t.reduce((function(e,t){var o=function(e,t){var a=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return qS(jS(a,n))}(t,n),l=t.descriptor.id;if(e.all.push(l),!KC({target:o,destination:a,viewport:r,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:QC(l,s,i)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function JC(e){var t=e.insideDestination,a=e.inHomeList,n=e.displacedBy,r=e.destination,i=function(e,t){if(!e.length)return 0;var a=e[e.length-1].descriptor.index;return t.inHomeList?a:a+1}(t,{inHomeList:a});return{displaced:BC,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function eO(e){var t=e.draggable,a=e.insideDestination,n=e.destination,r=e.viewport,i=e.displacedBy,s=e.last,o=e.index,l=e.forceShouldAnimate,c=jC(t,n);if(null==o)return JC({insideDestination:a,inHomeList:c,displacedBy:i,destination:n});var u=IC(a,(function(e){return e.descriptor.index===o}));if(!u)return JC({insideDestination:a,inHomeList:c,displacedBy:i,destination:n});var d=qC(t,a),m=a.indexOf(u);return{displaced:XC({afterDragging:d.slice(m),destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function tO(e,t){return Boolean(t.effected[e])}var aO=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},nO=function(e,t,a){return t[e.crossAxisStart]+a.margin[e.crossAxisStart]+a.borderBox[e.crossAxisSize]/2},rO=function(e){var t=e.axis,a=e.moveRelativeTo,n=e.isMoving;return gC(t.line,a.marginBox[t.end]+aO(t,n),nO(t,a.marginBox,n))},iO=function(e){var t=e.axis,a=e.moveRelativeTo,n=e.isMoving;return gC(t.line,a.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),nO(t,a.marginBox,n))},sO=function(e,t){var a=e.frame;return a?fC(t,a.scroll.diff.displacement):t},oO=function(e){var t=function(e){var t=e.impact,a=e.draggable,n=e.droppable,r=e.draggables,i=e.afterCritical,s=a.page.borderBox.center,o=t.at;return n&&o?"REORDER"===o.type?function(e){var t=e.impact,a=e.draggable,n=e.draggables,r=e.droppable,i=e.afterCritical,s=FC(r.descriptor.id,n),o=a.page,l=r.axis;if(!s.length)return function(e){var t=e.axis,a=e.moveInto,n=e.isMoving;return gC(t.line,a.contentBox[t.start]+aO(t,n),nO(t,a.contentBox,n))}({axis:l,moveInto:r.page,isMoving:o});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var m=n[d];if(tO(d,i))return iO({axis:l,moveRelativeTo:m.page,isMoving:o});var p=VS(m.page,u.point);return iO({axis:l,moveRelativeTo:p,isMoving:o})}var f=s[s.length-1];if(f.descriptor.id===a.descriptor.id)return o.borderBox.center;if(tO(f.descriptor.id,i)){var h=VS(f.page,_C(i.displacedBy.point));return rO({axis:l,moveRelativeTo:h,isMoving:o})}return rO({axis:l,moveRelativeTo:f.page,isMoving:o})}({impact:t,draggable:a,draggables:r,droppable:n,afterCritical:i}):function(e){var t=e.afterCritical,a=e.impact,n=e.draggables,r=LC(a);r||rC(!1);var i=r.draggableId,s=n[i].page.borderBox.center,o=function(e){var t=e.displaced,a=e.afterCritical,n=e.combineWith,r=e.displacedBy,i=Boolean(t.visible[n]||t.invisible[n]);return tO(n,a)?i?pC:_C(r.point):i?r.point:pC}({displaced:a.displaced,afterCritical:t,combineWith:i,displacedBy:a.displacedBy});return fC(s,o)}({impact:t,draggables:r,afterCritical:i}):s}(e),a=e.droppable;return a?sO(a,t):t},lO=function(e,t){var a=hC(t,e.scroll.initial),n=_C(a);return{frame:qS({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:a,displacement:n}}}};function cO(e,t){return e.map((function(e){return t[e]}))}var uO=function(e){var t,a,n=e.pageBorderBoxCenter,r=e.draggable,i=(t=e.viewport,a=n,fC(t.scroll.diff.displacement,a)),s=hC(i,r.page.borderBox.center);return fC(r.client.borderBox.center,s)},dO=function(e){var t=e.draggable,a=e.destination,n=e.newPageBorderBoxCenter,r=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,o=void 0!==s&&s,l=hC(n,t.page.borderBox.center),c={target:wC(t.page.borderBox,l),destination:a,withDroppableDisplacement:i,viewport:r};return o?function(e){return YC(cu({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var a=$C(e.top,e.bottom),n=$C(e.left,e.right);return function(e){return t===WC?a(e.top)&&a(e.bottom):n(e.left)&&n(e.right)}})}));var t}(c):ZC(c)},mO=function(e){var t=e.isMovingForward,a=e.draggable,n=e.destination,r=e.draggables,i=e.previousImpact,s=e.viewport,o=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var u=FC(n.descriptor.id,r),d=jC(a,n),m=function(e){var t=e.isMovingForward,a=e.draggable,n=e.destination,r=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;if(!RC(i))return null;function s(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return cu({},i,{at:t})}var o=i.displaced.all,l=o.length?o[0]:null;if(t)return l?s(l):null;var c=qC(a,r);if(!l)return c.length?s(c[c.length-1].descriptor.id):null;var u=OC(c,(function(e){return e.descriptor.id===l}));-1===u&&rC(!1);var d=u-1;return d<0?null:s(c[d].descriptor.id)}({isMovingForward:t,draggable:a,destination:n,insideDestination:u,previousImpact:i})||function(e){var t=e.isMovingForward,a=e.isInHomeList,n=e.draggable,r=e.draggables,i=e.destination,s=e.insideDestination,o=e.previousImpact,l=e.viewport,c=e.afterCritical,u=o.at;if(u||rC(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,a=e.isInHomeList,n=e.insideDestination,r=e.location;if(!n.length)return null;var i=r.index,s=t?i+1:i-1,o=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return s<o||s>(a?l:l+1)?null:s}({isMovingForward:t,isInHomeList:a,location:u.destination,insideDestination:s});return null==d?null:eO({draggable:n,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:d})}var m=function(e){var t=e.isMovingForward,a=e.draggables,n=e.combine,r=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=n.draggableId,s=a[i].descriptor.index;return tO(i,r)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:o.displaced,draggables:r,combine:u.combine,afterCritical:c});return null==m?null:eO({draggable:n,insideDestination:s,destination:i,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:m})}({isMovingForward:t,isInHomeList:d,draggable:a,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:s,afterCritical:c});if(!m)return null;var p=oO({impact:m,draggable:a,droppable:n,draggables:r,afterCritical:c});if(dO({draggable:a,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:uO({pageBorderBoxCenter:p,draggable:a,viewport:s}),impact:m,scrollJumpRequest:null};var f=hC(p,o),h=function(e){var t=e.impact,a=e.viewport,n=e.destination,r=e.draggables,i=e.maxScrollChange,s=lO(a,fC(a.scroll.current,i)),o=n.frame?SC(n,fC(n.frame.scroll.current,i)):n,l=t.displaced,c=XC({afterDragging:cO(l.all,r),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),u=XC({afterDragging:cO(l.all,r),destination:o,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),d={},m={},p=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var a=0;a<t.length;a++){var n=t[a].visible[e];if(n)return n}return null}(e,p);t?m[e]=t:d[e]=!0})),cu({},t,{displaced:{all:l.all,invisible:d,visible:m}})}({impact:m,viewport:s,destination:n,draggables:r,maxScrollChange:f});return{clientSelection:l,impact:h,scrollJumpRequest:f}},pO=function(e){var t=e.subject.active;return t||rC(!1),t},fO=function(e,t){var a=e.page.borderBox.center;return tO(e.descriptor.id,t)?hC(a,t.displacedBy.point):a},hO=function(e,t){var a=e.page.borderBox;return tO(e.descriptor.id,t)?wC(a,_C(t.displacedBy.point)):a},yO=ZS((function(e,t){var a=t[e.line];return{value:a,point:gC(e.line,a)}})),_O=function(e,t){return cu({},e,{scroll:cu({},e.scroll,{max:t})})},gO=function(e,t,a){var n=e.frame;jC(t,e)&&rC(!1),e.subject.withPlaceholder&&rC(!1);var r=yO(e.axis,t.displaceBy).point,i=function(e,t,a){var n=e.axis;if("virtual"===e.descriptor.mode)return gC(n.line,t[n.line]);var r=e.subject.page.contentBox[n.size],i=FC(e.descriptor.id,a).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-r;return i<=0?null:gC(n.line,i)}(e,r,a),s={placeholderSize:r,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return cu({},e,{subject:kC({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame})});var o=i?fC(n.scroll.max,i):n.scroll.max,l=_O(n,o);return cu({},e,{subject:kC({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l}),frame:l})},bO=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},vO=function(e){var t=e.state,a=e.type,n=function(e,t){var a=bO(e);return a?t[a]:null}(t.impact,t.dimensions.droppables),r=Boolean(n),i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,l="vertical"===o&&("MOVE_UP"===a||"MOVE_DOWN"===a)||"horizontal"===o&&("MOVE_LEFT"===a||"MOVE_RIGHT"===a);if(l&&!r)return null;var c="MOVE_DOWN"===a||"MOVE_RIGHT"===a,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,m=t.dimensions,p=m.draggables,f=m.droppables;return l?mO({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:s,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,a=e.previousPageBorderBoxCenter,n=e.draggable,r=e.isOver,i=e.draggables,s=e.droppables,o=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,a=e.pageBorderBoxCenter,n=e.source,r=e.droppables,i=e.viewport,s=n.subject.active;if(!s)return null;var o=n.axis,l=$C(s[o.start],s[o.end]),c=MC(r).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return VC(i.frame)(pO(e))})).filter((function(e){var a=pO(e);return t?s[o.crossAxisEnd]<a[o.crossAxisEnd]:a[o.crossAxisStart]<s[o.crossAxisStart]})).filter((function(e){var t=pO(e),a=$C(t[o.start],t[o.end]);return l(t[o.start])||l(t[o.end])||a(s[o.start])||a(s[o.end])})).sort((function(e,a){var n=pO(e)[o.crossAxisStart],r=pO(a)[o.crossAxisStart];return t?n-r:r-n})).filter((function(e,t,a){return pO(e)[o.crossAxisStart]===pO(a[0])[o.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return $C(pO(e)[o.start],pO(e)[o.end])(a[o.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return pO(e)[o.start]-pO(t)[o.start]}))[0]:c.sort((function(e,t){var n=vC(a,xC(pO(e))),r=vC(a,xC(pO(t)));return n!==r?n-r:pO(e)[o.start]-pO(t)[o.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:a,source:r,droppables:s,viewport:o});if(!c)return null;var u=FC(c.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,a=e.viewport,n=e.destination,r=e.afterCritical,i=e.insideDestination.filter((function(e){return ZC({target:hO(e,r),destination:n,viewport:a.frame,withDroppableDisplacement:!0})})).sort((function(e,a){var i=bC(t,sO(n,fO(e,r))),s=bC(t,sO(n,fO(a,r)));return i<s?-1:s<i?1:e.descriptor.index-a.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:a,viewport:o,destination:c,insideDestination:u,afterCritical:l}),m=function(e){var t=e.previousPageBorderBoxCenter,a=e.moveRelativeTo,n=e.insideDestination,r=e.draggable,i=e.draggables,s=e.destination,o=e.viewport,l=e.afterCritical;if(!a){if(n.length)return null;var c={displaced:BC,displacedBy:zC,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},u=oO({impact:c,draggable:r,droppable:s,draggables:i,afterCritical:l}),d=jC(r,s)?s:gO(s,r,i);return dO({draggable:r,destination:d,newPageBorderBoxCenter:u,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var m,p=Boolean(t[s.axis.line]<=a.page.borderBox.center[s.axis.line]),f=(m=a.descriptor.index,a.descriptor.id===r.descriptor.id||p?m:m+1);return eO({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:yO(s.axis,r.displaceBy),last:BC,index:f})}({previousPageBorderBoxCenter:a,destination:c,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:o,afterCritical:l});if(!m)return null;var p=oO({impact:m,draggable:n,droppable:c,draggables:i,afterCritical:l});return{clientSelection:uO({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:m,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:s,draggables:p,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function EO(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function wO(e){var t=$C(e.top,e.bottom),a=$C(e.left,e.right);return function(e){return t(e.y)&&a(e.x)}}var xO=function(e,t){return qS(wC(e,t))};function NO(e){var t=e.displaced,a=e.id;return Boolean(t.visible[a]||t.invisible[a])}var kO=function(e){var t=e.pageOffset,a=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,s=e.viewport,o=e.afterCritical,l=xO(a.page.borderBox,t),c=function(e){var t=e.pageBorderBox,a=e.draggable,n=e.droppables,r=MC(n).filter((function(e){if(!e.isEnabled)return!1;var a,n,r=e.subject.active;if(!r)return!1;if(n=r,!((a=t).left<n.right&&a.right>n.left&&a.top<n.bottom&&a.bottom>n.top))return!1;if(wO(r)(t.center))return!0;var i=e.axis,s=r.center[i.crossAxisLine],o=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=$C(r[i.crossAxisStart],r[i.crossAxisEnd]),u=c(o),d=c(l);return!u&&!d||(u?o<s:l>s)}));return r.length?1===r.length?r[0].descriptor.id:function(e){var t=e.pageBorderBox,a=e.candidates,n=e.draggable.page.borderBox.center,r=a.map((function(e){var a=e.axis,r=gC(e.axis.line,t.center[a.line],e.page.borderBox.center[a.crossAxisLine]);return{id:e.descriptor.id,distance:bC(n,r)}})).sort((function(e,t){return t.distance-e.distance}));return r[0]?r[0].id:null}({pageBorderBox:t,draggable:a,candidates:r}):null}({pageBorderBox:l,draggable:a,droppables:r});if(!c)return HC;var u=r[c],d=FC(u.descriptor.id,n),m=function(e,t){var a=e.frame;return a?xO(t,a.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,a=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,r=e.destination,i=e.insideDestination,s=e.afterCritical;if(!r.isCombineEnabled)return null;var o=r.axis,l=yO(r.axis,t.displaceBy),c=l.value,u=a[o.start],d=a[o.end],m=IC(qC(t,i),(function(e){var t=e.descriptor.id,a=e.page.borderBox,r=a[o.size]/4,i=tO(t,s),l=NO({displaced:n.displaced,id:t});return i?l?d>a[o.start]+r&&d<a[o.end]-r:u>a[o.start]-c+r&&u<a[o.end]-c-r:l?d>a[o.start]+c+r&&d<a[o.end]+c-r:u>a[o.start]+r&&u<a[o.end]-r}));return m?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:r.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:m,draggable:a,previousImpact:i,destination:u,insideDestination:d,afterCritical:o})||function(e){var t=e.pageBorderBoxWithDroppableScroll,a=e.draggable,n=e.destination,r=e.insideDestination,i=e.last,s=e.viewport,o=e.afterCritical,l=n.axis,c=yO(n.axis,a.displaceBy),u=c.value,d=t[l.start],m=t[l.end],p=function(e){var t=e.draggable,a=e.closest;return a?e.inHomeList&&a.descriptor.index>t.descriptor.index?a.descriptor.index-1:a.descriptor.index:null}({draggable:a,closest:IC(qC(a,r),(function(e){var t=e.descriptor.id,a=e.page.borderBox.center[l.line],n=tO(t,o),r=NO({displaced:i,id:t});return n?r?m<=a:d<a-u:r?m<=a+u:d<a})),inHomeList:jC(a,n)});return eO({draggable:a,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:m,draggable:a,destination:u,insideDestination:d,last:i.displaced,viewport:s,afterCritical:o})},SO=function(e,t){var a;return cu({},e,((a={})[t.descriptor.id]=t,a))},CO=function(e){var t=e.state,a=e.clientSelection,n=e.dimensions,r=e.viewport,i=e.impact,s=e.scrollJumpRequest,o=r||t.viewport,l=n||t.dimensions,c=a||t.current.client.selection,u=hC(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:fC(t.initial.client.borderBoxCenter,u)},m={selection:fC(d.selection,o.scroll.current),borderBoxCenter:fC(d.borderBoxCenter,o.scroll.current),offset:fC(d.offset,o.scroll.diff.value)},p={client:d,page:m};if("COLLECTING"===t.phase)return cu({phase:"COLLECTING"},t,{dimensions:l,viewport:o,current:p});var f=l.draggables[t.critical.draggable.id],h=i||kO({pageOffset:m.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),y=function(e){var t=e.draggable,a=e.draggables,n=e.droppables,r=e.impact,i=function(e){var t=e.previousImpact,a=e.impact,n=e.droppables,r=bO(t),i=bO(a);if(!r)return n;if(r===i)return n;var s=n[r];if(!s.subject.withPlaceholder)return n;var o=function(e){var t=e.subject.withPlaceholder;t||rC(!1);var a=e.frame;if(!a)return cu({},e,{subject:kC({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||rC(!1);var r=_O(a,n);return cu({},e,{subject:kC({page:e.subject.page,axis:e.axis,frame:r,withPlaceholder:null}),frame:r})}(s);return SO(n,o)}({previousImpact:e.previousImpact,impact:r,droppables:n}),s=bO(r);if(!s)return i;var o=n[s];if(jC(t,o))return i;if(o.subject.withPlaceholder)return i;var l=gO(o,t,a);return SO(i,l)}({draggable:f,impact:h,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return cu({},t,{current:p,dimensions:{draggables:l.draggables,droppables:y},impact:h,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:!s&&null})},OO=function(e){var t=e.impact,a=e.viewport,n=e.draggables,r=e.destination,i=e.forceShouldAnimate,s=t.displaced,o=function(e,t){return e.map((function(e){return t[e]}))}(s.all,n);return cu({},t,{displaced:XC({afterDragging:o,destination:r,displacedBy:t.displacedBy,viewport:a.frame,forceShouldAnimate:i,last:s})})},IO=function(e){var t=e.impact,a=e.draggable,n=e.droppable,r=e.draggables,i=e.viewport,s=e.afterCritical,o=oO({impact:t,draggable:a,draggables:r,droppable:n,afterCritical:s});return uO({pageBorderBoxCenter:o,draggable:a,viewport:i})},AO=function(e){var t=e.state,a=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&rC(!1);var r=t.impact,i=n||t.viewport,s=a||t.dimensions,o=s.draggables,l=s.droppables,c=o[t.critical.draggable.id],u=bO(r);u||rC(!1);var d=l[u],m=OO({impact:r,viewport:i,destination:d,draggables:o}),p=IO({impact:m,draggable:c,droppable:d,draggables:o,viewport:i,afterCritical:t.afterCritical});return CO({impact:m,clientSelection:p,state:t,dimensions:s,viewport:i})},TO=function(e){var t=e.draggable,a=e.home,n=e.draggables,r=e.viewport,i=yO(a.axis,t.displaceBy),s=FC(a.descriptor.id,n),o=s.indexOf(t);-1===o&&rC(!1);var l,c=s.slice(o+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===a.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:XC({afterDragging:c,destination:a,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},PO=function(e){return"SNAP"===e.movementMode},MO=function(e,t,a){var n=function(e,t){return{draggables:e.draggables,droppables:SO(e.droppables,t)}}(e.dimensions,t);return!PO(e)||a?CO({state:e,dimensions:n}):AO({state:e,dimensions:n})};function DO(e){return e.isDragging&&"SNAP"===e.movementMode?cu({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var FO={phase:"IDLE",completed:null,shouldFlush:!1},RO=function(e,t){if(void 0===e&&(e=FO),"FLUSH"===t.type)return cu({},FO,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&rC(!1);var a=t.payload,n=a.critical,r=a.clientSelection,i=a.viewport,s=a.dimensions,o=a.movementMode,l=s.draggables[n.draggable.id],c=s.droppables[n.droppable.id],u={selection:r,borderBoxCenter:l.client.borderBox.center,offset:pC},d={client:u,page:{selection:fC(u.selection,i.scroll.initial),borderBoxCenter:fC(u.selection,i.scroll.initial),offset:fC(u.selection,i.scroll.diff.value)}},m=MC(s.droppables).every((function(e){return!e.isFixedOnPage})),p=TO({draggable:l,home:c,draggables:s.draggables,viewport:i}),f=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:d,current:d,isWindowScrollAllowed:m,impact:f,afterCritical:p.afterCritical,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&rC(!1),cu({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&rC(!1),function(e){var t=e.state,a=e.published,n=a.modified.map((function(e){var a=t.dimensions.droppables[e.droppableId];return SC(a,e.scroll)})),r=cu({},t.dimensions.droppables,{},TC(n)),i=PC(function(e){var t=e.additions,a=e.updatedDroppables,n=e.viewport,r=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||rC(!1),t}(a[t]),s=i.scroll.diff.value,o=function(e){var t=e.draggable,a=e.offset,n=e.initialWindowScroll,r=VS(t.client,a),i=US(r,n);return cu({},t,{placeholder:cu({},t.placeholder,{client:r}),client:r,page:i})}({draggable:e,offset:fC(r,s),initialWindowScroll:n.scroll.initial});return o}))}({additions:a.additions,updatedDroppables:r,viewport:t.viewport})),s=cu({},t.dimensions.draggables,{},i);a.removals.forEach((function(e){delete s[e]}));var o={droppables:r,draggables:s},l=bO(t.impact),c=l?o.droppables[l]:null,u=o.draggables[t.critical.draggable.id],d=o.droppables[t.critical.droppable.id],m=TO({draggable:u,home:d,draggables:s,viewport:t.viewport}),p=m.impact,f=m.afterCritical,h=c&&c.isCombineEnabled?t.impact:p,y=kO({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:t.viewport,afterCritical:f}),_=cu({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:y,onLiftImpact:p,dimensions:o,afterCritical:f,forceShouldAnimate:!1});return"COLLECTING"===t.phase?_:cu({phase:"DROP_PENDING"},_,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;EO(e)||rC(!1);var h=t.payload.client;return yC(h,e.current.client.selection)?e:CO({state:e,clientSelection:h,impact:PO(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return DO(e);if("COLLECTING"===e.phase)return DO(e);EO(e)||rC(!1);var y=t.payload,_=y.id,g=y.newScroll,b=e.dimensions.droppables[_];if(!b)return e;var v=SC(b,g);return MO(e,v,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;EO(e)||rC(!1);var E=t.payload,w=E.id,x=E.isEnabled,N=e.dimensions.droppables[w];N||rC(!1),N.isEnabled===x&&rC(!1);var k=cu({},N,{isEnabled:x});return MO(e,k,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;EO(e)||rC(!1);var S=t.payload,C=S.id,O=S.isCombineEnabled,I=e.dimensions.droppables[C];I||rC(!1),I.isCombineEnabled===O&&rC(!1);var A=cu({},I,{isCombineEnabled:O});return MO(e,A,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;EO(e)||rC(!1),e.isWindowScrollAllowed||rC(!1);var T=t.payload.newScroll;if(yC(e.viewport.scroll.current,T))return DO(e);var P=lO(e.viewport,T);return PO(e)?AO({state:e,viewport:P}):CO({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!EO(e))return e;var M=t.payload.maxScroll;if(yC(M,e.viewport.scroll.max))return e;var D=cu({},e.viewport,{scroll:cu({},e.viewport.scroll,{max:M})});return cu({phase:"DRAGGING"},e,{viewport:D})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&rC(!1);var F=vO({state:e,type:t.type});return F?CO({state:e,impact:F.impact,clientSelection:F.clientSelection,scrollJumpRequest:F.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var R=t.payload.reason;return"COLLECTING"!==e.phase&&rC(!1),cu({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:R})}if("DROP_ANIMATE"===t.type){var L=t.payload,q=L.completed,j=L.dropDuration,z=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&rC(!1),{phase:"DROP_ANIMATING",completed:q,dropDuration:j,newHomeClientOffset:z,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},LO=function(e){return{type:"LIFT",payload:e}},qO=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},jO=function(){return{type:"COLLECTION_STARTING",payload:null}},zO=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},BO=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},HO=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},$O=function(e){return{type:"MOVE",payload:e}},VO=function(){return{type:"MOVE_UP",payload:null}},UO=function(){return{type:"MOVE_DOWN",payload:null}},WO=function(){return{type:"MOVE_RIGHT",payload:null}},GO=function(){return{type:"MOVE_LEFT",payload:null}},YO=function(){return{type:"FLUSH",payload:null}},KO=function(e){return{type:"DROP_COMPLETE",payload:e}},ZO=function(e){return{type:"DROP",payload:e}},QO="cubic-bezier(.2,1,.1,1)",XO=0,JO=.7,eI=.75,tI="0.2s cubic-bezier(0.2, 0, 0, 1)",aI={fluid:"opacity "+tI,snap:"transform "+tI+", opacity "+tI,drop:function(e){var t=e+"s "+QO;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+tI,placeholder:"height "+tI+", width "+tI+", margin "+tI},nI=function(e){return yC(e,pC)?null:"translate("+e.x+"px, "+e.y+"px)"},rI=nI,iI=function(e,t){var a=nI(e);return a?t?a+" scale("+eI+")":a:null},sI=.33,oI=function(e){var t=e.getState,a=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var r=t(),i=n.payload.reason;if("COLLECTING"!==r.phase){if("IDLE"!==r.phase){"DROP_PENDING"===r.phase&&r.isWaiting&&rC(!1),"DRAGGING"!==r.phase&&"DROP_PENDING"!==r.phase&&rC(!1);var s=r.critical,o=r.dimensions,l=o.draggables[r.critical.draggable.id],c=function(e){var t=e.draggables,a=e.reason,n=e.lastImpact,r=e.home,i=e.viewport,s=e.onLiftImpact;return n.at&&"DROP"===a?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:cu({},n,{displaced:BC}),didDropInsideDroppable:!0}:{impact:OO({draggables:t,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,m=d?RC(u):null,p=d?LC(u):null,f={index:s.draggable.index,droppableId:s.droppable.id},h={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:i,mode:r.movementMode,destination:m,combine:p},y=function(e){var t=e.impact,a=e.draggable,n=e.dimensions,r=e.viewport,i=e.afterCritical,s=n.draggables,o=n.droppables,l=bO(t),c=l?o[l]:null,u=o[a.descriptor.droppableId],d=IO({impact:t,draggable:a,draggables:s,afterCritical:i,droppable:c||u,viewport:r});return hC(d,a.client.borderBox.center)}({impact:u,draggable:l,dimensions:o,viewport:r.viewport,afterCritical:r.afterCritical}),_={critical:r.critical,afterCritical:r.afterCritical,result:h,impact:u};if(!yC(r.current.client.offset,y)||Boolean(h.combine)){var g=function(e){var t=e.reason,a=bC(e.current,e.destination);if(a<=0)return sI;if(a>=1500)return.55;var n=sI+a/1500*.22000000000000003;return Number(("CANCEL"===t?.6*n:n).toFixed(2))}({current:r.current.client.offset,destination:y,reason:i});a({type:"DROP_ANIMATE",payload:{newHomeClientOffset:y,dropDuration:g,completed:_}})}else a(KO({completed:_}))}}else a(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(n)}}},lI=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var cI=function(e){var t=function(e){var t=e.onWindowScroll,a=QS((function(){t(lI())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(a),r=JS;function i(){return r!==JS}return{start:function(){i()&&rC(!1),r=eC(window,[n])},stop:function(){i()||rC(!1),a.cancel(),r(),r=JS},isActive:i}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(a){t.isActive()||"INITIAL_PUBLISH"!==a.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(a)&&t.stop(),e(a)}}},uI=function(e,t){t()},dI=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},mI=function(e,t,a,n){if(e){var r=function(e){var t=!1,a=!1,n=setTimeout((function(){a=!0})),r=function(r){t||a||(t=!0,e(r),clearTimeout(n))};return r.wasCalled=function(){return t},r}(a);e(t,{announce:r}),r.wasCalled()||a(n(t))}else a(n(t))},pI=function(e,t){var a=function(e,t){var a,n=(a=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=OC(a,(function(t){return t.timerId===e}));-1===t&&rC(!1),a.splice(t,1)[0].callback()}(t)})),n={timerId:t,callback:e};a.push(n)},flush:function(){if(a.length){var e=[].concat(a);a.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),r=null,i=function(a){r||rC(!1),r=null,uI(0,(function(){return mI(e().onDragEnd,a,t,mC)}))};return{beforeCapture:function(t,a){r&&rC(!1),uI(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:a})}))},beforeStart:function(t,a){r&&rC(!1),uI(0,(function(){var n=e().onBeforeDragStart;n&&n(dI(t,a))}))},start:function(a,i){r&&rC(!1);var s=dI(a,i);r={mode:i,lastCritical:a,lastLocation:s.source,lastCombine:null},n.add((function(){uI(0,(function(){return mI(e().onDragStart,s,t,uC)}))}))},update:function(a,i){var s=RC(i),o=LC(i);r||rC(!1);var l=!function(e,t){if(e===t)return!0;var a=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return a&&n}(a,r.lastCritical);l&&(r.lastCritical=a);var c,u,d=(u=s,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=s);var m=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,o);if(m&&(r.lastCombine=o),l||d||m){var p=cu({},dI(a,r.mode),{combine:o,destination:s});n.add((function(){uI(0,(function(){return mI(e().onDragUpdate,p,t,dC)}))}))}},flush:function(){r||rC(!1),n.flush()},drop:i,abort:function(){if(r){var e=cu({},dI(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var r=n.payload.critical;return a.beforeStart(r,n.payload.movementMode),t(n),void a.start(r,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var i=n.payload.completed.result;return a.flush(),t(n),void a.drop(i)}if(t(n),"FLUSH"!==n.type){var s=e.getState();"DRAGGING"===s.phase&&a.update(s.critical,s.impact)}else a.abort()}else a.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},fI=function(e){return function(t){return function(a){if("DROP_ANIMATION_FINISHED"===a.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&rC(!1),e.dispatch(KO({completed:n.completed}))}else t(a)}}},hI=function(e){var t=null,a=null;return function(n){return function(r){if("FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type&&"DROP_ANIMATION_FINISHED"!==r.type||(a&&(cancelAnimationFrame(a),a=null),t&&(t(),t=null)),n(r),"DROP_ANIMATE"===r.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};a=requestAnimationFrame((function(){a=null,t=eC(window,[i])}))}}}},yI=function(e){return function(t){return function(a){if(t(a),"PUBLISH_WHILE_DRAGGING"===a.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(ZO({reason:n.reason})))}}}},_I=Xk.qC,gI=function(e){var t,a=e.dimensionMarshal,n=e.focusMarshal,r=e.styleMarshal,i=e.getResponders,s=e.announce,o=e.autoScroller;return(0,Xk.MT)(RO,_I((0,Xk.md)((t=r,function(){return function(e){return function(a){"INITIAL_PUBLISH"===a.type&&t.dragging(),"DROP_ANIMATE"===a.type&&t.dropping(a.payload.completed.result.reason),"FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type||t.resting(),e(a)}}}),function(e){return function(){return function(t){return function(a){"DROP_COMPLETE"!==a.type&&"FLUSH"!==a.type&&"DROP_ANIMATE"!==a.type||e.stopPublishing(),t(a)}}}}(a),function(e){return function(t){var a=t.getState,n=t.dispatch;return function(t){return function(r){if("LIFT"===r.type){var i=r.payload,s=i.id,o=i.clientSelection,l=i.movementMode,c=a();"DROP_ANIMATING"===c.phase&&n(KO({completed:c.completed})),"IDLE"!==a().phase&&rC(!1),n(YO()),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:s,movementMode:l}});var u={draggableId:s,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),m=d.critical,p=d.dimensions,f=d.viewport;n({type:"INITIAL_PUBLISH",payload:{critical:m,dimensions:p,clientSelection:o,movementMode:l,viewport:f}})}else t(r)}}}}(a),oI,fI,hI,yI,function(e){return function(t){return function(a){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void a(n);if("INITIAL_PUBLISH"===n.type){a(n);var r=t.getState();return"DRAGGING"!==r.phase&&rC(!1),void e.start(r)}a(n),e.scroll(t.getState())}}}}(o),cI,function(e){var t=!1;return function(){return function(a){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),a(n),void e.tryRestoreFocusRecorded();if(a(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var r=n.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),pI(i,s))))},bI=function(e){var t=e.scrollHeight,a=e.scrollWidth,n=e.height,r=e.width,i=hC({x:a,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},vI=function(){var e=document.documentElement;return e||rC(!1),e},EI=function(){var e=vI();return bI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function wI(e,t,a){return a.descriptor.id!==t.id&&a.descriptor.type===t.type&&"virtual"===e.droppable.getById(a.descriptor.droppableId).descriptor.mode}var xI,NI,kI=function(e,t){var a=null,n=function(e){var t=e.registry,a=e.callbacks,n={additions:{},removals:{},modified:{}},r=null,i=function(){r||(a.collectionStarting(),r=requestAnimationFrame((function(){r=null;var e=n,i=e.additions,s=e.removals,o=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(pC)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(o).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(s),modified:c};n={additions:{},removals:{},modified:{}},a.publish(u)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],i()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],i()},stop:function(){r&&(cancelAnimationFrame(r),r=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),r=function(t){a||rC(!1);var r=a.critical.draggable;"ADDITION"===t.type&&wI(e,r,t.value)&&n.add(t.value),"REMOVAL"===t.type&&wI(e,r,t.value)&&n.remove(t.value)},i={updateDroppableIsEnabled:function(n,r){e.droppable.exists(n)||rC(!1),a&&t.updateDroppableIsEnabled({id:n,isEnabled:r})},updateDroppableIsCombineEnabled:function(n,r){a&&(e.droppable.exists(n)||rC(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:r}))},scrollDroppable:function(t,n){a&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,r){a&&(e.droppable.exists(n)||rC(!1),t.updateDroppableScroll({id:n,newScroll:r}))},startPublishing:function(t){a&&rC(!1);var n=e.draggable.getById(t.draggableId),i=e.droppable.getById(n.descriptor.droppableId),s={draggable:n.descriptor,droppable:i.descriptor},o=e.subscribe(r);return a={critical:s,unsubscribe:o},function(e){var t,a,n,r,i,s,o,l=e.critical,c=e.scrollOptions,u=e.registry,d=(t=lI(),a=EI(),n=t.y,r=t.x,s=(i=vI()).clientWidth,o=i.clientHeight,{frame:qS({top:n,left:r,right:r+s,bottom:n+o}),scroll:{initial:t,current:t,max:a,diff:{value:pC,displacement:pC}}}),m=d.scroll.current,p=l.droppable,f=u.droppable.getAllByType(p.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(m,c)})),h=u.draggable.getAllByType(l.draggable.type).map((function(e){return e.getDimension(m)}));return{dimensions:{draggables:PC(h),droppables:TC(f)},critical:l,viewport:d}}({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(a){n.stop();var t=a.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),a.unsubscribe(),a=null}}};return i},SI=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},CI=function(e){window.scrollBy(e.x,e.y)},OI=ZS((function(e){return MC(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),II=function(e){return Math.pow(e,2)},AI=function(e){var t=e.startOfRange,a=e.endOfRange,n=e.current,r=a-t;return 0===r?0:(n-t)/r},TI=360,PI=1200,MI=function(e){var t=e.distanceToEdge,a=e.thresholds,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var a=AI({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=28*II(1-a);return Math.ceil(n)}(t,a);return 0===i?0:r?Math.max(function(e,t){var a=t,n=PI,r=Date.now()-a;if(r>=PI)return e;if(r<TI)return 1;var i=AI({startOfRange:TI,endOfRange:n,current:r}),s=e*II(i);return Math.ceil(s)}(i,n),1):i},DI=function(e){var t=e.container,a=e.distanceToEdges,n=e.dragStartTime,r=e.axis,i=e.shouldUseTimeDampening,s=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,r);return a[r.end]<a[r.start]?MI({distanceToEdge:a[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i}):-1*MI({distanceToEdge:a[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i})},FI=EC((function(e){return 0===e?0:e})),RI=function(e){var t=e.dragStartTime,a=e.container,n=e.subject,r=e.center,i=e.shouldUseTimeDampening,s={top:r.y-a.top,right:a.right-r.x,bottom:a.bottom-r.y,left:r.x-a.left},o=DI({container:a,distanceToEdges:s,dragStartTime:t,axis:WC,shouldUseTimeDampening:i}),l=DI({container:a,distanceToEdges:s,dragStartTime:t,axis:GC,shouldUseTimeDampening:i}),c=FI({x:l,y:o});if(yC(c,pC))return null;var u=function(e){var t=e.container,a=e.subject,n=e.proposedScroll,r=a.height>t.height,i=a.width>t.width;return i||r?i&&r?null:{x:i?0:n.x,y:r?0:n.y}:n}({container:a,subject:n,proposedScroll:c});return u?yC(u,pC)?null:u:null},LI=EC((function(e){return 0===e?0:e>0?1:-1})),qI=(xI=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,a=e.max,n=e.change,r=fC(t,n),i={x:xI(r.x,a.x),y:xI(r.y,a.y)};return yC(i,pC)?null:i}),jI=function(e){var t=e.max,a=e.current,n=e.change,r={x:Math.max(a.x,t.x),y:Math.max(a.y,t.y)},i=LI(n),s=qI({max:r,current:a,change:i});return!s||0!==i.x&&0===s.x||0!==i.y&&0===s.y},zI=function(e,t){return jI({current:e.scroll.current,max:e.scroll.max,change:t})},BI=function(e,t){var a=e.frame;return!!a&&jI({current:a.scroll.current,max:a.scroll.max,change:t})},HI=function(e){var t=e.state,a=e.dragStartTime,n=e.shouldUseTimeDampening,r=e.scrollWindow,i=e.scrollDroppable,s=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,a=e.subject,n=e.center,r=e.shouldUseTimeDampening,i=RI({dragStartTime:e.dragStartTime,container:t.frame,subject:a,center:n,shouldUseTimeDampening:r});return i&&zI(t,i)?i:null}({dragStartTime:a,viewport:t.viewport,subject:o,center:s,shouldUseTimeDampening:n});if(l)return void r(l)}var c=function(e){var t=e.center,a=e.destination,n=e.droppables;if(a){var r=n[a];return r.frame?r:null}var i=function(e,t){var a=IC(OI(t),(function(t){return t.frame||rC(!1),wO(t.frame.pageMarginBox)(e)}));return a}(t,n);return i}({center:s,destination:bO(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,a=e.subject,n=e.center,r=e.dragStartTime,i=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var o=RI({dragStartTime:r,container:s.pageMarginBox,subject:a,center:n,shouldUseTimeDampening:i});return o&&BI(t,o)?o:null}({dragStartTime:a,droppable:c,subject:o,center:s,shouldUseTimeDampening:n});u&&i(c.descriptor.id,u)}},$I=function(e){var t=e.move,a=e.scrollDroppable,n=e.scrollWindow;return function(e){var r=e.scrollJumpRequest;if(r){var i=bO(e.impact);i||rC(!1);var s=function(e,t){if(!BI(e,t))return t;var n=function(e,t){var a=e.frame;return a&&BI(e,t)?qI({current:a.scroll.current,max:a.scroll.max,change:t}):null}(e,t);if(!n)return a(e.descriptor.id,t),null;var r=hC(t,n);return a(e.descriptor.id,r),hC(t,r)}(e.dimensions.droppables[i],r);if(s){var o=e.viewport,l=function(e,t,a){if(!e)return a;if(!zI(t,a))return a;var r=function(e,t){if(!zI(e,t))return null;var a=e.scroll.max,n=e.scroll.current;return qI({current:n,max:a,change:t})}(t,a);if(!r)return n(a),null;var i=hC(a,r);return n(i),hC(a,i)}(e.isWindowScrollAllowed,o,s);l&&function(e,a){var n=fC(e.current.client.selection,a);t({client:n})}(e,l)}}}},VI=function(e){var t=e.scrollDroppable,a=e.scrollWindow,n=e.move,r=function(e){var t=e.scrollDroppable,a=QS(e.scrollWindow),n=QS(t),r=null,i=function(e){r||rC(!1);var t=r,i=t.shouldUseTimeDampening,s=t.dragStartTime;HI({state:e,scrollWindow:a,scrollDroppable:n,dragStartTime:s,shouldUseTimeDampening:i})};return{start:function(e){r&&rC(!1);var t=Date.now(),a=!1,n=function(){a=!0};HI({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),r={dragStartTime:t,shouldUseTimeDampening:a},a&&i(e)},stop:function(){r&&(a.cancel(),n.cancel(),r=null)},scroll:i}}({scrollWindow:a,scrollDroppable:t}),i=$I({move:n,scrollWindow:a,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):r.scroll(e))},start:r.start,stop:r.stop}},UI="data-rbd",WI={base:NI=UI+"-drag-handle",draggableId:NI+"-draggable-id",contextId:NI+"-context-id"},GI=function(){var e=UI+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),YI=function(){var e=UI+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),KI={contextId:UI+"-scroll-container-context-id"},ZI=function(e,t){return e.map((function(e){var a=e.styles[t];return a?e.selector+" { "+a+" }":""})).join(" ")},QI=function(e){var t,a,n,r=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(a="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:r(WI.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:a,dragging:"pointer-events: none;",dropAnimating:a}}),s=[(n="\n      transition: "+aI.outOfTheWay+";\n    ",{selector:r(GI.contextId),styles:{dragging:n,dropAnimating:n,userCancel:n}}),i,{selector:r(YI.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:ZI(s,"always"),resting:ZI(s,"resting"),dragging:ZI(s,"dragging"),dropAnimating:ZI(s,"dropAnimating"),userCancel:ZI(s,"userCancel")}},XI="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect,JI=function(){var e=document.querySelector("head");return e||rC(!1),e},eA=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t},tA=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function aA(e){return e instanceof tA(e).HTMLElement}function nA(){var e={draggables:{},droppables:{}},t=[];function a(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function r(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,a({type:"ADDITION",value:t})},update:function(t,a){var n=e.draggables[a.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[a.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var r=t.descriptor.id,i=n(r);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[r],a({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||rC(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return CC(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var a=r(t.descriptor.id);a&&t.uniqueId===a.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=r(e);return t||rC(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return CC(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var a=t.indexOf(e);-1!==a&&t.splice(a,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var rA=t().createContext(null),iA=function(){var e=document.body;return e||rC(!1),e},sA={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},oA=function(e){return"rbd-announcement-"+e},lA=0,cA={separator:"::"};function uA(e,t){return void 0===t&&(t=cA),RS((function(){return""+e+t.separator+lA++}),[t.separator,e])}var dA=t().createContext(null);function mA(t){var a=(0,e.useRef)(t);return(0,e.useEffect)((function(){a.current=t})),a}var pA,fA,hA=((pA={})[13]=!0,pA[9]=!0,pA),yA=function(e){hA[e.keyCode]&&e.preventDefault()},_A=function(){var e="visibilitychange";return"undefined"==typeof document?e:IC([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),gA={type:"IDLE"};function bA(){}var vA=((fA={})[34]=!0,fA[33]=!0,fA[36]=!0,fA[35]=!0,fA);var EA={type:"IDLE"},wA={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function xA(e,t){if(null==t)return!1;if(Boolean(wA[t.tagName.toLowerCase()]))return!0;var a=t.getAttribute("contenteditable");return"true"===a||""===a||t!==e&&xA(e,t.parentElement)}function NA(e,t){var a=t.target;return!!aA(a)&&xA(e,a)}var kA=function(e){return qS(e.getBoundingClientRect()).center},SA=function(){var e="matches";return"undefined"==typeof document?e:IC([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function CA(e,t){return null==e?null:e[SA](t)?e:CA(e.parentElement,t)}function OA(e,t){return e.closest?e.closest(t):CA(e,t)}function IA(e){e.preventDefault()}function AA(e){var t=e.expected,a=e.phase,n=e.isLockActive;return e.shouldWarn,!!n()&&t===a}function TA(e){var t=e.lockAPI,a=e.store,n=e.registry,r=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(r);return!!i&&!!i.options.isEnabled&&!!SI(a.getState(),r)}var PA=[function(t){var a=(0,e.useRef)(gA),n=(0,e.useRef)(JS),r=RS((function(){return{eventName:"mousedown",fn:function(e){if(!e.defaultPrevented&&0===e.button&&!(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){var a=t.findClosestDraggableId(e);if(a){var r=t.tryGetLock(a,o,{sourceEvent:e});if(r){e.preventDefault();var i={x:e.clientX,y:e.clientY};n.current(),u(r,i)}}}}}}),[t]),i=RS((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(e){if(!e.defaultPrevented){var a=t.findClosestDraggableId(e);if(a){var n=t.findOptionsForDraggable(a);n&&(n.shouldRespectForcePress||t.canGetLock(a)&&e.preventDefault())}}}}}),[t]),s=LS((function(){n.current=eC(window,[i,r],{passive:!1,capture:!0})}),[i,r]),o=LS((function(){"IDLE"!==a.current.type&&(a.current=gA,n.current(),s())}),[s]),l=LS((function(){var e=a.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[o]),c=LS((function(){var e=function(e){var t=e.cancel,a=e.completed,n=e.getPhase,r=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,a=e.clientX,i=e.clientY;if(0===t){var s={x:a,y:i},o=n();if("DRAGGING"===o.type)return e.preventDefault(),void o.actions.move(s);if("PENDING"!==o.type&&rC(!1),l=o.point,c=s,Math.abs(c.x-l.x)>=5||Math.abs(c.y-l.y)>=5){var l,c;e.preventDefault();var u=o.actions.fluidLift(s);r({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var r=n();"DRAGGING"===r.type?(e.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),a()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void yA(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var a=n();"IDLE"===a.type&&rC(!1),a.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:_A,fn:t}]}({cancel:l,completed:o,getPhase:function(){return a.current},setPhase:function(e){a.current=e}});n.current=eC(window,e,{capture:!0,passive:!1})}),[l,o]),u=LS((function(e,t){"IDLE"!==a.current.type&&rC(!1),a.current={type:"PENDING",point:t,actions:e},c()}),[c]);XI((function(){return s(),function(){n.current()}}),[s])},function(t){var a=(0,e.useRef)(bA),n=RS((function(){return{eventName:"keydown",fn:function(e){if(!e.defaultPrevented&&32===e.keyCode){var n=t.findClosestDraggableId(e);if(n){var i=t.tryGetLock(n,l,{sourceEvent:e});if(i){e.preventDefault();var s=!0,o=i.snapLift();a.current(),a.current=eC(window,function(e,t){function a(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void a()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(vA[n.keyCode]?n.preventDefault():yA(n))}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:_A,fn:a}]}(o,l),{capture:!0,passive:!1})}}}function l(){s||rC(!1),s=!1,a.current(),r()}}}}),[t]),r=LS((function(){a.current=eC(window,[n],{passive:!1,capture:!0})}),[n]);XI((function(){return r(),function(){a.current()}}),[r])},function(t){var a=(0,e.useRef)(EA),n=(0,e.useRef)(JS),r=LS((function(){return a.current}),[]),i=LS((function(e){a.current=e}),[]),s=RS((function(){return{eventName:"touchstart",fn:function(e){if(!e.defaultPrevented){var a=t.findClosestDraggableId(e);if(a){var r=t.tryGetLock(a,l,{sourceEvent:e});if(r){var i=e.touches[0],s={x:i.clientX,y:i.clientY};n.current(),m(r,s)}}}}}}),[t]),o=LS((function(){n.current=eC(window,[s],{capture:!0,passive:!1})}),[s]),l=LS((function(){var e=a.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(EA),n.current(),o())}),[o,i]),c=LS((function(){var e=a.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=LS((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},a=eC(window,function(e){var t=e.cancel,a=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var a=n();if("DRAGGING"===a.type){a.hasMoved=!0;var r=e.touches[0],i={x:r.clientX,y:r.clientY};e.preventDefault(),a.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var r=n();"DRAGGING"===r.type?(e.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),a()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var a=n();"IDLE"===a.type&&rC(!1);var r=e.touches[0];if(r&&r.force>=.15){var i=a.actions.shouldRespectForcePress();if("PENDING"!==a.type)return i?a.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:_A,fn:t}]}(t),e),i=eC(window,function(e){var t=e.cancel,a=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===a().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:_A,fn:t}]}(t),e);n.current=function(){a(),i()}}),[c,r,l]),d=LS((function(){var e=r();"PENDING"!==e.type&&rC(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),m=LS((function(e,t){"IDLE"!==r().type&&rC(!1);var a=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:a}),u()}),[u,r,i,d]);XI((function(){return o(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(EA))}}),[r,o,i]),XI((function(){return eC(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function MA(t){var a=t.contextId,n=t.store,r=t.registry,i=t.customSensors,s=t.enableDefaultSensors,o=[].concat(s?PA:[],i||[]),l=(0,e.useState)((function(){return function(){var e=null;function t(){e||rC(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&rC(!1);var a={abandon:t};return e=a,a},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=LS((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);XI((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),XI((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=LS((function(e){return TA({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=LS((function(e,t,i){return function(e){var t=e.lockAPI,a=e.contextId,n=e.store,r=e.registry,i=e.draggableId,s=e.forceSensorStop,o=e.sourceEvent;if(!TA({lockAPI:t,store:n,registry:r,draggableId:i}))return null;var l=r.draggable.getById(i),c=function(e,t){var a="["+GI.contextId+'="'+e+'"]',n=IC(AC(document.querySelectorAll(a)),(function(e){return e.getAttribute(GI.id)===t}));return n&&aA(n)?n:null}(a,l.descriptor.id);if(!c)return null;if(o&&!l.options.canDragInteractiveElements&&NA(c,o))return null;var u=t.claim(s||JS),d="PRE_DRAG";function m(){return l.options.shouldRespectForcePress}function p(){return t.isActive(u)}var f=function(e,t){AA({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function h(e){function a(){t.release(),d="COMPLETED"}function r(t,r){if(void 0===r&&(r={shouldBlockNextClick:!1}),e.cleanup(),r.shouldBlockNextClick){var i=eC(window,[{eventName:"click",fn:IA,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}a(),n.dispatch(ZO({reason:t}))}return"PRE_DRAG"!==d&&(a(),"PRE_DRAG"!==d&&rC(!1)),n.dispatch(LO(e.liftActionArgs)),d="DRAGGING",cu({isActive:function(){return AA({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(e){return r("DROP",e)},cancel:function(e){return r("CANCEL",e)}},e.actions)}var y={isActive:function(){return AA({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:function(e){var t=QS((function(e){f((function(){return $O({client:e})}))}));return cu({},h({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return f(VO)},moveRight:function(){return f(WO)},moveDown:function(){return f(UO)},moveLeft:function(){return f(GO)}};return h({liftActionArgs:{id:i,clientSelection:kA(c),movementMode:"SNAP"},cleanup:JS,actions:e})},abort:function(){AA({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&t.release()}};return y}({lockAPI:l,registry:r,contextId:a,store:n,draggableId:e,forceSensorStop:t,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[a,l,r,n]),m=LS((function(e){return function(e,t){var a=function(e,t){var a,n=t.target;if(!((a=n)instanceof tA(a).Element))return null;var r=function(e){return"["+WI.contextId+'="'+e+'"]'}(e),i=OA(n,r);return i&&aA(i)?i:null}(e,t);return a?a.getAttribute(WI.draggableId):null}(a,e)}),[a]),p=LS((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),f=LS((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(YO()))}),[l,n]),h=LS(l.isClaimed,[l]),y=RS((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:m,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:h}}),[u,d,m,p,f,h]),_=0;_<o.length;_++)o[_](y)}var DA=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function FA(e){return e.current||rC(!1),e.current}function RA(a){var n=a.contextId,r=a.setCallbacks,i=a.sensors,s=a.nonce,o=a.dragHandleUsageInstructions,l=(0,e.useRef)(null),c=mA(a),u=LS((function(){return DA(c.current)}),[c]),d=function(t){var a=RS((function(){return oA(t)}),[t]),n=(0,e.useRef)(null);return(0,e.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=a,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),cu(e.style,sA),iA().appendChild(e),function(){setTimeout((function(){var t=iA();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[a]),LS((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(n),m=function(t){var a=t.contextId,n=t.text,r=uA("hidden-text",{separator:"-"}),i=RS((function(){return function(e){return"rbd-hidden-text-"+e.contextId+"-"+e.uniqueId}({contextId:a,uniqueId:r})}),[r,a]);return(0,e.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",iA().appendChild(e),function(){var t=iA();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:n,text:o}),p=function(t,a){var n=RS((function(){return QI(t)}),[t]),r=(0,e.useRef)(null),i=(0,e.useRef)(null),s=LS(ZS((function(e){var t=i.current;t||rC(!1),t.textContent=e})),[]),o=LS((function(e){var t=r.current;t||rC(!1),t.textContent=e}),[]);XI((function(){(r.current||i.current)&&rC(!1);var e=eA(a),l=eA(a);return r.current=e,i.current=l,e.setAttribute(UI+"-always",t),l.setAttribute(UI+"-dynamic",t),JI().appendChild(e),JI().appendChild(l),o(n.always),s(n.resting),function(){var e=function(e){var t=e.current;t||rC(!1),JI().removeChild(t),e.current=null};e(r),e(i)}}),[a,o,s,n.always,n.resting,t]);var l=LS((function(){return s(n.dragging)}),[s,n.dragging]),c=LS((function(e){s("DROP"!==e?n.userCancel:n.dropAnimating)}),[s,n.dropAnimating,n.userCancel]),u=LS((function(){i.current&&s(n.resting)}),[s,n.resting]);return RS((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(n,s),f=LS((function(e){FA(l).dispatch(e)}),[]),h=RS((function(){return(0,Xk.DE)({publishWhileDragging:qO,updateDroppableScroll:zO,updateDroppableIsEnabled:BO,updateDroppableIsCombineEnabled:HO,collectionStarting:jO},f)}),[f]),y=function(){var t=RS(nA,[]);return(0,e.useEffect)((function(){return function(){requestAnimationFrame(t.clean)}}),[t]),t}(),_=RS((function(){return kI(y,h)}),[y,h]),g=RS((function(){return VI(cu({scrollWindow:CI,scrollDroppable:_.scrollDroppable},(0,Xk.DE)({move:$O},f)))}),[_.scrollDroppable,f]),b=function(t){var a=(0,e.useRef)({}),n=(0,e.useRef)(null),r=(0,e.useRef)(null),i=(0,e.useRef)(!1),s=LS((function(e,t){var n={id:e,focus:t};return a.current[e]=n,function(){var t=a.current;t[e]!==n&&delete t[e]}}),[]),o=LS((function(e){var a=function(e,t){var a="["+WI.contextId+'="'+e+'"]',n=AC(document.querySelectorAll(a));if(!n.length)return null;var r=IC(n,(function(e){return e.getAttribute(WI.draggableId)===t}));return r&&aA(r)?r:null}(t,e);a&&a!==document.activeElement&&a.focus()}),[t]),l=LS((function(e,t){n.current===e&&(n.current=t)}),[]),c=LS((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&o(e)})))}),[o]),u=LS((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(WI.draggableId)===e&&(n.current=e)}),[]);return XI((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),RS((function(){return{register:s,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[s,u,c,l])}(n),v=RS((function(){return gI({announce:d,autoScroller:g,dimensionMarshal:_,focusMarshal:b,getResponders:u,styleMarshal:p})}),[d,g,_,b,u,p]);l.current=v;var E=LS((function(){var e=FA(l);"IDLE"!==e.getState().phase&&e.dispatch(YO())}),[]),w=LS((function(){var e=FA(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);r(RS((function(){return{isDragging:w,tryAbort:E}}),[w,E]));var x=LS((function(e){return SI(FA(l).getState(),e)}),[]),N=LS((function(){return EO(FA(l).getState())}),[]),k=RS((function(){return{marshal:_,focus:b,contextId:n,canLift:x,isMovementAllowed:N,dragHandleUsageInstructionsId:m,registry:y}}),[n,_,m,b,x,N,y]);return MA({contextId:n,store:v,registry:y,customSensors:i,enableDefaultSensors:!1!==a.enableDefaultSensors}),(0,e.useEffect)((function(){return E}),[E]),t().createElement(dA.Provider,{value:k},t().createElement(iS,{context:rA,store:v},a.children))}var LA=0;function qA(e){var a=RS((function(){return""+LA++}),[]),n=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return t().createElement(iC,null,(function(r){return t().createElement(RA,{nonce:e.nonce,contextId:a,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var jA=function(e){return function(t){return e===t}},zA=jA("scroll"),BA=jA("auto"),HA=(jA("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),$A=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),a={overflowX:t.overflowX,overflowY:t.overflowY};return HA(a,zA)||HA(a,BA)}(t)?t:e(t.parentElement)},VA=function(e){return{x:e.scrollLeft,y:e.scrollTop}},UA=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},WA={passive:!1},GA={passive:!0},YA=function(e){return e.shouldPublishImmediately?WA:GA};function KA(t){var a=(0,e.useContext)(t);return a||rC(!1),a}var ZA=function(e){return e&&e.env.closestScrollable||null};function QA(){}var XA={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},JA=t().memo((function(a){var n=(0,e.useRef)(null),r=LS((function(){n.current&&(clearTimeout(n.current),n.current=null)}),[]),i=a.animate,s=a.onTransitionEnd,o=a.onClose,l=a.contextId,c=(0,e.useState)("open"===a.animate),u=c[0],d=c[1];(0,e.useEffect)((function(){return u?"open"!==i?(r(),d(!1),QA):n.current?QA:(n.current=setTimeout((function(){n.current=null,d(!1)})),r):QA}),[i,u,r]);var m=LS((function(e){"height"===e.propertyName&&(s(),"close"===i&&o())}),[i,o,s]),p=function(e){var t=e.isAnimatingOpenOnMount,a=e.placeholder,n=e.animate,r=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?XA:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:a,animate:n});return{display:a.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?aI.placeholder:null}}({isAnimatingOpenOnMount:u,animate:a.animate,placeholder:a.placeholder});return t().createElement(a.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":l,onTransitionEnd:m,ref:a.innerRef})})),eT=t().createContext(null),tT=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Qk(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(t().PureComponent),aT=5e3,nT=4500,rT=function(e,t){return t?aI.drop(t.duration):e?aI.snap:aI.fluid},iT=function(e,t){return e?t?XO:JO:null};function sT(e){e.preventDefault()}var oT=function(e,t){return e===t},lT=function(e){var t=e.combine,a=e.destination;return a?a.droppableId:t?t.droppableId:null};function cT(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var uT={mapped:{type:"SECONDARY",offset:pC,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:cT(null)}},dT=DS((function(){var e,t,a,n=(e=ZS((function(e,t){return{x:e,y:t}})),t=ZS((function(e,t,a,n,r){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(r),dropAnimation:r,mode:e,draggingOver:a,combineWith:n,combineTargetFor:null}})),a=ZS((function(e,a,n,r,i,s,o){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:s,mode:a,offset:e,dimension:n,forceShouldAnimate:o,snapshot:t(a,r,i,s,null)}}})),function(n,r){if(n.isDragging){if(n.critical.draggable.id!==r.draggableId)return null;var i=n.current.client.offset,s=n.dimensions.draggables[r.draggableId],o=bO(n.impact),l=(u=n.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=n.forceShouldAnimate;return a(e(i.x,i.y),n.movementMode,s,r.isClone,o,l,c)}var u;if("DROP_ANIMATING"===n.phase){var d=n.completed;if(d.result.draggableId!==r.draggableId)return null;var m=r.isClone,p=n.dimensions.draggables[r.draggableId],f=d.result,h=f.mode,y=lT(f),_=function(e){return e.combine?e.combine.draggableId:null}(f),g={duration:n.dropDuration,curve:QO,moveTo:n.newHomeClientOffset,opacity:_?XO:null,scale:_?eI:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:p,dropping:g,draggingOver:y,combineWith:_,mode:h,forceShouldAnimate:null,snapshot:t(h,m,y,_,g)}}}return null}),r=function(){var e=ZS((function(e,t){return{x:e,y:t}})),t=ZS(cT),a=ZS((function(e,a,n){return void 0===a&&(a=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:a,shouldAnimateDisplacement:n,snapshot:t(a)}}})),n=function(e){return e?a(pC,e,!0):null},r=function(t,r,i,s){var o=i.displaced.visible[t],l=Boolean(s.inVirtualList&&s.effected[t]),c=LC(i),u=c&&c.draggableId===t?r:null;if(!o){if(!l)return n(u);if(i.displaced.invisible[t])return null;var d=_C(s.displacedBy.point),m=e(d.x,d.y);return a(m,u,!0)}if(l)return n(u);var p=i.displacedBy.point,f=e(p.x,p.y);return a(f,u,o.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:r(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var a=e.completed;return a.result.draggableId===t.draggableId?null:r(t.draggableId,a.result.draggableId,a.impact,a.afterCritical)}return null}}();return function(e,t){return n(e,t)||r(e,t)||uT}}),{dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},null,{context:rA,pure:!0,areStatePropsEqual:oT})((function(t){var a=(0,e.useRef)(null),n=LS((function(e){a.current=e}),[]),r=LS((function(){return a.current}),[]),i=KA(dA),s=i.contextId,o=i.dragHandleUsageInstructionsId,l=i.registry,c=KA(eT),u=c.type,d=c.droppableId,m=RS((function(){return{id:t.draggableId,index:t.index,type:u,droppableId:d}}),[t.draggableId,t.index,u,d]),p=t.children,f=t.draggableId,h=t.isEnabled,y=t.shouldRespectForcePress,_=t.canDragInteractiveElements,g=t.isClone,b=t.mapped,v=t.dropAnimationFinished;g||function(t){var a=uA("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,s=t.canDragInteractiveElements,o=t.shouldRespectForcePress,l=t.isEnabled,c=RS((function(){return{canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:l}}),[s,l,o]),u=LS((function(e){var t=i();return t||rC(!1),function(e,t,a){void 0===a&&(a=pC);var n=window.getComputedStyle(t),r=t.getBoundingClientRect(),i=WS(r,n),s=US(i,a);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:s}}(n,t,e)}),[n,i]),d=RS((function(){return{uniqueId:a,descriptor:n,options:c,getDimension:u}}),[n,u,c,a]),m=(0,e.useRef)(d),p=(0,e.useRef)(!0);XI((function(){return r.draggable.register(m.current),function(){return r.draggable.unregister(m.current)}}),[r.draggable]),XI((function(){if(p.current)p.current=!1;else{var e=m.current;m.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}(RS((function(){return{descriptor:m,registry:l,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:y,isEnabled:h}}),[m,l,r,_,y,h]));var E=RS((function(){return h?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":s,draggable:!1,onDragStart:sT}:null}),[s,o,f,h]),w=LS((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&v()}),[v,b]),x=RS((function(){var e=function(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,a=e.offset,n=e.combineWith,r=e.dropping,i=Boolean(n),s=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),o=Boolean(r),l=o?iI(a,i):rI(a);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:rT(s,r),transform:l,opacity:iT(i,o),zIndex:o?nT:aT,pointerEvents:"none"}}(e):{transform:rI((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}(b),t="DRAGGING"===b.type&&b.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":s,"data-rbd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:E}}),[s,E,f,b,w,n]),N=RS((function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}}),[m.droppableId,m.id,m.index,m.type]);return p(x,b.snapshot,N)}));function mT(e){return KA(eT).isUsingCloneFor!==e.draggableId||e.isClone?t().createElement(dT,e):null}function pT(e){var a="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return t().createElement(mT,cu({},e,{isClone:!1,isEnabled:a,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var fT=function(e,t){return e===t.droppable.type},hT=function(e,t){return t.draggables[e.draggable.id]},yT={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||rC(!1),document.body}},_T=DS((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=cu({},e,{shouldAnimatePlaceholder:!1}),a=ZS((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=ZS((function(n,r,i,s,o,l){var c=o.descriptor.id;if(o.descriptor.droppableId===n){var u=l?{render:l,dragging:a(o.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!r)return t;if(!s)return e;var m={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:o.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}}));return function(a,r){var i=r.droppableId,s=r.type,o=!r.isDropDisabled,l=r.renderClone;if(a.isDragging){var c=a.critical;if(!fT(s,c))return t;var u=hT(c,a.dimensions),d=bO(a.impact)===i;return n(i,o,d,d,u,l)}if("DROP_ANIMATING"===a.phase){var m=a.completed;if(!fT(s,m.critical))return t;var p=hT(m.critical,a.dimensions);return n(i,o,lT(m.result)===i,bO(m.impact)===i,p,l)}if("IDLE"===a.phase&&a.completed&&!a.shouldFlush){var f=a.completed;if(!fT(s,f.critical))return t;var h=bO(f.impact)===i,y=Boolean(f.impact.at&&"COMBINE"===f.impact.at.type),_=f.critical.droppable.id===i;return h?y?e:t:_?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:rA,pure:!0,areStatePropsEqual:oT})((function(a){var n=(0,e.useContext)(dA);n||rC(!1);var r=n.contextId,i=n.isMovementAllowed,s=(0,e.useRef)(null),o=(0,e.useRef)(null),l=a.children,c=a.droppableId,u=a.type,d=a.mode,m=a.direction,p=a.ignoreContainerClipping,f=a.isDropDisabled,h=a.isCombineEnabled,y=a.snapshot,_=a.useClone,g=a.updateViewportMaxScroll,b=a.getContainerForClone,v=LS((function(){return s.current}),[]),E=LS((function(e){s.current=e}),[]),w=(LS((function(){return o.current}),[]),LS((function(e){o.current=e}),[])),x=LS((function(){i()&&g({maxScroll:EI()})}),[i,g]);!function(t){var a=(0,e.useRef)(null),n=KA(dA),r=uA("droppable"),i=n.registry,s=n.marshal,o=mA(t),l=RS((function(){return{id:t.droppableId,type:t.type,mode:t.mode}}),[t.droppableId,t.mode,t.type]),c=(0,e.useRef)(l),u=RS((function(){return ZS((function(e,t){a.current||rC(!1);var n={x:e,y:t};s.updateDroppableScroll(l.id,n)}))}),[l.id,s]),d=LS((function(){var e=a.current;return e&&e.env.closestScrollable?VA(e.env.closestScrollable):pC}),[]),m=LS((function(){var e=d();u(e.x,e.y)}),[d,u]),p=RS((function(){return QS(m)}),[m]),f=LS((function(){var e=a.current,t=ZA(e);e&&t||rC(!1),e.scrollOptions.shouldPublishImmediately?m():p()}),[p,m]),h=LS((function(e,t){a.current&&rC(!1);var r=o.current,i=r.getDroppableRef();i||rC(!1);var s=function(e){return{closestScrollable:$A(e),isFixedOnPage:UA(e)}}(i),c={ref:i,descriptor:l,env:s,scrollOptions:t};a.current=c;var u=function(e){var t=e.ref,a=e.descriptor,n=e.env,r=e.windowScroll,i=e.direction,s=e.isDropDisabled,o=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,u=function(e,t){var a=GS(e);if(!t)return a;if(e!==t)return a;var n=a.paddingBox.top-t.scrollTop,r=a.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,s=r+t.scrollWidth,o=jS({top:n,right:s,bottom:i,left:r},a.border);return HS({borderBox:o,margin:a.margin,border:a.border,padding:a.padding})}(t,c),d=US(u,r),m=function(){if(!c)return null;var e=GS(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:US(e,r),scroll:VA(c),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,a=e.isEnabled,n=e.isCombineEnabled,r=e.isFixedOnPage,i=e.direction,s=e.client,o=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,a=bI({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:a,diff:{value:pC,displacement:pC}}}}(),u="vertical"===i?WC:GC;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:a,client:s,page:o,frame:c,subject:kC({page:o,withPlaceholder:null,axis:u,frame:c})}}({descriptor:a,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:m});return p}({ref:i,descriptor:l,env:s,windowScroll:e,direction:r.direction,isDropDisabled:r.isDropDisabled,isCombineEnabled:r.isCombineEnabled,shouldClipSubject:!r.ignoreContainerClipping}),d=s.closestScrollable;return d&&(d.setAttribute(KI.contextId,n.contextId),d.addEventListener("scroll",f,YA(c.scrollOptions))),u}),[n.contextId,l,f,o]),y=LS((function(){var e=a.current,t=ZA(e);return e&&t||rC(!1),VA(t)}),[]),_=LS((function(){var e=a.current;e||rC(!1);var t=ZA(e);a.current=null,t&&(p.cancel(),t.removeAttribute(KI.contextId),t.removeEventListener("scroll",f,YA(e.scrollOptions)))}),[f,p]),g=LS((function(e){var t=a.current;t||rC(!1);var n=ZA(t);n||rC(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),b=RS((function(){return{getDimensionAndWatchScroll:h,getScrollWhileDragging:y,dragStopped:_,scroll:g}}),[_,h,y,g]),v=RS((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);XI((function(){return c.current=v.descriptor,i.droppable.register(v),function(){a.current&&_(),i.droppable.unregister(v)}}),[b,l,_,v,s,i.droppable]),XI((function(){a.current&&s.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)}),[t.isDropDisabled,s]),XI((function(){a.current&&s.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)}),[t.isCombineEnabled,s])}({droppableId:c,type:u,mode:d,direction:m,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:p,getDroppableRef:v});var N=t().createElement(tT,{on:a.placeholder,shouldAnimate:a.shouldAnimatePlaceholder},(function(e){var a=e.onClose,n=e.data,i=e.animate;return t().createElement(JA,{placeholder:n,onClose:a,innerRef:w,animate:i,contextId:r,onTransitionEnd:x})})),k=RS((function(){return{innerRef:E,placeholder:N,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":r}}}),[r,c,N,E]),S=_?_.dragging.draggableId:null,C=RS((function(){return{droppableId:c,type:u,isUsingCloneFor:S}}),[c,S,u]);return t().createElement(eT.Provider,{value:C},l(k,y),function(){if(!_)return null;var e=_.dragging,a=_.render,n=t().createElement(mT,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(t,n){return a(t,n,e)}));return gn().createPortal(n,b())}())}));_T.defaultProps=yT;const gT=({label:t,name:a,value:n})=>{const{setFieldValue:r}=ep();return(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:a},t)),(0,e.createElement)("div",{id:a,className:"form-body"},void 0===n?(0,e.createElement)(wd,null):(0,e.createElement)("div",{className:"academy-control-field academy-control-field--sortable"},(0,e.createElement)(qA,{onDragEnd:e=>{const{source:t,destination:i}=e;if(i&&t.droppableId===a&&i.droppableId===a){const e=[...n],[s]=e.splice(t.index,1);e.splice(i.index,0,s),r(a,e)}}},(0,e.createElement)(_T,{droppableId:a},(t=>(0,e.createElement)("ul",{className:"academy-sortable-list",...t.droppableProps,ref:t.innerRef},n?.map(((t,i)=>(0,e.createElement)(pT,{key:i,draggableId:`${Object.keys(t)}`,index:i},((s,o)=>(0,e.createElement)("div",{className:"academy-sortable-list__item "+(t[Object.keys(t)]?"visible":"invisible"),key:i,ref:s.innerRef,...s.draggableProps,...s.dragHandleProps,style:{border:o.isDragging&&"1px solid var(--academy-primary-color)",...s.draggableProps.style}},(0,e.createElement)("label",{htmlFor:i,className:"academy-sortable-list__item-label"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag"}),Object.keys(t)),(0,e.createElement)(lu,{className:"academy-sortable-list__item-control",icon:t[Object.keys(t)]?(0,e.createElement)("span",{className:"academy-icon academy-icon--checked academy-checked-is-true"}):(0,e.createElement)("span",{className:"academy-icon academy-icon--checked"}),onClick:()=>((e,t)=>{const i={...e};i[t[0]]=!e[t[0]];const s=n.map((e=>Object.keys(e)[0]===t[0]?i:e));r(a,s)})(t,Object.keys(t))})))))),t.placeholder)))))))},bT=[{label:"None",value:"none"},{label:"Left Sidebar",value:"left"},{label:"Right Sidebar",value:"right"}],vT=[{label:(0,W.__)("Default Sorting","academy"),value:"DESC"},{label:(0,W.__)("Menu Order","academy"),value:"menu_order"},{label:(0,W.__)("Order by course name","academy"),value:"name"},{label:(0,W.__)("Order by Publish Date","academy"),value:"date"},{label:(0,W.__)("Order by Modified Date","academy"),value:"modified"},{label:(0,W.__)("Order by Most Reviews","academy"),value:"ratings"},{label:(0,W.__)("Order by ID","academy"),value:"ID"}],ET=()=>{const{values:t,setFieldValue:a}=ep(),[n,r]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Course Page","academy")),(0,e.createElement)(Av,{title:(0,W.__)("Course Page","academy"),name:"course_page",postType:"page"}),(0,e.createElement)(PE,{name:"is_expire_course_enrollment",title:(0,W.__)("Expire Enrollment","academy"),subtitle:(0,W.__)("Turn on this option to set an expire enrollment date for all courses.","academy"),isPro:!0}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_enabled_course_review",title:(0,W.__)("Course Review","academy"),subtitle:(0,W.__)("Turn on this option to show course review option.","academy")}),(0,e.createElement)(PE,{name:"is_enabled_course_share",title:(0,W.__)("Course Share","academy"),subtitle:(0,W.__)("Turn on this option to show course share button.","academy")}),(0,e.createElement)(PE,{name:"is_enabled_course_wishlist",title:(0,W.__)("Course Wishlist","academy"),subtitle:(0,W.__)("Turn on this option to show course wishlist option.","academy")}),(0,e.createElement)(Zk,{name:"course_archive_courses_per_page",title:(0,W.__)("Course Archive Per Page","academy"),min:1}),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"form-group form-group__course-row"},(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)("div",{className:"academy-row-option"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("span",{className:"form-info__title"},(0,W.__)("Course Archive Per Row (Desktop)","academy")),(0,e.createElement)("span",{className:"form-info__subtitle"},(0,W.__)("Set the number of courses to show on the desktop view.","academy"))),(0,e.createElement)(bp,{name:"course_archive_courses_per_row.desktop",type:"number",min:1,className:"academy-input"})),(0,e.createElement)("div",{className:"academy-row-option"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("span",{className:"form-info__title"},(0,W.__)("Course Archive Per Row (Tablet)","academy")),(0,e.createElement)("span",{className:"form-info__subtitle"},(0,W.__)("Set the number of courses to show on the mobile view.","academy"))),(0,e.createElement)(bp,{name:"course_archive_courses_per_row.tablet",type:"number",min:1,className:"academy-input"})),(0,e.createElement)("div",{className:"academy-row-option"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("span",{className:"form-info__title"},(0,W.__)("Course Archive Per Row (Mobile)","academy")),(0,e.createElement)("span",{className:"form-info__subtitle"},(0,W.__)("Set the number of courses to show on the mobile view.","academy"))),(0,e.createElement)(bp,{name:"course_archive_courses_per_row.mobile",type:"number",min:1,className:"academy-input"})))),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"academy-flex academy-settings-config-filters"},(0,e.createElement)("p",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Course archive filters","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Choose preferred filter options to display on the course archive page.","academy"))),(0,e.createElement)(lu,{onClick:()=>r(!0),label:(0,W.__)("Config Filters","academy"),border:"gray",preset:"transparent",size:"md",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--build"}),iconPosition:"left"})),(0,e.createElement)(fd,{isOpen:n,onRequestClose:function(){r(!1)},title:(0,W.__)("Config filter","academy"),size:"small",suffix:"settings-sort"},(0,e.createElement)(gT,{name:"course_archive_filters",value:t?.course_archive_filters})),(0,e.createElement)("div",{className:"form-group form-group__radio academy-mb-6"},(0,e.createElement)("div",{className:"form-info"},(0,W.__)("Course Archive Sidebar","academy")),(0,e.createElement)("div",{className:"form-body"},bT.map(((t,a)=>(0,e.createElement)("label",{className:"academy-radio-option",key:a,htmlFor:`course_archive_sidebar_position-${a}`},(0,e.createElement)(bp,{id:`course_archive_sidebar_position-${a}`,name:"course_archive_sidebar_position",type:"radio",className:"academy-input"}),(0,e.createElement)("span",null,t.label)))))),(0,e.createElement)("div",{className:"academy-flex academy-mb-6"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Course Archive Order","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select Course Archive default order","academy-pro"))),(0,e.createElement)(Pd,{name:"course_archive_courses_order",suffix:"archive-order",options:vT,value:vT.find((e=>e.value===t?.course_archive_courses_order)),onChangeHandler:e=>a("course_archive_courses_order",e)})),(0,e.createElement)(Tv,null),(0,e.createElement)("h4",{className:"academy-heading"},(0,W.__)("Course Details","academy")),(0,e.createElement)(PE,{name:"is_enabled_course_single_enroll_count",title:(0,W.__)("Total Enroll Count","academy"),subtitle:(0,W.__)("Turn on this option to show enroll count in course details.","academy")}),(0,e.createElement)(PE,{name:"is_opened_course_single_first_topic",title:(0,W.__)("Topics First Item Open","academy"),subtitle:(0,W.__)("Turn on this option to open topics first item.","academy")}))},wT=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Instructor Page","academy")),(0,e.createElement)(Av,{title:(0,W.__)("Instructor Registration Page","academy"),name:"frontend_instructor_reg_page",postType:"page"}),(0,e.createElement)(PE,{name:"is_show_public_profile",title:(0,W.__)("Public Profile","academy"),subtitle:(0,W.__)("Enable Instructor Public Profile.","academy")}),(0,e.createElement)(PE,{name:"is_instructor_can_publish_course",title:(0,W.__)("Allow publishing course","academy"),subtitle:(0,W.__)("Enable instructors to publish course directly.","academy")}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_instructor_update_course_price",title:(0,W.__)("Allow Update Course Price","academy"),subtitle:(0,W.__)("Enable instructors to update course price.","academy")}),(0,e.createElement)(PE,{name:"is_enabled_instructor_review",title:(0,W.__)("Instructor Reviews","academy"),subtitle:(0,W.__)("ON/OFF Instructor Reviews Inside Course Details.","academy")})),xT=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Student Page","academy")),(0,e.createElement)(Av,{title:(0,W.__)("Student Registration Page","academy"),name:"frontend_student_reg_page",postType:"page"}),(0,e.createElement)(PE,{name:"is_student_can_upload_files",title:(0,W.__)("Allow Upload Files","academy"),subtitle:(0,W.__)("Enable student upload files ","academy")})),NT={name:Zc().string,value:Zc().number,imageSize:Zc().string,supportedFile:Zc().string,title:Zc().string,subtitle:Zc().string,desc:Zc().string,suffix:Zc().string};function kT(a){const{value:n,name:r,imageSize:i,supportedFile:s,title:o,subtitle:l,desc:c,suffix:u}=a,{setFieldValue:d}=ep(),[m,p]=(0,e.useState)({}),[f,h]=(0,e.useState)(!1);(0,e.useEffect)((()=>{n?(h(!0),Za.get(`wp/v2/media/${n}`).then((e=>{p({url:e.data.source_url}),h(!1)}))):(p({}),h(!1))}),[n]);const y=AE().uniqueId(r+"_");return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:`form-group ${u&&"form-group--"+u}`},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:y},o),l&&(0,e.createElement)("span",{className:"sub-title"},l),(0,e.createElement)("div",{className:"academy-settings-upload-image__left"},(0,e.createElement)("div",{className:"academy-settings-upload-image__left-info"},(0,e.createElement)("p",{className:"academy-settings-upload-image__left-info-span"},i),(0,e.createElement)("p",{className:"academy-settings-upload-image__left-info-support"},(0,e.createElement)("span",null,(0,W.__)("File Support:","academy"))," ",s,".")),(0,e.createElement)(lu,{type:"button",onClick:e=>(e=>{e.preventDefault(),rn().then((e=>{d(r,e.id),p(e)}))})(e),preset:"clear",size:"sm",border:"gray",label:(0,W.__)("Change Logo","academy")}))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)("div",{id:y,className:"academy-settings-upload-image__right"},f?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)(e.Fragment,null,0===Object.keys(m).length?(0,e.createElement)("div",{className:"academy-settings-upload-image__right-empty"},(0,e.createElement)("div",{className:"academy-settings-upload-image__right-empty-wrap",style:{backgroundImage:`url(${ja})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"right"}})):(0,e.createElement)(e.Fragment,null,Object.keys(m).length>0&&(0,e.createElement)("div",{className:"academy-settings-upload-image__right",style:{backgroundImage:`url(${m.url})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"right"}},(0,e.createElement)(lu,{onClick:()=>{d(r,0),p({})},type:"button",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),className:"academy-btn-delete"}))))),c&&(0,e.createElement)("span",{className:"desc"},c))))}kT.propTypes=NT,kT.defaultProps={name:"",value:0,imageSize:"700x430 pixels",supportedFile:".JPG, .JPEG, .PNG",suffix:"radio-check"};const ST=()=>{const{values:t,setFieldValue:a}=ep(),{is_enabled_lessons_php_render:n}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Learn Page","academy")),(0,e.createElement)(PE,{name:"is_enabled_lessons_php_render",title:(0,W.__)("Enable Lessons PHP Render","academy"),subtitle:(0,W.__)("Turn on this options if you want render Lessons Page by PHP.","academy"),isPro:!1}),n&&(0,e.createElement)(Av,{title:(0,W.__)("Lessons Page","academy"),name:"lessons_page",postType:"page"}),(0,e.createElement)(kT,{name:"lessons_topbar_logo",title:(0,W.__)("Topbar Logo","academy"),imageSize:"Recommended Size: 80x80 pixel",value:t.lessons_topbar_logo?t.lessons_topbar_logo:0,saveValueHandler:a}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_enabled_lessons_theme_header_footer",title:(0,W.__)("Enable Page Header & Footer","academy"),subtitle:(0,W.__)("Turn on this options if you want to show your website default page header & footer.","academy"),isPro:!1}),(0,e.createElement)(PE,{name:"is_enabled_lessons_content_title",title:(0,W.__)("Enable Lesson Title","academy"),subtitle:(0,W.__)("Turn on this options if you want to show lesson title inside lesson editor.","academy"),isPro:!1}),(0,e.createElement)(Zk,{name:"lessons_topic_length",title:(0,W.__)("Curriculum Title Length","academy"),subtitle:(0,W.__)("0 Means you want to show full title.","academy"),isPro:!1}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_disabled_lessons_right_click",title:(0,W.__)("Disable Right Click","academy"),subtitle:(0,W.__)("Turn on this options if you want to disable right click in lessons pages.","academy"),isPro:!1}),(0,e.createElement)(PE,{name:"is_enabled_academy_player",title:(0,W.__)("Academy Player","academy"),subtitle:(0,W.__)("Turn on this option to activate academy youtube player","academy"),isPro:!0}),(0,e.createElement)(PE,{name:"auto_load_next_lesson",title:(0,W.__)("Auto Load Next Lesson","academy"),subtitle:(0,W.__)("Turn on this feature to seamlessly proceed to the next lesson once you finish the current one.","academy"),isPro:!0}),(0,e.createElement)(PE,{name:"auto_complete_topic",title:(0,W.__)("Auto Complete Topic","academy"),subtitle:(0,W.__)("Turn on this feature to seamlessly auto complete topic.","academy"),isPro:!0}))};function CT(){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Tutor Booking","academy")),(0,e.createElement)(Av,{title:(0,W.__)("Booking Page","academy"),name:"tutor_booking_page",postType:"page"}))}function OT(){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Dashboard Page","academy")),(0,e.createElement)(Av,{title:(0,W.__)("Frontend Dashboard Page","academy"),name:"frontend_dashboard_page",postType:"page"}))}function IT(){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Password Reset Page","academy")),(0,e.createElement)(Av,{title:(0,W.__)("Password Reset Page","academy"),name:"password_reset_page",postType:"page"}))}const AT=()=>{const{values:t}=ep();return(0,e.createElement)("div",{className:"form-group form-group__field-options"},(0,e.createElement)("label",{className:"form-info"},(0,W.__)("Options","academy")),(0,e.createElement)(Cp,{name:"options"},(({push:a,remove:n})=>(0,e.createElement)(vp,null,(0,e.createElement)("div",{className:"form-group form-group--option-list"},t.options.map(((t,a)=>(0,e.createElement)("div",{className:"form-group form-group--list-item",key:a},(0,e.createElement)("label",{htmlFor:`options.${a}.label`},(0,W.__)("Label","academy"),(0,e.createElement)(bp,{type:"text",name:`options.${a}.label`})),(0,e.createElement)("label",{htmlFor:`options.${a}.value`},(0,W.__)("Value","academy"),(0,e.createElement)(bp,{type:"text",name:`options.${a}.value`})),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),onClick:()=>n(a)})))),(0,e.createElement)(lu,{label:(0,W.__)("Add option","academy"),onClick:()=>a({label:`Label ${t.options.length}`,value:t.options.length})}))))))},TT=[{id:"grid-1",value:1},{id:"grid-2",value:2},{id:"grid-3",value:3},{id:"grid-4",value:4}],PT=["first-name","last-name","email","confirm-email","password","confirm-password","button"],MT={instructorFormFields:[{fields:[{label:(0,W.__)("Email","academy"),type:"email",name:"email",placeholder:(0,W.__)("Email Field","academy"),subLabel:"Email Field",is_required:!0}]},{fields:[{label:(0,W.__)("Password","academy"),type:"password",name:"password",placeholder:(0,W.__)("Password Field","academy"),subLabel:"Password Field",is_required:!0},{label:(0,W.__)("Confirm Password","academy"),type:"password",name:"confirm-password",placeholder:(0,W.__)("Password Field","academy"),subLabel:"Password Field",is_required:!0}]},{fields:[{label:(0,W.__)("Submit","academy"),type:"button",name:"button",is_required:!0}]}],initialFields:[{label:(0,W.__)("First Name","academy"),type:"text",name:"first-name",placeholder:(0,W.__)("Enter your first name","academy"),is_required:!0},{label:(0,W.__)("Last Name","academy"),type:"text",name:"last-name",placeholder:(0,W.__)("Enter your last name","academy"),is_required:!0},{label:(0,W.__)("Email","academy"),type:"email",name:"email",placeholder:(0,W.__)("Email Field","academy"),is_required:!0},{label:(0,W.__)("Confirm Email","academy"),type:"email",name:"confirm-email",placeholder:(0,W.__)("Email Field","academy"),is_required:!0},{label:(0,W.__)("Password","academy"),type:"password",name:"password",placeholder:(0,W.__)("Password Field","academy"),is_required:!0},{label:(0,W.__)("Confirm Password","academy"),type:"password",name:"confirm-password",placeholder:(0,W.__)("Password Field","academy"),is_required:!0},{label:(0,W.__)("Phone","academy"),type:"number",name:"phone-number",placeholder:(0,W.__)("Phone Number","academy"),is_required:!1},{label:(0,W.__)("Text","academy"),type:"text",name:"text-field",placeholder:(0,W.__)("Text Field","academy"),is_required:!1},{label:(0,W.__)("Number","academy"),type:"number",name:"number-field",placeholder:(0,W.__)("Number Field","academy"),is_required:!1},{label:(0,W.__)("Textarea","academy"),type:"textarea",name:"textarea-field",placeholder:(0,W.__)("Textarea Field","academy"),is_required:!1},{label:(0,W.__)("Radio","academy"),type:"radio",name:"radio-field",placeholder:(0,W.__)("Radio Field","academy"),options:[{label:"Label One",value:"a"},{label:"Label Two",value:"b"}],is_required:!1},{label:(0,W.__)("Checkbox","academy"),type:"checkbox",name:"checkbox-field",placeholder:(0,W.__)("Checkbox Field","academy"),options:[{label:"Label One",value:"a"},{label:"Label Two",value:"b"}],is_required:!1},{label:(0,W.__)("Time","academy"),type:"time",name:"time-field",placeholder:(0,W.__)("Time Field","academy"),is_required:!1},{label:(0,W.__)("Date","academy"),type:"date",name:"date-field",placeholder:(0,W.__)("Date Field","academy"),is_required:!1},{label:(0,W.__)("Range","academy"),type:"range",name:"range-field",placeholder:(0,W.__)("Range Field","academy"),is_required:!1},{label:(0,W.__)("Select","academy"),type:"select",name:"select-field",placeholder:(0,W.__)("Select Field","academy"),options:[{label:"Label One",value:"a"},{label:"Label Two",value:"b"}],is_required:!1},{label:(0,W.__)("Submit","academy"),type:"button",name:"button",is_required:!0}]},DT=(e,t,a,n,r,i,s)=>{const o=n.map(((e,n)=>{if(n===t){const t=e.fields.filter(((e,t)=>t!==a));return 0===t.length?{...e,fields:[{}]}:{...e,fields:t}}return e}));i(s,o),r(o)},FT=function({isModalOpen:t,onRequestClose:a,onSubmitHandler:n,initialValues:r}){const i=!(!PT.includes(r?.name)&&"phone-number"!==r.name);return(0,e.createElement)(zf,{title:(0,W.__)("Field Details","academy"),isOpen:t,onRequestClose:a,submitButtonLabel:(0,W.__)("Update field","academy"),suffix:"field-form",size:"small",formik:{enableReinitialize:!0,initialValues:r,onSubmit:n}},(0,e.createElement)("div",{className:"academy-field-details"},(0,e.createElement)("div",{className:"form-group form-group__text-field"},(0,e.createElement)("label",{htmlFor:"field_label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Label","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(bp,{id:"field_label",name:"label",type:"text"}))),r.placeholder&&(0,e.createElement)("div",{className:"form-group form-group__text-field"},(0,e.createElement)("label",{htmlFor:"placeholder"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Placeholder","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(bp,{id:"placeholder",name:"placeholder",type:"text"}))),r.name&&"button"!==r.type&&(0,e.createElement)("div",{className:"form-group form-group__text-field"},(0,e.createElement)("label",{htmlFor:"name"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Field Name","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(bp,{id:"name",name:"name",type:"text",disabled:i}),(0,e.createElement)("div",{className:"desc"},(0,W.__)("Please don't use empty space for name instead use -,_ these symbols.","academy")))),r.options&&(0,e.createElement)(AT,null),(0,e.createElement)("div",{className:"form-group form-group--checkbox"},(0,e.createElement)("label",{htmlFor:"is_required"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Required","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(bp,{id:"is_required",type:"checkbox",name:"is_required",component:Ip})))))},RT=({formFields:t,setFormFields:a,index:n,subIndex:r,name:i})=>{const[s,o]=(0,e.useState)(!1),{setFieldValue:l}=ep();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{onClick:()=>o(!0),suffix:"insert-field",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"})}),(0,e.createElement)(fd,{isOpen:s,title:(0,W.__)("Fields","academy"),onRequestClose:()=>o(!1),style:{overlay:{background:"rgba(35, 40, 45, 0.62)",overflow:"visible",display:"flex",justifyContent:"center",zIndex:9999},content:{inset:"unset",padding:0,border:0,marginTop:"200px",overflow:"visible"}}},(0,e.createElement)("div",{className:"academy-options-container"},(0,e.createElement)("div",{className:"academy-options-container--body"},MT.initialFields.map(((s,c)=>{const u=t.find((e=>e.fields.find((e=>e.name===s.name)))),d=PT.includes(s.name);return(0,e.createElement)(lu,{key:c,className:"academy-option",isDisabled:!d&&!Sa||d&&u,label:(0,e.createElement)(e.Fragment,null,s.label,!d&&!Sa&&(0,e.createElement)(Jc,{suffix:"academy-pro-badge"})),onClick:()=>{(e=>{const s=[...t];s[n].fields=t[n].fields.map(((t,a)=>a===r?{...t,...e}:t)),a(s),l(i,s),o(!1)})(s.fieldOptions?s.fieldOptions[0]:s)}})}))))))},LT=ad((({field:t,itemIndex:a,parentIndex:n,handleField:r,formFields:i,setFormFields:s,name:o})=>{const{setFieldValue:l}=ep(),c=(e=!1)=>{const t=[...i],r=[...i[n].fields];t[n].fields=e?[...r.slice(0,a),{},...r.slice(a)]:[...r.slice(0,a+1),{},...r.slice(a+1)],s(t),l(o,t)},u=4!==i[n].fields.length?[{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Add left field","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),onClick:()=>c(!0)},{type:"button",label:(0,e.createElement)("span",null,(0,W.__)("Add right field","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),onClick:()=>c()}]:[],d=!Sa&&!PT.includes(t.name);return(0,e.createElement)("div",{className:"academy-sortable-form-field",key:`field-${a}`},(0,e.createElement)("div",{className:`academy-form-field ${t.type?`academy-form-field--${t.type}`:"academy-form-field--is-empty"} ${4===i[n].fields.length&&"academy-form-field--column-gap"} ${1===i[n].fields.length&&"academy-form-field--first-child"} `},d&&(0,e.createElement)("div",{className:"field-disabled"}),t.type?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-form-field--heading"},(0,e.createElement)("span",{className:"academy-form-field__text"},(0,e.createElement)("span",{className:"academy-icon academy-icon--drag academy-field-move-icon"}),"button"===t.type?"Button":t.label,t?.is_required&&(0,e.createElement)("span",{className:"academy-required-field"},"*"),d&&(0,e.createElement)("span",{className:"academy-pro-badge"},"PRO")),(0,e.createElement)("div",{className:"academy-form-field--heading__buttons"},(0,e.createElement)("div",{className:"academy-field-switch-control"},(0,e.createElement)("input",{type:"checkbox",name:"is_required",checked:t.is_required,disabled:d,onChange:e=>{((e,t,a,n,r,i,s,o)=>{const l=[...r],c={...t,is_required:e};l[a].fields[n]=c,s(l),i(o,l)})(e.target.checked,t,n,a,i,l,s,o)}})),(0,e.createElement)(ld,{icon:"three-dots-menu",options:[...u,{type:"button",hasBorder:!0,label:(0,e.createElement)("span",null,(0,W.__)("Edit","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>r(t,n,a)},{type:"button",suffix:"trash",label:(0,e.createElement)("span",null,(0,W.__)("Delete","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>DT(0,n,a,i,s,l,o)}]}))),"button"!==t.type?(0,e.createElement)(e.Fragment,null,(t=>"select"===t.type?(0,e.createElement)(bp,{as:t?.type,name:t?.name,placeholder:t?.placeholder,required:t?.is_required},(0,e.createElement)(e.Fragment,null,t?.options?.map(((t,a)=>(0,e.createElement)("option",{key:a,value:t.value},t.label))))):"checkbox"===t.type||"radio"===t.type?(0,e.createElement)("div",{className:"academy-form-field--options"},t?.options?.map(((a,n)=>(0,e.createElement)("label",{htmlFor:"",key:n},a.label,(0,e.createElement)(bp,{type:t?.type,name:t?.name,value:a.value,placeholder:t?.placeholder,required:t?.is_required}))))):(0,e.createElement)(bp,{type:t?.type,name:t?.name,placeholder:t?.placeholder,value:"",required:t?.is_required}))(t)):(0,e.createElement)(lu,{suffix:"form-btn",label:t.label,type:"submit"})):(0,e.createElement)(e.Fragment,null,i[n].fields.length>1&&(0,e.createElement)("div",{className:"academy-form-remove-empty-field"},(0,e.createElement)(ld,{icon:"three-dots-menu",options:[...u,{type:"button",suffix:"trash",label:(0,e.createElement)("span",null,(0,W.__)("Delete","academy")),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>DT(0,n,a,i,s,l,o)}]})),(0,e.createElement)(RT,{subIndex:a,index:n,formFields:i,setFormFields:s}))))})),qT=Ju((t=>(0,e.createElement)("div",{className:"academy-form-field-wrapper"},t.children))),jT=({item:t,itemIndex:a,setFormFields:n,formFields:r,handleField:i,name:s})=>{const{setFieldValue:o}=ep();return(0,e.createElement)(qT,{onSortEnd:({oldIndex:e,newIndex:i})=>{const l=nd(t.fields,e,i),c=r.map(((e,t)=>t===a?{...e,fields:l}:e));n(c),o(s,c)},axis:"x"},t&&t.fields?.map(((t,o)=>(0,e.createElement)(LT,{key:`field-${o}`,index:o,itemIndex:o,parentIndex:a,field:t,formFields:r,setFormFields:n,handleField:i,name:s}))))},zT=ad((({item:t,itemIndex:a,setFormFields:n,formFields:r,handleField:i,name:s})=>{const{setFieldValue:o}=ep();return(0,e.createElement)("div",{className:"academy-sortable-form-group",key:`item-${a}`},(0,e.createElement)("div",{className:"academy-sortable-row-buttons"},t.fields.length>0&&(0,e.createElement)("span",{className:"academy-icon academy-icon--move academy-move-icon"}),t.fields.length>0&&(0,e.createElement)(lu,{onClick:()=>((e,t,a,n,r)=>{let i=[...t];i=i.filter(((t,a)=>a!==e)),n(r,i),a(i)})(a,r,n,o,s),className:"academy-empty-field",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"})})),(0,e.createElement)(jT,{item:t,itemIndex:a,setFormFields:n,formFields:r,handleField:i,name:s}))})),BT=Ju((t=>(0,e.createElement)("div",{className:"academy-form-group-wrapper"},t.children))),HT=({formFields:t,setFormFields:a,handleField:n,name:r})=>{const{setFieldValue:i}=ep();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(BT,{onSortEnd:({oldIndex:e,newIndex:n})=>{a(nd(t,e,n)),i(r,nd(t,e,n))},axis:"y"},t&&t?.map(((i,s)=>(0,e.createElement)(zT,{key:`item-${s}`,index:s,itemIndex:s,item:i,formFields:t,setFormFields:a,handleField:n,name:r})))))},$T=({formFields:t,handleField:a,setShowGrid:n,gridOptions:r,showGrid:i,label:s,setFormFields:o,setInitialFieldOptions:l,name:c})=>{const{setFieldValue:u}=ep();return(0,e.createElement)("div",{className:"academy-form-builder__form-wrapper"},(0,e.createElement)("div",{className:"academy-form-builder__form-wrapper__top-bar"},(0,e.createElement)("h2",{className:"academy-heading"},s),t.length>0&&(0,e.createElement)(lu,{label:(0,W.__)("Reset Form","academy"),suffix:"reset",iconPosition:"right",size:"sm",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>{u(c,MT.instructorFormFields),o(MT.instructorFormFields)}})),(0,e.createElement)("div",{className:"academy-form-builder__form"},(0,e.createElement)(HT,{formFields:t,setFormFields:o,handleField:a,setInitialFieldOptions:l,name:c}),i?(0,e.createElement)("div",{className:"academy-add-grid"},(0,e.createElement)("div",{className:"academy-grid-options"},r.map((a=>(0,e.createElement)("div",{key:a.id,className:"grid-box"},(0,e.createElement)(e.Fragment,null,Array.from({length:a.value},((r,i)=>(0,e.createElement)("span",{role:"presentation",key:i,className:"sub-grid-box",onClick:()=>{((e,t,a,n,r)=>{let i=[];Array.from({length:e},(()=>{i=[...i,{}]}));const s=[...t,{gridId:`grid-${t.length}`,fields:i}];a(s),n(r,s)})(a.value,t,o,u,c),n(!1)}}))),(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}))))),(0,e.createElement)(lu,{className:"academy-grid-remove",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),onClick:()=>n(!1)}))):(0,e.createElement)("div",{className:"academy-add-grid-btn"},(0,e.createElement)(lu,{label:(0,W.__)("Add Container","academy"),preset:"transparent",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--simple-add"}),suffix:"grid-btn",onClick:()=>n(!0),border:"gray"}))))},VT=()=>{const{values:t,setFieldValue:a}=ep(),{form_builder:n}=t,{student:r}=n,[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)(null!=r?r:[]),[p,f]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-form-builder"},(0,e.createElement)($T,{formFields:d,setFormFields:m,handleField:(e,t,a)=>{l(e),s(!0),u({itemIndex:t,subIndex:a})},gridOptions:TT,setShowGrid:f,showGrid:p,label:(0,W.__)("STUDENT FORM BUILDER","academy"),suffix:"instructorFormFields",name:"form_builder.student"})),(0,e.createElement)(FT,{isModalOpen:i,onRequestClose:()=>{s(!1)},onSubmitHandler:(e,t)=>{let n={...e};e?.name?.includes(" ")&&(n={...e,name:e.name.replace(/ +/g,"-")}),n?.name?.endsWith("-")&&(n={...e,name:n.name.slice(0,-1)}),t.setSubmitting(!0);const r=d.map(((e,t)=>{if(t===c.itemIndex){const t=e.fields.map(((e,t)=>t===c.subIndex?{...n}:e));return{...e,fields:t}}return e}));m(r),a("form_builder.student",r),s(!1)},initialValues:o}))},UT=()=>{const{values:t,setFieldValue:a}=ep(),{form_builder:n}=t,{instructor:r}=n,[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)(null!=r?r:[]),[p,f]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-form-builder"},(0,e.createElement)($T,{formFields:d,setFormFields:m,handleField:(e,t,a)=>{l(e),s(!0),u({itemIndex:t,subIndex:a})},gridOptions:TT,setShowGrid:f,showGrid:p,label:(0,W.__)("INSTRUCTOR FORM BUILDER","academy"),name:"form_builder.instructor"})),(0,e.createElement)(FT,{isModalOpen:i,onRequestClose:()=>{s(!1)},onSubmitHandler:(e,t)=>{let n={...e};e?.name?.includes(" ")&&(n={...e,name:e.name.replace(/ +/g,"-")}),n?.name?.endsWith("-")&&(n={...e,name:n.name.slice(0,-1)}),t.setSubmitting(!0);const r=d.map(((e,t)=>{if(t===c.itemIndex){const t=e.fields.map(((e,t)=>t===c.subIndex?{...n}:e));return{...e,fields:t}}return e}));m(r),a("form_builder.instructor",r),s(!1)},initialValues:o}))},WT=({field:t,form:a,...n})=>(0,e.createElement)("div",null,(0,e.createElement)(Ov,{...n})),GT={title:Zc().string,subtitle:Zc().string,desc:Zc().string,name:Zc().string,placeholder:Zc().string,options:Zc().array};function YT({title:t,name:a,subtitle:n,desc:r,options:i,placeholder:s}){const{values:o,setFieldValue:l}=ep(),c=a;return(0,e.createElement)("div",{className:"form-group"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:c},t),n&&(0,e.createElement)("span",{className:"sub-title"},n)),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(bp,{id:c,name:a,className:"academy-select",classNamePrefix:"academy-react-select",placeholder:s,component:WT,value:i.filter((e=>e.value===o[a])),options:i,onChange:e=>l(a,e.value)}),r&&(0,e.createElement)("span",{className:"desc"},r)))}function KT(){const{values:t}=ep(),a=An((e=>e.addons)),n=ln(a,"paid-memberships-pro"),r=ln(a,"easy-digital-downloads"),i=xa&&ln(a,"woocommerce"),s=[{value:"",label:(0,W.__)("Disable","academy")},{value:"woocommerce",label:(0,W.__)("WooCommerce","academy"),isDisabled:!i},{value:"paid-memberships-pro",label:(0,W.__)("Paid Memberships Pro","academy"),isDisabled:!n||!Na},{value:"edd",label:(0,W.__)("Easy Digital Downloads","academy"),isDisabled:!r}];return(0,e.createElement)("div",{className:"academy-mb-6"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("eCommerce Engine","academy")),(0,e.createElement)(YT,{name:"monetization_engine",title:(0,W.__)("Select eCommerce Engine","Academy"),subtitle:(0,W.__)("Select a eCommerce Engine to generate revenue by selling courses.","academy-pro"),placeholder:(0,W.__)("Choose eCommerce Engine","academy"),className:"academy-select",classNamePrefix:"academy-react-select",options:s,value:s.filter((e=>e.value===t.monetization_engine))}))}YT.propTypes=GT,YT.defaultProps={};const ZT=()=>{const{values:t}=ep(),{is_enabled_earning:a,is_enabled_fee_deduction:n}=t;return(0,e.createElement)("div",{className:"academy-settings-content__payments-earning"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Earning","academy")),(0,e.createElement)(PE,{name:"is_enabled_earning",title:(0,W.__)("Enable Earning","academy"),subtitle:(0,W.__)("If disabled, the Admin will receive 100% of the earning","academy")}),a&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Zk,{name:"admin_commission_percentage",title:(0,W.__)("Admin Commission Percentage","academy"),subtitle:(0,W.__)("Define the commission of the Admin from each sale.(after deducting fees)","academy")}),(0,e.createElement)(Zk,{name:"instructor_commission_percentage",title:(0,W.__)("Instructor Commission Percentage","academy"),subtitle:(0,W.__)("Define the commission for instructors from each sale.(after deducting fees)","academy")}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_enabled_fee_deduction",title:(0,W.__)("Enable Fee Deduction","academy"),subtitle:(0,W.__)("Fees are charged from the entire sales amount. The remaining amount will be divided among admin and instructors.","academy")}),n&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ox,{name:"fee_deduction_name",title:(0,W.__)("Fee Deduction Name","academy")}),(0,e.createElement)(Zk,{name:"fee_deduction_amount",title:(0,W.__)("Fee Deduction Amount","academy")}),(0,e.createElement)(YT,{name:"fee_deduction_type",title:(0,W.__)("Fee Deduction Type","Academy"),className:"academy-select",classNamePrefix:"academy-react-select",options:[{value:"fixed",label:(0,W.__)("Fixed","academy")},{value:"percent",label:(0,W.__)("Percent","academy")}]}))))},QT={title:Zc().string,subtitle:Zc().string,desc:Zc().string,name:Zc().string,value:Zc().string};function XT({title:t,name:a,subtitle:n,desc:r}){const{setFieldValue:i}=ep(),s=AE().uniqueId(a+"_");return(0,e.createElement)("div",{className:"academy-textarea-container academy-mb-6"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("label",{htmlFor:s,className:"academy-title"},t),n&&(0,e.createElement)("span",{className:"academy-sub-title"},n)),(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)(bp,{component:"textarea",cols:"55",id:s,name:a,onChange:e=>i(a,e.target.value),className:"academy-input"}),r&&(0,e.createElement)("span",{className:"desc"},r)))}XT.propTypes=QT,XT.defaultProps={};const JT=()=>{const{values:t}=ep(),{is_enabled_instructor_bank_withdraw:a}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Withdrawal","academy")),(0,e.createElement)(Zk,{name:"instructor_minimum_withdraw_amount",title:(0,W.__)("Minimum Withdrawal Amount","academy"),subtitle:(0,W.__)("Instructors should earn equal or above this amount to make a withdraw request.","academy")}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_enabled_instructor_paypal_withdraw",title:(0,W.__)("Enable PayPal","academy")}),(0,e.createElement)(PE,{name:"is_enabled_instructor_echeck_withdraw",title:(0,W.__)("Enable E-Check","academy")}),(0,e.createElement)(PE,{name:"is_enabled_instructor_bank_withdraw",title:(0,W.__)("Enable Bank Transfer","academy")}),a&&(0,e.createElement)(XT,{name:"instructor_bank_withdraw_instruction",title:(0,W.__)("Instruction","academy"),desc:(0,W.__)("Write instruction for the instructor to fill bank information","academy")}))},eP=()=>{const{values:t}=ep(),{is_enabled_academy_login:a,store_link_inside_frontend_dashboard:n,is_enabled_fd_link_inside_woo_dashboard:r,is_enabled_fd_link_inside_woo_order_page:i}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Woocommerce","academy")),!xa&&(0,e.createElement)(eu.Notice,{status:"warning",isDismissible:!1},(0,W.__)("Woocommerce Plugin isn't activated, please active it if you want to sell your paid course.","academy")),(0,e.createElement)(PE,{name:"hide_course_product_from_shop_page",title:(0,W.__)("Course Product","academy"),subtitle:(0,W.__)("Hide course products from shop page","academy")}),a&&(0,e.createElement)(PE,{name:"woo_force_login_before_enroll",title:(0,W.__)("Force Login Before Enroll","academy"),subtitle:(0,W.__)("Require login before enrolling in a paid course.","academy")}),(0,e.createElement)(PE,{name:"woo_order_auto_complete",title:(0,W.__)("Automatically Complete Order","academy"),subtitle:(0,W.__)("If enabled order will be automatically completed.","academy")}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"store_link_inside_frontend_dashboard",title:(0,W.__)("Store Link","academy"),subtitle:(0,W.__)("Enable Store link inside frontend dashboard Page.","academy")}),n&&(0,e.createElement)(Ox,{name:"store_link_label_inside_frontend_dashboard",title:(0,W.__)("Store Link Label","academy")}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_enabled_fd_link_inside_woo_dashboard",title:(0,W.__)("Dashboard Link","academy"),subtitle:(0,W.__)("Enable Course Dashboard Link inside My Account Page.","academy")}),r&&(0,e.createElement)(Ox,{name:"woo_dashboard_fd_link_label",title:(0,W.__)("My Account Link Label","academy")}),(0,e.createElement)(Tv,null),(0,e.createElement)(PE,{name:"is_enabled_fd_link_inside_woo_order_page",title:(0,W.__)("Course Dashboard Button","academy"),subtitle:(0,W.__)("Enable/Disable Course Dashboard Button (it will be showing inside order details page)","academy")}),i&&(0,e.createElement)(Ox,{name:"woo_order_page_fd_link_label",title:(0,W.__)("Course Dashboard Button Text","academy"),subtitle:(0,W.__)("Add Course Dashboard Button Text (it will be showing inside order details page)","academy")}))},tP=()=>{const{values:t,setFieldValue:a}=ep(),{white_label:n}=t,{active_menu_icon:r,inactive_menu_icon:i,logo:s}=n;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("White Label","academy")),(0,e.createElement)(Ox,{name:"white_label.title",title:(0,W.__)("Title","academy"),subtitle:(0,W.__)("Set Title according to your choice","academy")}),(0,e.createElement)(kT,{name:"white_label.active_menu_icon",title:(0,W.__)("Active Menu Icon","academy"),desc:(0,W.__)("Active Menu Icon for admin menu.","academy"),imageSize:(0,W.__)("Recommended Size: 40x40 pixel","academy"),value:r,saveValueHandler:a}),(0,e.createElement)(kT,{name:"white_label.inactive_menu_icon",title:(0,W.__)("Inactive Menu Icon","academy"),desc:(0,W.__)("Inactive Menu Icon for admin menu.","academy"),imageSize:(0,W.__)("Recommended Size: 40x40 pixel","academy"),value:i,saveValueHandler:a}),(0,e.createElement)(Tv,null),(0,e.createElement)(kT,{name:"white_label.logo",title:(0,W.__)("Logo","academy"),desc:(0,W.__)("Change logo.","academy"),imageSize:(0,W.__)("Recommended Size: 80x80 pixel","academy"),value:s,saveValueHandler:a}),(0,e.createElement)(PE,{name:"white_label.is_hide_settings",title:(0,W.__)("Hide White label","academy"),subtitle:(0,W.__)("Enable this to hide white label settings","academy")}))},aP=({item:t,setSelectedItem:a,selectedItem:n})=>{const r=zn(),{values:i,setFieldValue:s}=ep(),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),[d,m]=(0,e.useState)([]),[p,f]=(0,e.useState)(!1),[h,y]=(0,e.useState)(!1),[_,g]=(0,e.useState)(!1),[b,v]=(0,e.useState)(!1);(0,e.useEffect)((()=>{v(!0),E()}),[]),(0,e.useEffect)((()=>{o.length>0&&w()}),[o]),(0,e.useEffect)((()=>{c.length>0&&x()}),[c]);const E=()=>{f(!0),nn({action:"academy_pro_mailchimp/get_mailchimp_data"}).then((e=>{e?.data?.success?(l(e.data.data),f(!1),y(!0),Array.isArray(e.data.data)||v(!1)):(f(!1),v(!1),r(sr((0,W.__)("No data found","academy"),!0,"error")))}))},w=()=>{if(i?.mailchimp?.triggers[t?.value]?.list_id){const e=o.find((e=>e.value===i?.mailchimp?.triggers[t?.value]?.list_id));u(e?.groups),y(!1),g(!0)}else y(!1),v(!1)},x=()=>{if(i?.mailchimp?.triggers[t?.value]?.group_id){const e=c.find((e=>e.value===i?.mailchimp?.triggers[t?.value]?.group_id));m(e.interests),g(!1),v(!1)}else g(!1),v(!1)};return(0,e.createElement)("div",{className:"academy-mail-chimp-trigger"},(0,e.createElement)("div",{className:"academy-mail-chimp-trigger__header"},(0,e.createElement)(lu,{label:t.label,className:"academy-mail-chimp-trigger__header-button",icon:(0,e.createElement)("span",{className:"academy-icon "+(n===t.value?"academy-icon--angle-up":"academy-icon--angle-down")}),onClick:()=>{n===t.value?a(null):a(t.value)},iconPosition:"right"})),n===t.value&&(0,e.createElement)("div",{className:"academy-mail-chimp-trigger__body"},b?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"form-group form-group--select academy-mb-6"},(0,e.createElement)("div",{className:"academy-title"},(0,e.createElement)("label",{htmlFor:""},(0,W.__)("Default List","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Ov,{name:`mailchimp.triggers.${t.value}.list_id`,className:"academy-select academy-select--",classNamePrefix:"academy-react-select",options:Array.isArray(o)?o:[],isLoading:p,defaultValue:Array.isArray(o)?o?.find((e=>e.value===i?.mailchimp?.triggers[t?.value].list_id)):{labe:"",value:""},onMenuOpen:E,onChange:e=>s(`mailchimp.triggers.${t.value}.list_id`,e.value)}))),(0,e.createElement)("div",{className:"form-group form-group--select academy-mb-6"},(0,e.createElement)("div",{className:"academy-title"},(0,e.createElement)("label",{htmlFor:""},(0,W.__)("Default Group","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Ov,{name:`mailchimp.triggers.${t.value}.group_id`,className:"academy-select academy-select--",classNamePrefix:"academy-react-select",options:c,isLoading:h,defaultValue:c&&c.find((e=>e?.value===i?.mailchimp?.triggers[t?.value]?.group_id)),onMenuOpen:w,onChange:e=>s(`mailchimp.triggers.${t.value}.group_id`,e.value)}))),(0,e.createElement)("div",{className:"form-group form-group--select academy-mb-6"},(0,e.createElement)("div",{className:"academy-title"},(0,e.createElement)("label",{htmlFor:""},(0,W.__)("Default Interest","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Ov,{name:`mailchimp.triggers.${t.value}.interest_id`,className:"academy-select academy-select--",classNamePrefix:"academy-react-select",options:d,isLoading:_,defaultValue:d&&d.find((e=>e.value===i?.mailchimp?.triggers[t?.value].interest_id)),onMenuOpen:x,menuPlacement:"top",onChange:e=>s(`mailchimp.triggers.${t.value}.interest_id`,e.value)}))))))},nP=[{label:(0,W.__)("Student registration","academy"),value:"student_registration"},{label:(0,W.__)("Instructor registration","academy"),value:"instructor_registration"},{label:(0,W.__)("Course Enroll","academy"),value:"course_enroll"}],rP=()=>{const{values:t,setFieldValue:a}=ep(),[n,r]=(0,e.useState)(""),[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)(!1),c=An((e=>e.settings.data)),u=zn();(0,e.useEffect)((()=>{c?.mailchimp?.api_key!==t?.mailchimp?.api_key&&t?.mailchimp?.api_key&&nn({action:"academy_pro_mailchimp/verify_mailchimp_api_key",api_key:t?.mailchimp?.api_key}).then((e=>{u(e?.data?.success?sr(e?.data?.data,!0,"success"):sr((0,W.__)("Wrong API key","academy"),!0,"error"))}))}),[t.mailchimp.api_key]),(0,e.useEffect)((()=>{const e=nP?.filter((e=>t?.mailchimp?.triggers[e.value]?.enable));r(e[0]?.value),s(e)}),[]);const d=i.length<3&&t?.mailchimp?.api_key;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("MailChimp","academy")),(0,e.createElement)(PE,{name:"mailchimp.is_enable_force_subscription",title:(0,W.__)("Enable Forced Subscription","academy"),subtitle:(0,W.__)("Enable this for force subscription settings","academy")}),t.mailchimp.is_enable_force_subscription&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ox,{name:"mailchimp.api_key",title:(0,W.__)("Api key","academy"),subtitle:(0,W.__)("Place the API key you get from mailchimp","academy")}),(0,e.createElement)(XT,{name:"mailchimp.subscriber_consent_message",title:(0,W.__)("Subscriber Consent Message","academy")}),""!==t?.mailchimp?.api_key&&i&&i.length>0&&i.map(((t,a)=>(0,e.createElement)(aP,{item:t,setSelectedItem:r,selectedItem:n,key:a}))),(0,e.createElement)("div",{className:"academy-trigger-options-wrap"},d&&(0,e.createElement)(lu,{label:(0,W.__)("Add Trigger","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--plus"}),onClick:()=>l(!o)}),o&&(0,e.createElement)("div",{className:"academy-trigger-options__list"},nP.filter((e=>!i.some((t=>t.value===e.value)))).map((t=>(0,e.createElement)("div",{role:"presentation",className:"academy-trigger-options__list-item",key:t.value,onClick:()=>{s([...i,t]),l(!1),a(`mailchimp.triggers.${t.value}.enable`,!0)}},t.label)))))))},iP=[{value:"v2",label:(0,W.__)("reCAPTCHA V2","academy")},{value:"v3",label:(0,W.__)("reCAPTCHA V3","academy")}];function sP(){const{values:t,setFieldValue:a}=ep();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("reCAPTCHA","academy")),(0,e.createElement)(PE,{name:"is_enabled_recaptcha",title:(0,W.__)("Enable reCAPTCHA","academy"),subtitle:(0,e.createElement)(e.Fragment,null,(0,W.__)("Safeguard login instructor and student form pages from unwanted hits","academy")," ",(0,e.createElement)("a",{href:"https://academylms.net/docs/how-to-use-recaptcha",target:"_blank",rel:"noreferrer"},(0,W.__)("See How it Works","academy"))),isPro:!0}),t.is_enabled_recaptcha&&Sa&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-flex academy-mb-6"},(0,e.createElement)("label",{className:"academy-title",htmlFor:"recaptchaType"},(0,W.__)("reCAPTCHA Type","academy")),(0,e.createElement)(Pd,{id:"recaptcha_type",name:"recaptcha_type",suffix:"recaptcha-type",value:iP.find((e=>e.value===t.recaptcha_type)),onChangeHandler:e=>a("recaptcha_type",e),options:iP,className:"academy-react-select"})),"v2"===t.recaptcha_type?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ox,{name:"recaptcha_v2_site_key",title:(0,W.__)("reCAPTCHA Site Key","academy"),subtitle:(0,W.__)("Use site key for communication between site server to user.","academy"),placeholder:(0,W.__)("Enter Site Key","academy")}),(0,e.createElement)(Ox,{name:"recaptcha_v2_secret_key",title:(0,W.__)("reCAPTCHA Secret Key","academy"),subtitle:(0,W.__)("Use secret key for communication between site and reCAPTCHA.","academy"),placeholder:(0,W.__)("Enter Secret Key","academy")})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ox,{name:"recaptcha_v3_site_key",title:(0,W.__)("reCAPTCHA Site Key","academy"),subtitle:(0,W.__)("Use site key for communication between site server to user.","academy"),placeholder:(0,W.__)("Enter Site Key","academy")}),(0,e.createElement)(Ox,{name:"recaptcha_v3_secret_key",title:(0,W.__)("reCAPTCHA Secret Key","academy"),subtitle:(0,W.__)("Use secret key for communication between site and reCAPTCHA.","academy"),placeholder:(0,W.__)("Enter Secret Key","academy")}))))}const oP=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-notification-heading"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Notification","academy")),(0,e.createElement)("h3",null,(0,e.createElement)("span",{className:"academy-notification-heading--push academy-title"},(0,W.__)("Push","academy")),(0,e.createElement)("span",{className:"academy-notification-heading--on-site academy-title"},(0,W.__)("Onsite","academy")))),(0,e.createElement)("div",{className:"academy-checkbox-wrap"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("New instructor registration","academy")),(0,e.createElement)("div",{className:"academy-checkbox-fields"},(0,e.createElement)(PE,{name:"notifications.is_enabled_new_instructor_registration_push"}),(0,e.createElement)(PE,{name:"notifications.is_enabled_new_instructor_registration_onsite"}))),(0,e.createElement)("div",{className:"academy-checkbox-wrap"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Instructor approve","academy")),(0,e.createElement)("div",{className:"academy-checkbox-fields"},(0,e.createElement)(PE,{name:"notifications.is_enabled_new_instructor_approve_push"}),(0,e.createElement)(PE,{name:"notifications.is_enabled_new_instructor_approve_onsite"}))),(0,e.createElement)("div",{className:"academy-checkbox-wrap"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Instructor remove","academy")),(0,e.createElement)("div",{className:"academy-checkbox-fields"},(0,e.createElement)(PE,{name:"notifications.is_enabled_new_instructor_remove_push"}),(0,e.createElement)(PE,{name:"notifications.is_enabled_new_instructor_remove_onsite"}))),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"academy-checkbox-wrap"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Course enrollment","academy")),(0,e.createElement)("div",{className:"academy-checkbox-fields"},(0,e.createElement)(PE,{name:"notifications.is_enabled_new_course_enrollment_push"}),(0,e.createElement)(PE,{name:"notifications.is_enabled_new_course_enrollment_onsite"}))),(0,e.createElement)("div",{className:"academy-checkbox-wrap"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Cancel enrollment","academy")),(0,e.createElement)("div",{className:"academy-checkbox-fields"},(0,e.createElement)(PE,{name:"notifications.is_enabled_cancel_enrollment_push"}),(0,e.createElement)(PE,{name:"notifications.is_enabled_cancel_enrollment_onsite"}))),(0,e.createElement)(Tv,null),(0,e.createElement)("div",{className:"academy-checkbox-wrap"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Announcement publish","academy")),(0,e.createElement)("div",{className:"academy-checkbox-fields"},(0,e.createElement)(PE,{name:"notifications.is_enabled_announcement_publish_push"}),(0,e.createElement)(PE,{name:"notifications.is_enabled_announcement_publish_onsite"}))));function lP(){const{values:a}=ep();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Social Login","academy")),(0,e.createElement)(PE,{name:"is_enabled_facebook_login",title:(0,W.__)("Facebook","academy"),subtitle:(0,W.__)("Enable Facebook Login.","academy")}),a?.is_enabled_facebook_login&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ox,{name:"facebook_app_id",title:(0,W.__)("Facebook App ID","academy")}),(0,e.createElement)(Ox,{name:"facebook_app_secret",title:(0,W.__)("Facebook App Secret","academy")})),(0,e.createElement)(PE,{name:"is_enabled_google_login",title:(0,W.__)("Google","academy"),subtitle:(0,W.__)("Enable Google Login.","academy")}),a?.is_enabled_google_login&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ox,{name:"google_client_id",title:(0,W.__)("Google Client ID","academy")})))}lP.propTypes={},lP.defaultProps={};const cP=[{label:(0,W.__)("Select a page","academy"),value:""},{label:(0,W.__)("Account page","academy"),value:"account"}],uP={account:[{label:(0,W.__)("Below Username","academy"),value:"below_username",url:"assets/images/gamipress/account/bellow_username.png"},{label:(0,W.__)("Below Author Section","academy"),value:"below_author_section",url:"assets/images/gamipress/account/Below_author_section.png"},{label:(0,W.__)("Dashboard New Section","academy"),value:"dashboard_new_section",url:"assets/images/gamipress/account/dashboard_new_section.png"},{label:(0,W.__)("Dashboard Card","academy"),value:"dashboard_card",url:"assets/images/gamipress/account/dashboard_card.png"}]},dP=({itemIndex:t,removeHandler:a,tab:n,name:r})=>{const{values:i,setFieldValue:s}=ep(),o=i.gamipress[n][t].type,l=i.gamipress[n][t].page,c=i.gamipress[n][t].location,[u,d]=(0,e.useState)([]);(0,e.useEffect)((()=>{m()}),[n]);const m=()=>{nn({action:`academy_pro_gamipress/get_${n}_types`}).then((e=>{d(e.data.data)}))};return(0,e.createElement)("div",{className:"academy-gamipress-placements"},(0,e.createElement)("div",{className:"academy-gamipress-placements__header"},(0,e.createElement)("span",{className:"academy-gamipress-placements__title"},(0,W.__)("All Types")),(0,e.createElement)(lu,{preset:"transparent",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),onClick:()=>a(t)})),(0,e.createElement)("div",{className:"academy-gamipress-placements__body"},(0,e.createElement)("div",{className:"form-group form-group--select"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:"types"},(0,W.__)("Show Types","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Pd,{className:"academy-select",suffix:"gamipress",value:o&&u.find((e=>e.value===o)),placeholder:(0,W.__)("Select Types","academy"),options:u,onChangeHandler:e=>s(`${r}.type`,e)}))),(0,e.createElement)("div",{className:"form-group form-group--select"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:"types"},(0,W.__)("Pages","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Pd,{className:"academy-select",suffix:"gamipress",value:l&&cP.find((e=>e.value===l)),placeholder:(0,W.__)("Select pages","academy"),options:cP,onChangeHandler:e=>s(`${r}.page`,e)}))),l&&(0,e.createElement)("div",{className:"form-group form-group--location"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:"types"},(0,W.__)("Location","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)("div",{className:"academy-gamipress-locations"},uP[l]?.map(((t,a)=>(0,e.createElement)("div",{className:`academy-gamipress-locations__item ${t.value===c&&"academy-gamipress-locations__item-active"}`,key:a,role:"presentation",onClick:()=>s(`${r}.location`,t.value)},(0,e.createElement)("p",{className:"academy-gamipress-locations__item-title"},t.label),(0,e.createElement)("div",{className:"academy-gamipress-locations__item-body"},(0,e.createElement)("img",{src:fa+t.url,alt:t.label}))))))))))},mP=[{label:(0,W.__)("Points","academy"),value:"points"},{label:(0,W.__)("Achievements","academy"),value:"achievements"},{label:(0,W.__)("Ranks","academy"),value:"ranks"}],pP=()=>{const{values:t}=ep(),{gamipress:a}=t,[n,r]=(0,e.useState)("points");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-heading academy-heading--gamipress"},(0,W.__)("GamiPress","academy")),(0,e.createElement)("div",{className:"academy-settings-gamipress-tabs"},mP.map(((t,a)=>(0,e.createElement)("span",{key:a,className:`academy-settings-gamipress-tabs__item ${n===t.value&&"academy-settings-gamipress-tabs__item-active"}`,role:"presentation",onClick:()=>r(t.value)},t.label)))),(0,e.createElement)(Cp,{name:`gamipress[${n}]`},(({push:t,remove:r})=>(0,e.createElement)(e.Fragment,null,a&&a[n]?.map(((t,a)=>(0,e.createElement)(dP,{data:t,key:a,itemIndex:a,removeHandler:r,tab:n,name:`gamipress[${n}][${a}]`}))),(0,e.createElement)(lu,{label:(0,W.__)("Add New Placement","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--plus"}),onClick:()=>{t({type:"",page:"",location:""})},suffix:"add-placement"})))))},fP={templateName:Zc().string,templateSubName:Zc().string};function hP({templateName:a,templateSubName:n}){const{isSubmitting:r}=ep(),[i,s]=(0,e.useState)("");return(0,e.useEffect)((()=>{nn({action:"academy_pro_email/preview_template",templateName:a,templateSubName:n}).then((e=>{s(e.data.data)}))}),[r,n]),(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-email-template-preview"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Template Preview","academy")),(0,e.createElement)("iframe",{title:(0,W.__)("Template Preview","academy"),srcDoc:i})))}hP.propTypes=fP,hP.defaultProps={};const yP={emplateName:Zc().string,templateSubName:Zc().string};function _P({templateName:a,templateSubName:n}){const[r,i]=(0,e.useState)(!1),s=zn();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(lu,{isLoading:r,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--email"}),iconPosition:"left",label:(0,W.__)("Send Test Mail","academy"),size:"sm",preset:"light-purple",onClick:()=>{i(!0),nn({action:"academy_pro_email/test_email",templateName:a,templateSubName:n}).then((e=>{i(!1),e.data.success?s(sr(e.data?.data,!0,"success")):s(sr(e.data?.data,!0,"error"))}))}}))}_P.propTypes=yP,_P.defaultProps={};const gP=({index:t,subIndex:a,recipients:n,description:r})=>{const{values:i,setFieldValue:s}=ep(),{email:o}=i,[l,c]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{t&&a&&(c(!0),setTimeout((()=>{c(!1)}),2e3))}),[t,a]),(0,e.createElement)("div",{className:"academy-email-setting-wrap"},l?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-email-settings-control"},(0,e.createElement)(_P,{templateName:t,templateSubName:a}),(0,e.createElement)(PE,{name:`email.${t}.${a}.is_enable`,title:(0,W.__)("Enable/Disable","academy"),subtitle:r,value:o[t][a]?.is_enable,setFieldValue:s,suffix:"email-checkbox"}),!0===n&&(0,e.createElement)(Ox,{name:`email.${t}.${a}.email_recipient`,title:(0,W.__)("Recipients(s)","academy"),value:o[t][a]?.email_recipient,setFieldValue:s,prefix:"email-text-field"}),(0,e.createElement)(Ox,{name:`email.${t}.${a}.email_subject`,title:(0,W.__)("Subject","academy"),subtitle:`Variables: ${{enrolled_course_admin:"{user_display_name} {site_title} {site_url} {course_name}",enrolled_course_instructor:"{user_display_name} {site_title} {site_url} {course_name}",enrolled_course_user:"{user_display_name} {site_title} {site_url} {course_name}",finished_course_admin:"{user_display_name} {site_title} {site_url} {course_name}",finished_course_instructor:"{user_display_name} {site_title} {site_url} {course_name}",finished_course_user:"{user_display_name} {site_title} {site_url} {course_name}",become_an_instructor_request:"{user_display_name} {site_title} {site_url}",become_an_instructor_instructor:"{user_display_name} {site_title} {site_url}",become_an_instructor_accept:"{user_display_name} {site_title} {site_url}",become_an_instructor_denied:"{user_display_name} {site_title} {site_url}",student_registration_student:"{user_display_name} {site_title} {site_url}",student_registration_admin:"{user_display_name} {site_title} {site_url}"}[`${a?t+"_"+a:t}`]}`,value:o[t][a]?.email_subject,setFieldValue:s,prefix:"email-text-field"}),(0,e.createElement)(Ox,{name:`email.${t}.${a}.email_heading`,title:(0,W.__)("Email Heading","academy"),value:o[t][a]?.email_heading,setFieldValue:s,prefix:"email-text-field"}),(0,e.createElement)("div",{className:"form-group form-group--additional-content"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:`${t}.${a}.email_content`},(0,W.__)("Additional Content","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Ry,{name:`email.${t}.${a}.email_content`,defaultValue:o[t][a]?.email_content,saveValueHandler:s,allowPDFEmbedder:!1}),(0,e.createElement)("span",{className:"desc"},(0,e.createElement)("strong",null,(0,W.__)("Variables: ","academy")),{enrolled_course_admin:"{user_display_name} {user_email} {course_name} {student_profile}",enrolled_course_instructor:"{user_display_name} {user_email} {course_name} {instructor_dashboard} {student_profile}",enrolled_course_user:"{user_display_name} {user_email} {course_name} {course_url}",finished_course_admin:"{user_display_name} {user_email} {course_name} {student_profile}",finished_course_instructor:"{user_display_name} {user_email} {course_name} {student_profile}",finished_course_user:"{user_display_name} {user_email} {course_name} {course_url}",become_an_instructor_request:"{request_email} {site_title} {site_url} {admin_instructor_manager}",become_an_instructor_instructor:"{request_email} {site_title} {site_url} {user_display_name}",become_an_instructor_accept:"{user_display_name} {site_title} {site_url} {login_url}",become_an_instructor_denied:"{user_display_name} {site_title} {site_url}",student_registration_admin:"{request_email} {user_email} {user_display_name} {site_title} {site_url} {student_profile}",student_registration_student:"{user_email} {user_display_name} {site_title} {site_url}",email_verify_student:"{verify_email_link} {user_display_name} {site_title} {site_url}",email_verify_instructor:"{verify_email_link} {user_display_name} {site_title} {site_url}"}[`${t}_${a}`])))),(0,e.createElement)(hP,{templateName:t,templateSubName:a})))},bP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Become An Instructor","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify instructor when request is accept.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!r)}),(0,e.createElement)(PE,{name:"email.become_an_instructor.accept.is_enable",value:n?.become_an_instructor?.accept?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Enrolled Course","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"become_an_instructor",subIndex:"accept",recipients:!1,description:(0,W.__)("Notify instructor when request is accept.","academy")})))},vP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Become An Instructor","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify when a instructor requests for register.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.become_an_instructor.request.is_enable",value:n?.become_an_instructor?.request?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Become An Instructor","academy"),suffix:"email",isSmallAvailable:!1,size:"large"},(0,e.createElement)(gP,{index:"become_an_instructor",subIndex:"request",recipients:!1,description:(0,W.__)("Notify admin when a instructor register.","academy")})))},EP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Become An Instructor","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify instructor when request is Denied.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.become_an_instructor.denied.is_enable",value:n?.become_an_instructor?.denied?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Become An Instructor","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"become_an_instructor",subIndex:"denied",recipients:!1,description:(0,W.__)("Notify instructor when request is Denied.","academy")})))},wP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Become An Instructor","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify instructor after register.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.become_an_instructor.instructor.is_enable",value:n?.become_an_instructor?.instructor?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Become An Instructor","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"become_an_instructor",subIndex:"instructor",recipients:!1,description:(0,W.__)("Notify instructor after register.","academy")})))},xP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t;return(0,e.createElement)("div",{className:"academy-email-setting-wrap-common-wrapper"},(0,e.createElement)("div",{className:"academy-email-setting-wrap"},(0,e.createElement)("div",{className:"academy-email-settings-control"},(0,e.createElement)(_P,{templateName:"email_verify",templateSubName:""}),(0,e.createElement)(PE,{name:"email.email_verify.is_enable",title:(0,W.__)("Enable/Disable","academy"),description:(0,W.__)("Require new users to verify their email address to register.","academy"),value:n?.email_verify?.is_enable,setFieldValue:a,suffix:"email-checkbox"}),(0,e.createElement)(Ox,{name:"email.email_verify.email_subject",title:(0,W.__)("Subject","academy"),subtitle:"Variables: {user_display_name} {site_title} {site_url}",value:n?.email_verify?.email_subject,setFieldValue:a,prefix:"email-text-field"}),(0,e.createElement)(Ox,{name:"email.email_verify.email_heading",title:(0,W.__)("Email Heading","academy"),subtitle:"Variables: {user_display_name} {site_title} {site_url}",value:n?.email_verify?.email_heading,setFieldValue:a,prefix:"email-text-field"}),(0,e.createElement)("div",{className:"form-group form-group--additional-content"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:"email_verify.email_content"},(0,W.__)("Additional Content","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Ry,{name:"email.email_verify.email_content",defaultValue:n?.email_verify?.email_content,saveValueHandler:a,allowPDFEmbedder:!1}),(0,e.createElement)("span",{className:"desc"},(0,e.createElement)("strong",null,(0,W.__)("Variables:","academy")),"{verify_email_link} {user_display_name} {site_title} {site_url}")))),(0,e.createElement)(hP,{templateName:"email_verify",templateSubName:""})))},NP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Email Verify","academy")),(0,e.createElement)("span",null,(0,W.__)("Require new users to verify their email address to register.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.email_verify.is_enable",value:n?.email_verify?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Email Verify","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(xP,null)))},kP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Enroll Course","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify admin when a new enroll is placed.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.enrolled_course.admin.is_enable",value:n?.enrolled_course?.admin?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Enrolled Course","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"enrolled_course",subIndex:"admin",recipients:!1,description:(0,W.__)("Notify admin when a new enroll is placed.","academy")})))},SP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Enroll Course","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify instructor when a new enroll is placed.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.enrolled_course.instructor.is_enable",value:n?.enrolled_course?.instructor?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Enrolled Course","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"enrolled_course",subIndex:"instructor",recipients:!1,description:(0,W.__)("Notify instructor when a new enroll is placed.","academy")})))},CP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Enroll Course","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify student when a new enroll is placed.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.enrolled_course.user.is_enable",value:n?.enrolled_course?.user?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Enrolled Course","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"enrolled_course",subIndex:"user",recipients:!1,description:(0,W.__)("Notify student when a new enroll is placed.","academy")})))},OP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Finished Course","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify admin when a course is finished.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.finished_course.admin.is_enable",value:n?.finished_course?.admin?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Finished Course","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"finished_course",subIndex:"admin",recipients:!1,description:(0,W.__)("Notify admin when a course is finished.","academy")})))},IP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Finished Course","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify instructor when a course is finished.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.finished_course.instructor.is_enable",value:n?.finished_course?.instructor?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Finished Course","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"finished_course",subIndex:"instructor",recipients:!1,description:(0,W.__)("Notify instructor when a course is finished.","academy")})))},AP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Finished Course","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify student when a course is finished.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.finished_course.user.is_enable",value:n?.finished_course?.user?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Finished Course","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"finished_course",subIndex:"user",recipients:!1,description:(0,W.__)("Notify student when a course is finished.","academy")})))},TP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Student Registration","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify admin when a student register.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.student_registration.admin.is_enable",value:n?.student_registration?.admin?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Student Registration","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"student_registration",subIndex:"admin",recipients:!1,description:(0,W.__)("Notify admin when a student register.","academy")})))},PP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,[r,i]=(0,e.useState)(!1);return(0,e.createElement)("div",{className:"academy-settings-option"},(0,e.createElement)("div",{className:"academy-settings-option__title"},(0,e.createElement)("h4",null,(0,W.__)("Student Registration","academy")),(0,e.createElement)("span",null,(0,W.__)("Notify admin when a new enroll is placed.","academy"))),(0,e.createElement)("div",{className:"academy-settings-option__body"},(0,e.createElement)(lu,{label:(0,W.__)("Edit Template","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),preset:"transparent",onClick:()=>i(!0)}),(0,e.createElement)(PE,{name:"email.student_registration.student.is_enable",value:n?.student_registration?.student?.is_enable,setFieldValue:a,suffix:"email-checkbox"})),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Student Registration","academy"),suffix:"email",size:"large",isSmallAvailable:!1},(0,e.createElement)(gP,{index:"student_registration",subIndex:"student",recipients:!1,description:(0,W.__)("Notify student when register.","academy")})))},MP=()=>{const{values:t,setFieldValue:a}=ep(),{email:n}=t,r=[{value:"plainText",label:"Plain Text"},{value:"html",label:"HTML"}];return(0,e.createElement)("div",{className:"academy-email-settings"},(0,e.createElement)("div",{className:"academy-settings-tab-content__general"},(0,e.createElement)("h2",{className:"academy-heading"},(0,W.__)("General","academy")),(0,e.createElement)("h4",{className:"academy-title__general"},(0,W.__)("For all outgoing ","academy")," ",qa," ",(0,W.__)("notification emails.","academy")),(0,e.createElement)(Ox,{name:"email.form_name",title:(0,W.__)("Name","academy"),subtitle:(0,W.__)("The common name for all the outgoing emails.","academy"),placeholder:(0,W.__)("Sender Name","academy"),value:n?.form_name,setFieldValue:a}),(0,e.createElement)(Ox,{name:"email.email_address",title:(0,W.__)("E-Mail Address","academy"),subtitle:(0,W.__)("All emails will be send from this email address.","academy"),placeholder:(0,W.__)("Sender E-Mail","academy"),value:n?.email_address,setFieldValue:a}),(0,e.createElement)("h4",{className:"academy-heading"},(0,W.__)("Email Template","academy")),(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Content Type","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Select content type","academy"))),(0,e.createElement)(Pd,{name:"email.email_content_type",className:"academy-select academy-select--email",suffix:"content-type",options:r,value:r.find((e=>e.value===n?.email_content_type)),onChangeHandler:e=>{a("email.email_content_type",e)}})),(0,e.createElement)("div",{className:"form-group form-group--footer-text"},(0,e.createElement)("div",{className:"form-info"},(0,e.createElement)("label",{htmlFor:"email_content_type"},(0,W.__)("Footer Text","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Ry,{id:"footer_text",name:"email.footer_text",defaultValue:n?.footer_text,saveValueHandler:a,allowPDFEmbedder:!1})))),(0,e.createElement)(bP,null),(0,e.createElement)(vP,null),(0,e.createElement)(EP,null),(0,e.createElement)(wP,null),(0,e.createElement)(Tv,null),(0,e.createElement)(kP,null),(0,e.createElement)(SP,null),(0,e.createElement)(CP,null),(0,e.createElement)(Tv,null),(0,e.createElement)(OP,null),(0,e.createElement)(IP,null),(0,e.createElement)(AP,null),(0,e.createElement)(Tv,null),(0,e.createElement)(TP,null),(0,e.createElement)(PP,null),(0,e.createElement)(Tv,null),(0,e.createElement)(NP,null))},DP=({tabs:t,activeTab:a,handleTabSelect:n,hasSubTab:r})=>{const i=r?a.path:a.tab,s=a.tab;return(0,e.createElement)("div",{className:"academy-tab-panel"},t.map(((t,a)=>{const o=t.subTabs&&i===t.name;return(0,e.createElement)("div",{className:"academy-tab-panel-control academy-tab-panel__item "+(o?"academy-tab-panel__item--is-open":""),key:a},t.link?(0,e.createElement)(lu,{type:"link",label:t.title,link:t?.link,className:"academy-tab-item "+(i===t.name?"academy-tab-item--is-active":""),icon:(0,e.createElement)("span",{className:`academy-icon academy-icon--${t.icon}`})}):(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:`academy-icon academy-icon--${t.icon}`}),label:t.title,onClick:()=>{r?n(t.name,!!t.subTabs&&t.subTabs[0]?.name,a,!!t?.subTabs&&0):n(t.name,a)},className:"academy-tab-item "+(i===t.name?"academy-tab-item--is-active":"")},t.icon&&(0,e.createElement)("span",{className:t.icon})),t.subTabs&&(0,e.createElement)("span",{className:"academy-icon "+(i===t.name?"academy-icon--arrow-down":"academy-icon--arrow-down academy-arrow-right")}),o&&(0,e.createElement)("div",{className:"academy-tab-panel__sub-items"},t.subTabs.map(((r,i)=>(0,e.createElement)(lu,{className:`academy-sub-tab-item ${s===r.name&&"academy-sub-tab-item--is-active"}`,onClick:()=>n(t.name,r.name,a,i),label:r.title,key:i})))))})))},FP=()=>{var a;const[n,r]=(0,e.useState)(!1),i=An((e=>e.settings)),s=An((e=>e.addons)),o=zn(),l=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),c=P(),u=l.get("page"),d=l.get("path"),m=l.get("tab"),[p,f]=(0,e.useState)({path:"general",tab:!1,pathIndex:0,tabIndex:!1});(0,e.useEffect)((()=>{i?.data||(r(!0),o(Rp()).then((()=>{r(!1)})))}),[]),(0,e.useEffect)((()=>{const e=C&&C?.findIndex((e=>e?.name===d)),t=Array.isArray(C[e]?.subTabs)&&C[e].subTabs?.findIndex((e=>e?.name===m));f(!1!==t&&-1!==t&&void 0!==t?{path:d,tab:m,pathIndex:e,tabIndex:t}:{path:null!=d?d:"general",tab:!1,pathIndex:-1!==e?e:0,tabIndex:!1})}),[i.data]);const h=ln(s,"email",!0)?[{name:"email",icon:"academy-icon academy-icon--email-two",title:(0,W.__)("Email","academy"),className:"academy-tab-link academy-tab-link--email",content:(0,e.createElement)(MP,null)}]:[],y=ln(s,"mail_chimp",!0)?[{name:"mail_chimp",icon:"academy-icon academy-icon--email-two",title:(0,W.__)("MailChimp","academy"),className:"academy-tab-link academy-tab-link--email",content:(0,e.createElement)(rP,null)}]:[],_=ln(s,"tutor-booking",!0)?[{name:"tutor-booking",title:(0,W.__)("Tutor Booking","academy"),className:"academy-tab-link academy-tab-link--add",content:(0,e.createElement)(CT,null)}]:[],g=!!window.AcademyGlobal?.is_hide_white_label_settings,b=!ln(s,"white-label",!0)||g&&"white-label"!==m?[]:[{name:"white-label",title:(0,W.__)("White Label","academy"),className:"academy-tab-link academy-tab-link--white-label",content:(0,e.createElement)(tP,null)}],v=ln(s,"gamipress",!0)?[{name:"gamipress",title:(0,W.__)("GamiPress","academy"),className:"academy-tab-link academy-tab-link--white-label",content:(0,e.createElement)(pP,null)}]:[],E="woocommerce"===i?.data?.monetization_engine&&ln(s,"woocommerce"),w="edd"===i?.data?.monetization_engine&&ln(s,"easy-digital-downloads"),x=(E||w)&&ln(s,"multi_instructor")?[{name:"earning",title:(0,W.__)("Earning","academy"),className:"academy-tab-link academy-tab-link--earning",content:(0,e.createElement)(ZT,null)},{name:"withdrawal",title:(0,W.__)("Withdrawal","academy"),className:"academy-tab-link academy-tab-link--withdrawal",content:(0,e.createElement)(JT,null)}]:[],N="woocommerce"===i?.data?.monetization_engine?[{name:"woocommerce",title:(0,W.__)("Woocommerce","academy"),className:"academy-tab-link academy-tab-link--woocommerce",content:(0,e.createElement)(eP,null)}]:[],k=ln(s,"notifications",!0)?[{name:"notification",title:(0,e.createElement)(e.Fragment,null,(0,W.__)("Notification","academy"),!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),className:"academy-tab-link academy-tab-link--recaptcha",content:(0,e.createElement)(oP,null)}]:[],S=ln(s,"social-login",!0)?[{name:"social-login",title:(0,e.createElement)(e.Fragment,null,(0,W.__)("Social Login","academy"),!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),className:"academy-tab-link academy-tab-link--recaptcha",content:(0,e.createElement)(lP,null)}]:[],C=[{name:"general",icon:"academy-icon academy-icon--general",title:(0,W.__)("General","academy"),className:"academy-tab-link academy-tab-link--general",content:(0,e.createElement)(Yk,null)},{name:"styling",icon:"academy-icon academy-icon--branding",title:(0,W.__)("Brand & Style","academy"),className:"academy-tab-link academy-tab-link--design",content:(0,e.createElement)(Gk,null)},{name:"pages",icon:"academy-icon academy-icon--pages-two",title:(0,W.__)("Pages","academy"),className:"academy-tab-link academy-tab-link--pages",subTabs:[{name:"course",title:(0,W.__)("Course Page","academy"),className:"academy-tab-link academy-tab-link--course",content:(0,e.createElement)(ET,null)},{name:"learn-page",title:(0,W.__)("Learn Page","academy"),className:"academy-tab-link academy-tab-link--learn-page",content:(0,e.createElement)(ST,null)},{name:"instructor-page",title:(0,W.__)("Instructor Page","academy"),className:"academy-tab-link academy-tab-link--instructor",content:(0,e.createElement)(wT,null)},{name:"student",title:(0,W.__)("Student Page","academy"),className:"academy-tab-link academy-tab-link--student",content:(0,e.createElement)(xT,null)},{name:"dashboard",title:(0,W.__)("Dashboard Page","academy"),className:"academy-tab-link academy-tab-link--dashboard",content:(0,e.createElement)(OT,null)},{name:"password-reset",title:(0,W.__)("Password Reset Page","academy"),className:"academy-tab-link academy-tab-link--password-reset",content:(0,e.createElement)(IT,null)},..._]},{name:"payments",icon:"academy-icon academy-icon--payment",title:(0,W.__)("Payments","academy"),className:"academy-tab-link academy-tab-link--payments",subTabs:[{name:"engine",title:(0,W.__)("eCommerce Engine","academy"),className:"academy-tab-link academy-tab-link--earning",content:(0,e.createElement)(KT,null)},...N,...x]},...h,{name:"form-builder",icon:"academy-icon academy-icon--form-builder",title:(0,W.__)("Form Builder","academy"),className:"academy-tab-link academy-tab-link--form-builder",subTabs:[{name:"instructor_form",title:(0,W.__)("Instructor Form","academy"),className:"academy-tab-link academy-tab-link--general",content:(0,e.createElement)(UT,null)},{name:"student_form",title:(0,W.__)("Student Form","academy"),className:"academy-tab-link academy-tab-link--enrollcourse",content:(0,e.createElement)(VT,null)}]},{name:"advanced",icon:"academy-icon academy-icon--advance",title:(0,W.__)("Advanced","academy"),className:"academy-tab-link academy-tab-link--advanced",subTabs:[{name:"recaptcha",title:(0,e.createElement)(e.Fragment,null,(0,W.__)("reCAPTCHA","academy"),!Sa&&(0,e.createElement)("span",{className:"academy-pro-badge"},(0,W.__)("PRO","academy"))),className:"academy-tab-link academy-tab-link--recaptcha",content:(0,e.createElement)(sP,null)},...k,...b,...S,...v,...y]}],O=(e="",t="",a,n)=>{f(""!==t?{path:e,tab:t,pathIndex:a,tabIndex:n}:{path:e,tab:!1,pathIndex:a,tabIndex:!1}),c(`${_a}admin.php?page=${u}&path=${e}${t?`&tab=${t}`:""}`,{replace:!0})},I=!1!==p?.tabIndex?C[p?.pathIndex]?.subTabs[p?.tabIndex]?.content:C[p?.pathIndex]?.content;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(fp,{enableReinitialize:!0,initialValues:null!==(a=i?.data)&&void 0!==a?a:{},onSubmit:(e,t)=>{const{is_enabled_academy_web_font:a,is_enabled_academy_login:n,primary_color:r,secondary_color:i,text_color:s,gray_color:l,border_color:c,course_page:u,is_expire_course_enrollment:p,is_enabled_course_review:f,is_enabled_course_share:h,is_enabled_course_wishlist:y,course_archive_courses_per_page:_,course_archive_courses_per_row:g,course_archive_filters:b,course_archive_sidebar_position:v,course_archive_courses_order:E,is_enabled_course_single_enroll_count:w,is_opened_course_single_first_topic:x,lessons_page:N,is_enabled_lessons_php_render:k,lessons_topbar_logo:S,is_enabled_lessons_theme_header_footer:C,is_enabled_lessons_content_title:O,lessons_topic_length:I,is_disabled_lessons_right_click:A,is_enabled_academy_player:T,auto_load_next_lesson:P,auto_complete_topic:M,frontend_dashboard_page:D,frontend_instructor_reg_page:F,is_show_public_profile:R,is_instructor_can_publish_course:L,is_instructor_update_course_price:q,is_enabled_instructor_review:j,frontend_student_reg_page:z,is_student_can_upload_files:B,password_reset_page:H,tutor_booking_page:$,monetization_engine:V,hide_course_product_from_shop_page:U,woo_force_login_before_enroll:W,woo_order_auto_complete:G,store_link_inside_frontend_dashboard:Y,store_link_label_inside_frontend_dashboard:K,is_enabled_fd_link_inside_woo_dashboard:Z,woo_dashboard_fd_link_label:Q,is_enabled_fd_link_inside_woo_order_page:X,woo_order_page_fd_link_label:J,is_enabled_earning:ee,admin_commission_percentage:te,instructor_commission_percentage:ae,is_enabled_fee_deduction:ne,fee_deduction_name:re,fee_deduction_amount:ie,fee_deduction_type:se,instructor_minimum_withdraw_amount:oe,is_enabled_instructor_paypal_withdraw:le,is_enabled_instructor_echeck_withdraw:ce,is_enabled_instructor_bank_withdraw:ue,instructor_bank_withdraw_instruction:de,is_enabled_recaptcha:me,recaptcha_type:pe,recaptcha_v2_site_key:fe,recaptcha_v2_secret_key:he,recaptcha_v3_site_key:ye,recaptcha_v3_secret_key:_e,white_label:ge,email:be,form_builder:ve,notifications:Ee,is_enabled_facebook_login:we,facebook_app_id:xe,facebook_app_secret:Ne,is_enabled_google_login:ke,google_client_id:Se,gamipress:Ce,mailchimp:Oe}=e;"advanced"===d&&"white-label"===m?o(Lp({...ge},"admin/save_settings","academy_pro_white_label","white_label")).then((()=>t.setSubmitting(!1))):"advanced"===d&&"mail_chimp"===m?o(Lp({...Oe},"update_mail_chimp_settings","academy_pro","mailchimp")):"advanced"===d&&"notification"===m?o(Lp({...Ee},"update_settings","academy_pro_notifications","notifications")).then((()=>t.setSubmitting(!1))):"email"===d?o(Lp({...be},"save_email_settings","academy_pro_email","email")).then((()=>t.setSubmitting(!1))):"form-builder"===d&&"student_form"===m?o(qp({...ve},"save_student_form_settings",!1)).then((()=>t.setSubmitting(!1))):"form-builder"===d&&"instructor_form"===m?o(qp({...ve},"save_instructor_form_settings",!0)).then((()=>t.setSubmitting(!1))):"advanced"===d&&"gamipress"===m?o(Lp({...Ce},"update_settings","academy_pro_gamipress","gamipress")).then((()=>t.setSubmitting(!1))):o(Lp({is_enabled_academy_web_font:a,is_enabled_academy_login:n,primary_color:r,secondary_color:i,text_color:s,gray_color:l,border_color:c,course_page:u,is_expire_course_enrollment:p,is_enabled_course_review:f,is_enabled_course_share:h,is_enabled_course_wishlist:y,course_archive_courses_per_page:_,course_archive_courses_per_row:g,course_archive_filters:b,course_archive_sidebar_position:v,course_archive_courses_order:E,is_enabled_course_single_enroll_count:w,is_opened_course_single_first_topic:x,lessons_page:N,is_enabled_lessons_php_render:k,lessons_topbar_logo:S,is_enabled_lessons_theme_header_footer:C,is_enabled_lessons_content_title:O,lessons_topic_length:I,is_disabled_lessons_right_click:A,is_enabled_academy_player:T,auto_load_next_lesson:P,auto_complete_topic:M,frontend_dashboard_page:D,frontend_instructor_reg_page:F,is_show_public_profile:R,is_instructor_can_publish_course:L,is_instructor_update_course_price:q,is_enabled_instructor_review:j,frontend_student_reg_page:z,is_student_can_upload_files:B,password_reset_page:H,tutor_booking_page:$,monetization_engine:V,is_enabled_earning:ee,admin_commission_percentage:te,instructor_commission_percentage:ae,is_enabled_fee_deduction:ne,fee_deduction_name:re,fee_deduction_amount:ie,fee_deduction_type:se,hide_course_product_from_shop_page:U,woo_force_login_before_enroll:W,woo_order_auto_complete:G,store_link_inside_frontend_dashboard:Y,store_link_label_inside_frontend_dashboard:K,is_enabled_fd_link_inside_woo_dashboard:Z,woo_dashboard_fd_link_label:Q,is_enabled_fd_link_inside_woo_order_page:X,woo_order_page_fd_link_label:J,is_enabled_recaptcha:me,recaptcha_type:pe,recaptcha_v2_site_key:fe,recaptcha_v2_secret_key:he,recaptcha_v3_site_key:ye,recaptcha_v3_secret_key:_e,instructor_minimum_withdraw_amount:oe,is_enabled_instructor_paypal_withdraw:le,is_enabled_instructor_echeck_withdraw:ce,is_enabled_instructor_bank_withdraw:ue,instructor_bank_withdraw_instruction:de,is_enabled_facebook_login:we,facebook_app_id:xe,facebook_app_secret:Ne,is_enabled_google_login:ke,google_client_id:Se})).then((()=>t.setSubmitting(!1)))}},(({handleSubmit:t,dirty:a,isSubmitting:r})=>(0,e.createElement)(vp,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)("div",{className:"academy-settings-topbar"},(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Settings","academy")),(0,e.createElement)(lu,{type:"submit",onClick:t,preset:a?"purple":"gray",label:(0,W.__)("Save","academy"),isDisabled:!a,isLoading:r}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Settings","academy")}),(0,e.createElement)("div",{className:"academy-settings academy-page-content academy-page-content--settings"},(0,e.createElement)(DP,{tabs:C,activeTab:p,handleTabSelect:O,hasSubTab:!0}),(0,e.createElement)("div",{className:"academy-settings-content"},n?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,I)))))))},RP={name:Zc().string};function LP({name:a}){const{values:n,setFieldValue:r}=ep(),i=parseInt(n[a]),[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)([]);(0,e.useEffect)((()=>{o(!0),nn({action:"academy_pro_enrollment/admin/get_users"}).then((e=>{o(!1),c(e?.data?.data)}))}),[]);const u=(e="")=>{o(!0),nn({action:"academy_pro_enrollment/admin/get_users",keyword:e}).then((e=>{o(!1),c(e?.data?.data)}))},d=l.length?l.find((e=>e.value===i)):{};return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-fetch-students"},(0,e.createElement)("label",{htmlFor:"selectStudent",className:"academy-fetch-students__label"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Select Student","academy"))),(0,e.createElement)(Pd,{isMulti:!1,id:"selectStudent",suffix:"select-student",placeholder:(0,W.__)("Search and choose a student using their email","academy"),name:a,value:d,onChangeHandler:e=>{r(a,e||0)},onInputChange:e=>{0===l.filter((t=>t.label.toLowerCase().includes(e))).length&&u(e)},options:l,isSearchable:!0,isLoading:s,onMenuOpen:u,isClearable:!0,isDisabled:!n.course_id})))}LP.propTypes=RP,LP.defaultProps={};const qP={isOpenModal:Zc().bool,onRequestClose:Zc().func};function jP({isOpenModal:a,onRequestClose:n}){const[r,i]=(0,e.useState)(!1),s=zn();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(zf,{title:(0,e.createElement)(e.Fragment,null,(0,W.__)("Enroll Student","academy"),(0,e.createElement)(pk,{type:"enroll_student",isOpenModal:i,setImportOpen:i,label:(0,W.__)("Bulk Enroll"),info:"Please ensure your CSV file includes the <strong>'email'</strong> and <strong>'course_id'</strong> field as it is required for a successful bulk enroll. The <strong>'first_name'</strong>, <strong>'last_name'</strong>, <strong>'username'</strong> and <strong>'password'</strong> fields are optional. Thank you!"})),isOpen:a,onRequestClose:n,submitButtonLabel:(0,W.__)("Enroll Now","academy"),suffix:r?"enroll-student-form-hidden":"enroll-student-form",size:"small",formik:{enableReinitialize:!1,initialValues:{course_id:0,student_id:0},onSubmit:(e,t)=>{t.setSubmitting(!0),nn({action:"academy_pro_enrollment/admin/do_enrollment",...e}).then((({data:a})=>{a.success?s(lk()).then((()=>{s(sr(a.data,!0,"success")),t.setSubmitting(!1),t.setValues({...e,student_id:0})})):(s(sr(a.data,!0,"error")),t.setSubmitting(!1),t.setValues({...e,student_id:0}))}))}}},(0,e.createElement)(Av,{name:"course_id",title:(0,W.__)("Select Course","academy"),placeholder:(0,W.__)("Search and select a course","academy"),postType:"academy_courses"}),(0,e.createElement)(LP,{name:"student_id"})))}function zP(){const[a,n]=(0,e.useState)(!1),r=An((e=>e.addons)),i=An((e=>e.students)),s=zn(),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)({}),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),h=P(),y=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),_=y.get("perPage"),g=y.get("search"),b=(e="")=>{let t=`${_a}admin.php?page=academy-students`;if(""!==e&&null!==e&&"null"!==e){const a="?"===t[t.length-1]&&t.split(t.length-1);t=`${t}${a?"":"&"}search=${e}`}h(t)},v=ln(r,"enrollment",!0),[E,w]=(0,e.useState)(null),x=[..."trash"!==status?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>u({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!i.data||i.data&&i.data.length<=1)&&(n(!0),s(lk()).then((()=>{n(!1)})))}),[]),(0,e.useEffect)((()=>{b(g)}),[g]);const N=()=>{l([]),u({}),f(!0),m(!1)};t().useMemo((()=>{d?(c.value,o.forEach((e=>{s(ck({ID:e.id?e.id:e.ID}))})),N()):N()}),[d]);const k=(e=1,t=10)=>{n(!0),s(lk(e,t)).then((()=>{n(!1)}))},S=[{name:(0,W.__)("Name","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},t.display_name))},{name:(0,W.__)("Email","academy"),cell:e=>e.user_email},{name:(0,W.__)("Enrolled Courses","academy"),cell:t=>{const a=t.enrolled_courses&&t.enrolled_courses.length;return(0,e.createElement)("div",{className:"academy-table-completed-courses"},a?t.enrolled_courses.map(((a,n)=>(0,e.createElement)("div",{className:"academy-table-course-item",key:n},(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}),link:a.permalink,target:"_blank",iconPosition:"right",label:cn(a.title),type:"link",className:"academy-btn--link"}),v&&(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),iconPosition:"right",className:"academy-btn--link",onClick:()=>(e=>{window.confirm((0,W.__)("Are you sure to cancel enrollment?","academy"))&&nn({action:"academy_pro_enrollment/admin/cancel_enrollment",student_id:t.ID,course_id:e.ID}).then((e=>{e.data.success?(s(sr(e.data.data,!0,"success")),s(lk(i.current_page))):s(sr(e.data.data,!0,"error"))}))})(a)})))):(0,W.__)("No Course Enrolled Yet","academy"))}},{name:(0,W.__)("Completed Courses","academy"),isLabelWidth:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-completed-courses"},t.completed_courses?t.completed_courses.map(((t,a)=>(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}),iconPosition:"right",link:t.permalink,target:"_blank",key:a,label:cn(t.title),type:"link",className:"academy-btn--link"}))):(0,W.__)("No Course Completed Yet","academy"))},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Details","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--details"}),onClick:()=>(e=>{w(e)})(t)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure you want to remove selected Student?","academy"))&&s(ck({ID:e.id?e.id:e.ID})));var e}}]}))}],C=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Students"),onSearchHandler:e=>{n(!0),s(lk(1,10,e)).then((()=>{n(!1),b(e)}))},defaultValue:g||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[g]);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(Bd,{columns:S,data:i?.data?i?.data:[],showSubHeader:!0,subHeaderComponent:C,isRowSelectable:!0,noDataText:(0,W.__)("No Student data was found to see the available list here."),showColumnFilter:!0,getSelectRowValue:e=>{l(e),f(!1)},showPagination:!0,onChangePage:(e=1)=>{s(uk(e)),k(e)},onChangeItemsPerPage:(e,t)=>{s(uk(t)),k(t,e)},totalItems:i?.totalItems,totalRows:i?.data?.length,dataFetchingStatus:a,resetSelected:p,rowsPerPage:_,suffix:"students"}),o.length>0&&(0,e.createElement)(Pf,{actionButtons:x,itemsLength:o?.length,confirmHandler:m,isActionSelected:c,resetHandler:N}),E&&(0,e.createElement)(tk,{data:E,title:(0,W.__)("Student Details","academy"),closeModal:()=>w(null)}))}jP.propTypes=qP,jP.defaultProps={};const BP=function(){const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),s=An((e=>e.addons)),o=ln(s,"enrollment"),l=zn();let c="";return c=Sa&&o?"academy-btn academy-btn--preset-purple":Sa?"academy-btn--pro-enroll-disable":"academy-btn--enroll-disable",(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("All Students","academy")),(0,e.createElement)(nm,{filterText:["student"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Students","academy")},(0,e.createElement)("div",{className:"academy-enrollment-teaser"},(0,e.createElement)(fk,{isOpenModal:i,onRequestClose:()=>{i(!1)},modalOpen:r,title:(0,W.__)("Add Student","academy"),type:"student"}),Sa&&o&&(0,e.createElement)(lu,{type:"button",className:c,onClick:()=>{Sa?o&&n(!0):l(au(!0))},label:(0,W.__)("Enroll Student","academy"),isPro:!!Sa,border:"purple",preset:"transparent",suffix:"enroll-student"}))),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--students"},(0,e.createElement)(zP,null),a&&(0,e.createElement)(jP,{isOpenModal:a,onRequestClose:()=>{Sa&&n(!1)},formData:[]})))};function HP(){const{values:a,setFieldValue:n}=ep();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-term__form"},(0,e.createElement)("div",{className:"academy-term-form__item"},(0,e.createElement)("div",{className:"academy-term-form__item--field"},(0,e.createElement)("label",{htmlFor:"name",className:"academy-mb-2"},(0,W.__)("Name","academy")),(0,e.createElement)(bp,{id:"name",name:"name",placeholder:(0,W.__)("Add tag name here","academy"),onBlur:e=>{0===parseInt(a.id)&&n("slug",Qa(e.target.value))},className:"academy-input"})),(0,e.createElement)("div",{className:"academy-term-form__item--field"},(0,e.createElement)("label",{htmlFor:"slug",className:"academy-mb-2"},(0,W.__)("Slug","academy")),(0,e.createElement)(bp,{id:"slug",name:"slug",placeholder:(0,W.__)("Add slug here","academy"),onBlur:e=>{0===parseInt(a.id)&&n("slug",Qa(e.target.value))},className:"academy-input"}))),(0,e.createElement)("div",{className:"academy-term-form__item--field"},(0,e.createElement)("label",{htmlFor:"description",className:"academy-mb-2"},(0,W.__)("Description","academy")),(0,e.createElement)(bp,{id:"description",name:"description",placeholder:(0,W.__)("Add Description here","academy"),as:"textarea",className:"academy-input"}))))}const $P={deleteHandler:Zc().func};function VP({viewFrom:a,editItemHandler:n,deleteHandler:r}){const[i,s]=(0,e.useState)(!1),o=An((e=>e.tags)),l=An((e=>e.bookings.tags)),[c,u]=(0,e.useState)([]),[d,m]=(0,e.useState)({}),[p,f]=(0,e.useState)(!1),[h,y]=(0,e.useState)(!1),_=zn(),g=[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>m({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}];(0,e.useEffect)((()=>{"course"===a?o.data||(s(!0),_(Py()).then((()=>{s(!1)}))):l.length||(s(!0),_(Cf()).then((()=>{s(!1)})))}),[a]);const b=()=>{u([]),m({}),y(!0),f(!1)},v=(e=1,t=10)=>{s(!0),_(Py("any")).then((()=>{s(!1)}))};t().useMemo((()=>{p?(d.value,c.forEach((e=>{r(e.id)})),b()):b()}),[p]);const E=[{name:(0,W.__)("Name","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("div",{onClick:()=>n(t),className:"academy-table-title",role:"presentation"},(0,e.createElement)("p",null,cn(t.name))),(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}))),(0,e.createElement)("div",{className:"academy-table-sub-title"},(0,e.createElement)("div",{className:"academy-table-sub-title__item"},(0,W.__)("ID: ","academy"),t.id)))},{name:(0,W.__)("Slug","academy"),cell:t=>(0,e.createElement)("span",null,t.slug)},{name:(0,W.__)("Description","academy"),cell:t=>(0,e.createElement)("span",null,cn(t.description,30))},{name:(0,W.__)("Count","academy"),cell:t=>(0,e.createElement)("span",null,t.count)},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t)},{type:"link",label:(0,W.__)("View","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--eye"}),link:t.link,target:"_blank"},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure you want to permanently delete selected course tag?","academy"))&&r(e.id));var e}}]}))}],w=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Tag"),onSearchHandler:e=>{"course"===a?(s(!0),_(Py(e)).then((()=>{s(!1)}))):(s(!0),_(Cf(e)).then((()=>{s(!1)})))}}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[]),x="course"===a?o.data:l;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:E,data:x||[],showSubHeader:!0,subHeaderComponent:w,isRowSelectable:!0,noDataText:(0,W.__)("Please, create tag to see the available list here."),showColumnFilter:!0,getSelectRowValue:e=>{u(e),y(!1)},showPagination:!1,onChangePage:(e=1)=>{v(e,o?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{v(t,e)},dataFetchingStatus:i,resetSelected:h,suffix:`${a}-tag`}),c.length>0&&(0,e.createElement)(Pf,{actionButtons:g,itemsLength:c?.length,confirmHandler:f,isActionSelected:d,resetHandler:b}))}VP.propTypes=$P,VP.defaultProps={deleteHandler:()=>{}};const UP=a=>{const{viewFrom:n}=a,r=zn(),[i,s]=(0,e.useState)({}),[o,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!1);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),"course"===n?(0,W.__)("Course","academy"):(0,W.__)("Booking","academy")," ",(0,W.__)("Tag","academy")),(0,e.createElement)(nm,{filterText:["tag"]}))}),(0,e.createElement)(bm,{heading:"course"===n?(0,W.__)("Course Tags","academy"):(0,W.__)("Booking Tags","academy")},(0,e.createElement)(lu,{type:"button",onClick:()=>u(!0),label:(0,W.__)("Add New Tag","academy")})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--tags"},(0,e.createElement)(VP,{values:o,editItemHandler:e=>{s({...e}),u(!0)},selectHandler:(e,t)=>{l(e?e=>[...e,t.id]:e=>e.filter((e=>parseInt(e)!==parseInt(t.id))))},deleteHandler:e=>{r("course"===n?(e=>async t=>{try{await Za.post(`${pa}academy_courses_tag/${parseInt(e)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}}).then((e=>{t({type:Zp,payload:e.data.previous}),t(sr((0,W.__)("Tag Deleted!","academy"),!0,"success"))}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e):(e=>async t=>{try{await Za.post(`${pa}academy_booking_tag/${parseInt(e)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}}).then((e=>{t({type:mf,payload:e.data.previous}),t(sr((0,W.__)("Tag Deleted!","academy"),!0,"success"))}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e))},viewFrom:n}),(0,e.createElement)(zf,{title:i.id>0?(0,W.__)("Update Tag","academy"):(0,W.__)("Add New Tag","academy"),onRequestClose:()=>{s({}),u(!1)},suffix:"term",isOpen:c,size:"small",submitButtonLabel:i.id>0?(0,W.__)("Update Tag","academy"):(0,W.__)("Add Tag","academy"),contentLabel:"tag",formik:{enableReinitialize:!0,initialValues:{id:0,name:"",slug:"",description:"",...i},onSubmit:(e,t)=>{t.setSubmitting(!0),""===e.name?(r(sr((0,W.__)("Title Missing","academy"),!0,"error")),t.setSubmitting(!1)):e.id>0?"course"===n?r((e=>async t=>{try{await Za.post(pa+"academy_courses_tag/"+parseInt(e.id),e).then((e=>{t({type:Kp,payload:e.data})}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((()=>{r(sr((0,W.__)("Tag Updated","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)})):r((e=>async t=>{try{await Za.post(pa+"academy_booking_tag/"+parseInt(e.id),e).then((e=>{t({type:df,payload:e.data})}))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((()=>{r(sr((0,W.__)("Tag Updated","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)})):"course"===n?r(Ty(e)).then((()=>{r(sr((0,W.__)("Tag Created","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)})):r(Of(e)).then((()=>{r(sr((0,W.__)("Tag Created","academy"),!0,"success")),t.setSubmitting(!1),setTimeout((()=>{s({}),u(!1)}),500)}))}}},(0,e.createElement)(HP,null))))},WP=()=>{const t=(0,e.useRef)(null),a=document.querySelector("#academywrap")||document.querySelector("#academyFrontendDashWrap")||document.querySelector("#academy_curriculum_booking_content")||document.querySelector("#academyLessonsWrap")||document.querySelector("#academy_frontend_dashboard_react_render")||document.querySelector(".academy-single-booking")||document.querySelector(".academy-single-course"),n=An((e=>e.notification)),r=zn();(0,e.useEffect)((()=>(n.showNotification&&a?(t.current.style.position="fixed",t.current.style.left="50%",t.current.style.transform="translateX(-50%)",t.current.style.bottom="50px",document.body.appendChild(t.current)):t.current&&t.current.parentNode===document.body&&document.body.removeChild(t.current),()=>{t.current&&t.current.parentNode===document.body&&document.body.removeChild(t?.current)})),[n.showNotification]),(0,e.useEffect)((()=>{n.showNotification&&setTimeout((()=>{i()}),5e3)}),[n.showNotification]);const i=()=>{r(sr("",!1))};return(0,e.createElement)(e.Fragment,null,n?.showNotification&&(0,yn.createPortal)((0,e.createElement)("div",{className:`academy-notification ${n.type&&`academy-notification--${n.type}`}`,ref:t},(0,e.createElement)("p",{className:"academy-notification__message"},(0,e.createElement)("span",{className:"academy-notification__message--icon"},(t=>{switch(t){case"error":return(0,e.createElement)("span",{className:"academy-icon academy-icon--information academy-icon--information-error"});case"info":return(0,e.createElement)("span",{className:"academy-icon academy-icon--information"});case"warning":return(0,e.createElement)("span",{className:"academy-icon academy-icon--notification"});default:return(0,e.createElement)("span",{className:"academy-icon academy-icon--filled-checkmark"})}})(n.type)),(0,e.createElement)("span",{className:"academy-notification__message--text"},n.message)),(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),preset:"transparent",suffix:"close-notification",onClick:i})),document.body))},GP=function(){const[t,a]=(0,e.useState)("lessons"),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)([]),o=An((e=>e.addons)),l=zn(),c=ln(o,"quizzes");return(0,e.createElement)("div",{className:"academy-tools-page__export-import"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Export/Import","academy")),(0,e.createElement)("div",{className:"academy-export-import-forms"},(0,e.createElement)("form",{action:`admin.php?page=academy-tools&exportType=${t}&security=${ua}`,method:"POST"},(0,e.createElement)("div",{className:"academy-tools-page-export__section"},(0,e.createElement)("div",null,(0,e.createElement)("h5",{className:"academy-tools-page-form-heading"},(0,W.__)("Export","academy"),(0,e.createElement)("span",{className:"academy-tools-page-form-heading__sub-title"},(0,W.__)("Download your data in format of .CSV, like lessons, quizzes from your LMS.","academy"))),(0,e.createElement)("div",{className:"academy-tools-page-export__section--items"},(0,e.createElement)("p",null,(0,e.createElement)("label",{htmlFor:"exportTypeLessons",onClick:()=>a("lessons"),role:"presentation"},(0,e.createElement)("input",{id:"exportTypeLessons",type:"radio",name:"type",value:"lessons",defaultChecked:"lessons"===t})," ",(0,W.__)("Lessons","academy"))),c&&(0,e.createElement)("p",{className:`${!Sa&&"disable"}`},(0,e.createElement)("label",{htmlFor:"exportTypeQuizzes",onClick:()=>Sa?a("quizzes"):l(au(!0)),role:"presentation"},(0,e.createElement)("input",{id:"exportTypeQuizzes",type:"radio",name:"type",value:"quizzes",disabled:!Sa,defaultChecked:"quizzes"===t})," ",(0,W.__)("Quizzes","academy"),!Sa&&(0,e.createElement)(Jc,{suffix:"academy-pro-badge"})))),(0,e.createElement)(lu,{label:(0,W.sprintf)(
// translators: %s: ExportType
(0,W.__)("Export %s","academy"),t),type:"submit",preset:"purple",size:"sm"})),(0,e.createElement)("img",{src:fa+"assets/images/exportIllustration.svg",alt:"export"}))),(0,e.createElement)(fp,{enableReinitialize:!0,initialValues:{academy_export_option:"lessons",academy_import_file:""},onSubmit:(e,t)=>{t.setSubmitting(!0),s([]),n?nn({action:`academy${"quizzes"===e.academy_export_option?"_pro":""}/import_${e.academy_export_option}`,upload_file:n},!0).then((e=>{r(!1),t.setSubmitting(!1),e.data.success?(s(e.data.data),l(sr((0,W.__)("Successfully Uploaded"),!0,"success"))):l(sr(e.data.data,!0,"error"))})):(t.setSubmitting(!1),l(sr((0,W.__)("Please select a file before import.","academy"),!0,"error")))}},(({values:t,isSubmitting:a})=>(0,e.createElement)(vp,{action:"admin.php?page=academy-tools&export=true",method:"POST"},(0,e.createElement)("div",{className:"academy-tools-page-import__section"},(0,e.createElement)("div",null,(0,e.createElement)("h5",{className:"academy-tools-page-form-heading"},(0,W.__)("Import","academy"),(0,e.createElement)("span",{className:"academy-tools-page-form-heading__sub-title"},(0,W.__)("Upload your data in format of .CSV, like lessons, quizzes to your LMS.","academy"))),(0,e.createElement)("div",{className:"academy-tools-page-import__section--items"},(0,e.createElement)("p",null,(0,e.createElement)("label",{htmlFor:"lessons"},(0,e.createElement)(bp,{type:"radio",id:"lessons",name:"academy_export_option",value:"lessons"}),(0,W.__)("Lessons","academy"))),c&&(0,e.createElement)("p",{className:`${!Sa&&"disable"}`,onClick:()=>!Sa&&l(au(!0)),role:"presentation"},(0,e.createElement)("label",{htmlFor:"quizzes"},(0,e.createElement)(bp,{type:"radio",id:"quizzes",name:"academy_export_option",disabled:!Sa,value:"quizzes"}),(0,W.__)("Quizzes","academy"),!Sa&&(0,e.createElement)(Jc,{suffix:"academy-pro-badge"})))),(0,e.createElement)("div",{className:"academy-import"},(0,e.createElement)("p",null,(0,W.__)("Choose a file from your computer","academy")),(0,e.createElement)(gN,{setUploadFileHandler:r,name:"academy_import_file"})),(0,e.createElement)(lu,{label:(0,W.__)("Import","academy")+" "+t?.academy_export_option,type:"submit",preset:"purple",isLoading:a,size:"sm"}),i.length>0&&(0,e.createElement)("div",{className:"academy-import-response"},(0,e.createElement)("p",{className:"academy-import-response__title"},(0,W.__)("Imported Data List","academy")),(0,e.createElement)(e.Fragment,null,i.map(((t,a)=>(0,e.createElement)("p",{className:"academy-import-response__item",key:a},(0,e.createElement)("span",null,a+1," ","-"),(0,e.createElement)("span",null," ",t))))))),(0,e.createElement)("img",{src:fa+"assets/images/importIllustration.svg",alt:"import"})))))))},YP=[{name:(0,W.__)("ID","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:""},t.ID))},{name:(0,W.__)("Page Name","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},Object.values(t.settings)))},{name:(0,W.__)("Page Slug","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},t.post_name))},{name:(0,W.__)("Status","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},t?.ID&&"publish"===t.post_status?(0,e.createElement)("span",{className:"academy-icon academy-icon--filled-checkmark"}):(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),(0,e.createElement)("a",{href:t.permalink,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}))))}],KP=({data:t,isFetchPages:a})=>(0,e.createElement)(Bd,{className:"academy-list-wrap",columns:YP,data:t,noDataText:(0,W.__)("No pages data was found to see the available list here."),progressPending:a,showColumnFilter:!1,isRowSelectable:!1,suffix:"tools-pages",showSubHeader:!1}),ZP="fetch_status",QP="fetch_pages",XP=()=>async e=>await nn({action:"academy/fetch_academy_pages"}).then((t=>(e({type:QP,payload:t?.data?.data},(t=>{var a;e(sr(null!==(a=t?.response?.data?.message)&&void 0!==a?a:t?.message,!0,"error"))})),t))),JP=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1),i=An((e=>e.tools.pages)),s=zn();return(0,e.useEffect)((()=>{i||(a(!0),s(XP()).then((()=>{a(!1)})))}),[]),(0,e.createElement)("div",{className:"academy-tools-page__academy-pages"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.sprintf)(
// translators: %s: BrandingName
(0,W.__)("%s Pages","academy"),qa)),(0,e.createElement)("div",{className:"academy-tools-page-academy__top"},(0,e.createElement)("span",{className:"academy-icon academy-icon--info-circle"}),(0,e.createElement)("span",{className:"academy-tools-page-academy-info"},(0,W.__)("This program will set up the remaining or missing Pages. Pages that have been established and configured will not be changed.","academy"))),(0,e.createElement)("div",{className:"academy-tools-page-academy__body"},(0,e.createElement)(KP,{data:i,isFetchPages:t}),(0,e.createElement)(lu,{isLoading:n,suffix:"regenerate",presets:"purple",onClick:()=>{r(!0),nn({action:"academy/regenerate_academy_pages"}).then((()=>{s(XP()).then((()=>{r(!1),s(sr((0,W.__)("Successfully Re-Generate Pages."),!0,"success"))}))}))},label:(0,W.__)("Re-Generate Pages","academy")})))};function eM({value:a}){return(0,e.createElement)(t().Fragment,null,a?(0,e.createElement)("span",{className:"academy-icon academy-icon--check"}):(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}))}const tM={title:Zc().string},aM={title:Zc().string};function nM({title:a,children:n}){return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-status-items__item"},(0,e.createElement)("span",{className:"academy-wordpress-title"},a),(0,e.createElement)("span",{className:"academy-wordpress-data"},n)))}nM.propTypes=tM,nM.defaultProps=aM;const rM=[{label:(0,W.__)("WordPress Environment","academy"),value:"wordpress"},{label:(0,W.__)("Server Environment","academy"),value:"server"}],iM=()=>{const t=An((e=>e.tools.status)),[a,n]=(0,e.useState)(!t),[r,i]=(0,e.useState)("wordpress"),s=zn();return(0,e.useEffect)((()=>{t||s((async e=>await nn({action:"academy/fetch_academy_status"}).then((t=>(e({type:ZP,payload:t?.data?.data}),t)),(t=>{var a;e(sr(null!==(a=t.data.message)&&void 0!==a?a:t.message,!0,"error"))})))).then((()=>{setTimeout((()=>{n(!1)}),500)}))}),[]),(0,e.createElement)("div",{className:"academy-tools-page__status"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Status","academy")),a?(0,e.createElement)("div",{className:"academy-tools-page__loader"},(0,e.createElement)(wd,null)):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-tools-page_tabs"},rM.map((t=>(0,e.createElement)(lu,{key:t.value,className:"academy-tools-tab "+(r===t.value?"is-academy-active":"is-academy-default"),label:t.label,onClick:()=>i(t.value)})))),"wordpress"===r&&(0,e.createElement)("div",{className:"academy-tools-page__status-item"},(0,e.createElement)("div",{className:"academy-status-items"},t&&t?.wordpress&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(nM,{title:(0,W.__)("Home URL:","academy")},t.wordpress.home_url),(0,e.createElement)(nM,{title:(0,W.__)("Site URL:","academy")},t.wordpress.site_url),(0,e.createElement)(nM,{title:(0,W.__)("WordPress Version:","academy")},t.wordpress.wp_version),(0,e.createElement)(nM,{title:(0,W.sprintf)(
// translators: %s: BrandingName
(0,W.__)("%s Version:","academy"),qa)},t.wordpress.academy_version),(0,e.createElement)(nM,{title:(0,W.__)("WordPress memory limit:","academy")},t.wordpress.wp_memory_limit),(0,e.createElement)(nM,{title:(0,W.__)("WordPress multisite:","academy")},(0,e.createElement)(eM,{value:t.wordpress.wp_multisite})),(0,e.createElement)(nM,{title:(0,W.__)("WordPress debug mode:","academy")},(0,e.createElement)(eM,{value:t.wordpress.wp_debug_mode})),(0,e.createElement)(nM,{title:(0,W.__)("WordPress Cron:","academy")},(0,e.createElement)(eM,{value:t.wordpress.wp_cron})),(0,e.createElement)(nM,{title:(0,W.__)("Language:","academy")},t.wordpress.language),(0,e.createElement)(nM,{title:(0,W.__)("External object cache:","academy")},(0,e.createElement)(eM,{value:t.wordpress.external_object_cache}))))),"server"===r&&(0,e.createElement)("div",{className:"academy-tools-page__status-item"},(0,e.createElement)("div",{className:"academy-status-items"},t&&t?.server&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(nM,{title:(0,W.__)("Server info:","academy")},t.server.server_info),(0,e.createElement)(nM,{title:(0,W.__)("MySQL version:","academy")},t.server.mysql_version),(0,e.createElement)(nM,{title:(0,W.__)("PHP version:","academy")},t.server.php_version),(0,e.createElement)(nM,{title:(0,W.__)("Default timezone is UTC:","academy")},(0,e.createElement)(eM,{value:t.server.default_timezone})),(0,e.createElement)(nM,{title:(0,W.__)("PHP post max size:","academy")},t.server.php_post_max_size),(0,e.createElement)(nM,{title:(0,W.__)("fsockopen/cURL:","academy")},(0,e.createElement)(eM,{value:t.server.fsockopen_or_curl_enabled})),(0,e.createElement)(nM,{title:(0,W.__)("cURL version:","academy")},t.server.curl_version),(0,e.createElement)(nM,{title:(0,W.__)("DOMDocument:","academy")},(0,e.createElement)(eM,{value:t.server.domdocument_enabled})),(0,e.createElement)(nM,{title:(0,W.__)("PHP time limit:","academy")},t.server.php_max_execution_time),(0,e.createElement)(nM,{title:(0,W.__)("GZip:","academy")},(0,e.createElement)(eM,{value:t.server.gzip_enabled})),(0,e.createElement)(nM,{title:(0,W.__)("Multibyte string:","academy")},(0,e.createElement)(eM,{value:t.server.mbstring_enabled})))))))},sM=({shortCodeItem:t})=>{const{title:a,shortCode:n,description:r,url:i}=t,s=(0,e.useRef)(null),o=zn();return(0,e.createElement)("div",{className:"academy-short-code-item"},(0,e.createElement)("div",{className:"academy-short-code-item__info"},(0,e.createElement)("h3",null,a)),(0,e.createElement)("div",{className:"academy-short-code-item__body"},(0,e.createElement)("div",{className:"academy-short-code-details"},(0,e.createElement)("div",{className:"academy-short-code-text"},(0,e.createElement)("input",{type:"text",ref:s,className:"academy-short-code-text__shortcode",name:n,value:n,readOnly:!0}),(0,e.createElement)(lu,{onClick:e=>{s.current.select(),document.execCommand("copy"),e.target.focus(),o(sr((0,W.__)("Copied","academy"),!0,"success"))},className:"academy-btn--copy",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--copy-two"})})),(0,e.createElement)(lu,{className:"academy-btn--link",link:i,target:"_blank",type:"link",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--questions"})})),(0,e.createElement)("div",{className:"academy-short-code-description"},(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("You can use: ","academy")),r))))},oM=[{title:(0,W.__)("Course Grid","academy"),shortCode:'[academy_courses count="6" column_per_row="3"]',description:'[academy_courses ids="6,7,8" exclude_ids="2,4,5" category="18,19" cat_not_in="19,36" course_level="beginner,intermediate,experts" price_type="free,paid" tag="3,5,7" tag_not_in="5,7" orderby="title/date/modified" order="ASC/DESC" count="6" column_per_row="2/3/4/6/12" ]',url:"https://academylms.net/docs/course-grid-shortcode/"},{title:(0,W.__)("Frontend Dashboard","academy"),shortCode:"[academy_dashboard]",description:"[academy_dashboard]",url:"https://academylms.net/docs/how-to-use-academy-lms-dashboard-shortcode/"},{title:(0,W.__)("Login Form","academy"),shortCode:"[academy_login_form]",description:'[academy_login_form form_title="My Login Page" login_button_label="Login"]',url:"https://academylms.net/docs/login-shortcode/"},{title:(0,W.__)("PDF Embedder","academy"),shortCode:'[academy_pdf src="http://example.com/example.pdf"]',description:'[academy_pdf src="http://example.com/example.pdf" width="80%" height="450px"]',url:"https://academylms.net/docs/how-to-use-academy-lms-pdf-shortcode/"},{title:(0,W.__)("Student Registration","academy"),shortCode:"[academy_student_registration_form]",description:'[academy_student_registration_form dashboard_url="http://example.com/dashboard"]',url:"https://academylms.net/docs/how-to-use-student-registration-shortcode/"},{title:(0,W.__)("Instructor Registration","academy"),shortCode:"[academy_instructor_registration_form]",description:'[academy_instructor_registration_form dashboard_url="http://example.com/dashboard"]',url:"https://academylms.net/docs/how-to-use-instructor-registration-shortcode/"},{title:(0,W.__)("Search Form","academy"),shortCode:"[academy_course_search]",description:'[academy_course_search placeholder="Search.."]',url:"https://academylms.net/docs/how-to-use-academy-lms-search-shortcode/"}],lM=()=>(0,e.createElement)("div",{className:"academy-tools-page__short-code"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Short Code","academy")),oM.map(((t,a)=>(0,e.createElement)(sM,{shortCodeItem:t,key:a})))),cM=function({handler:t,title:a,openModal:n,setOpenModal:r,courseIds:i,migrateAbleCourses:s,isLoading:o,setMigrateAbleCourses:l,setCourseIds:c}){const u=(0,e.useRef)(),d=i.length/s?.length*100,m=zn();return(0,e.useEffect)((()=>{s?.courses?.length&&u?.current.scrollIntoView({behavior:"smooth"})}),[u,s?.courses?.length]),(0,e.useEffect)((()=>{100===d&&m(sr((0,W.__)("Congratulations, Migration is successful",!0,"success")))}),[d]),(0,e.createElement)(e.Fragment,null,n?(0,e.createElement)(fd,{isOpen:n,onRequestClose:()=>{100===d&&(r(!1),l({courses:[],length:0}),c([]))},suffix:"migration",title:a,isEnabledHeader:!0},(0,e.createElement)("div",{className:"academy-tools-migration"},(0,e.createElement)("div",{className:"academy-migration-process"},(0,e.createElement)("div",{className:"academy-migration-process__dataList"},(0,e.createElement)("h5",{className:"academy-migration-process__title"},(0,W.__)("Migration Progress","academy")),0===s?.courses?.length?(0,e.createElement)(wd,null):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"academy-migration-items"},s.courses&&s.courses.map(((t,a)=>(0,e.createElement)("li",{className:"academy-migration-item",key:a},(0,e.createElement)("input",{type:"checkbox",checked:i.length&&i?.map((e=>e===t.ID))}),(0,e.createElement)("span",null,t.post_title," ",(0,W.__)("Successfully Done","academy"))))),(0,e.createElement)("div",{ref:u})),(0,e.createElement)("div",{className:"academy-progress-container"},(0,e.createElement)("div",{className:`academy-progress-bar academy-progress-bar__progress ${100!==d&&"academy-progress-bar__animation"}`,style:{width:`${d?parseInt(d):0}%`}}),(0,e.createElement)("span",{className:"academy-progress-text "+(d<50?"academy-progress-text--primary":"academy-progress-text--white")},d?parseInt(d):0,"%"))))))):(0,e.createElement)("div",{className:"academy-tools-migration__start"},(0,e.createElement)(lu,{onClick:t,label:(0,W.__)("Run Migration","academy"),suffix:"migration",isLoading:o})))},uM=[{tab_title:(0,W.__)("LearnPress","academy"),value:"learnpress"},{tab_title:(0,W.__)("Tutor LMS","academy"),value:"tutorlms"},{tab_title:(0,W.__)("LearnDash LMS","academy"),value:"learndash"},{tab_title:(0,W.__)("LifterLMS","academy"),value:"lifter"},{tab_title:(0,W.__)("MasterStudy LMS","academy"),value:"masterstudy"}];function dM(){const a=P(),n=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),r=n.get("path"),i=n.get("page"),s=n.get("tab"),[o,l]=(0,e.useState)("learnpress"),[c,u]=(0,e.useState)({courses:[],length:0}),[d,m]=(0,e.useState)([]),[p,f]=(0,e.useState)(!1),[h,y]=(0,e.useState)(!1),_={learnpress:"learnpress_to_academy_migration",tutor:"tutor_to_academy_migration",learndash:"learndash_to_academy_migration",masterstudy:"masterstudy_to_academy_migration",lifter:"lifter_to_academy_migration"},g=zn();(0,e.useEffect)((()=>{a(`${_a}admin.php?page=${i}&path=${r}&tab=${s||o}`,{replace:!0}),l(s||o)}),[]);const b=e=>{window.confirm("Are you sure? You can't undo")&&(y(!0),nn({action:"academy_migration_tool/prepare_other_lms_to_alms_migration",pluginName:e}).then((t=>{if(t.data.success){f(!0);const a=t.data.data;u({length:a.length});const n=(t=0)=>{nn({action:`academy_migration_tool/${_[e]}`,course_id:a[t].ID}).then((()=>{const r=a[t];d.push(r.ID),u((e=>({...e,courses:[...e.courses||[],r]})));const i=t+1;i<a.length&&n(i,e)}))};n(0),y(!1)}else y(!1),g(sr(t.data.data,!0,"error"))})))};return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-tools-page__migration"},(0,e.createElement)("h3",{className:"academy-heading"},(0,W.__)("Migration","academy")),(0,e.createElement)("div",{className:"academy-tools-page_tabs"},uM.map((t=>(0,e.createElement)(lu,{key:t.value,label:t.tab_title,onClick:()=>{return e=t.value,l(e),void a(`${_a}admin.php?page=academy-tools&path=migration&tab=${e}`,{replace:!0});var e},className:"academy-tools-tab "+(o===t.value?"is-academy-active":"is-academy-default")})))),(0,e.createElement)("div",{className:"academy-migration-tabs"}),(0,e.createElement)("div",{className:"academy-migration-content"},(0,e.createElement)("p",{className:"academy-migration-warning-text"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,e.createElement)("span",null,(0,W.__)("Before migrating, please run this migration process in a","academy")," ",(0,e.createElement)("a",{href:"https://www.wpbeginner.com/wp-tutorials/how-to-create-staging-environment-for-a-wordpress-site/",target:"_blank",rel:"noreferrer"},(0,W.__)("Staging site.","academy"))," ",(0,e.createElement)("br",null),(0,W.sprintf)(
// translators: %s: toplevel_menu_title
(0,W.__)("The following data will be migrate to %s. After migrating no date can be restored to your previous LMS system.","academy"),qa),(0,e.createElement)("br",null),"lifter"===o&&(0,e.createElement)("span",{className:"warning-text"},(0,W.__)("Deactivate LifterLMS to See Your Course After Successful Migration","academy")))),"learnpress"===o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"academy-migration-content__list"},(0,e.createElement)("li",null,(0,W.__)("All Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course lessons","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quizzes","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quiz Questions & Answers","academy")),(0,e.createElement)("li",null,(0,W.__)("WooCommerce Product that are linked with courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Reviews","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Enrollment","academy")),(0,e.createElement)("li",null,(0,W.__)("Student complete Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Students Enrollments","academy"))),(0,e.createElement)(cM,{handler:()=>b("learnpress"),title:(0,W.sprintf)(
// translators: %s: toplevel_menu_title
(0,W.__)("LearnPress LMS to %s Migration","academy"),qa),migrateAbleCourses:c,openModal:p,setOpenModal:f,courseIds:d,setCourseIds:m,isLoading:h,setMigrateAbleCourses:u})),"tutorlms"===o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"academy-migration-content__list"},(0,e.createElement)("li",null,(0,W.__)("All Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course lessons","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quizzes","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quiz Questions & Answers","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Assignments","academy")),(0,e.createElement)("li",null,(0,W.__)("WooCommerce Product that are linked with courses ","academy")),(0,e.createElement)("li",null,(0,W.__)("Paid Course Order","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Reviews","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Enrollment","academy")),(0,e.createElement)("li",null,(0,W.__)("Student complete Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Students Enrollments","academy")),(0,e.createElement)("li",null,(0,W.__)("Content Drip Settings","academy"))),(0,e.createElement)(cM,{handler:()=>b("tutor"),title:(0,W.sprintf)(
// translators: %s: toplevel_menu_title
(0,W.__)("Tutor Lms to %s Migration","academy"),qa),migrateAbleCourses:c,openModal:p,setOpenModal:f,courseIds:d,setCourseIds:m,isLoading:h,setMigrateAbleCourses:u})),"learndash"===o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"academy-migration-content__list"},(0,e.createElement)("li",null,(0,W.__)("All Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course lessons","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quizzes","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quiz Questions & Answers","academy")),(0,e.createElement)("li",null,(0,W.__)(" WooCommerce Product that are linked with courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Enrollment","academy")),(0,e.createElement)("li",null,(0,W.__)("Student complete Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Students Enrollments","academy"))),(0,e.createElement)(cM,{handler:()=>b("learndash"),title:(0,W.sprintf)(
// translators: %s: toplevel_menu_title
(0,W.__)("LearnDash LMS to %s Migration","academy"),qa),migrateAbleCourses:c,openModal:p,setOpenModal:f,courseIds:d,setCourseIds:m,isLoading:h,setMigrateAbleCourses:u})),"masterstudy"===o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"academy-migration-content__list"},(0,e.createElement)("li",null,(0,W.__)("All Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course lessons","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quizzes","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quiz Questions & Answers","academy")),(0,e.createElement)("li",null,(0,W.__)("WooCommerce Product that are linked with courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Enrollment","academy")),(0,e.createElement)("li",null,(0,W.__)("Student complete Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Students Enrollments","academy"))),(0,e.createElement)(cM,{handler:()=>b("masterstudy"),title:(0,W.sprintf)(
// translators: %s: toplevel_menu_title
(0,W.__)("MasterStudy LMS to %s Migration","academy"),qa),migrateAbleCourses:c,openModal:p,setOpenModal:f,courseIds:d,setCourseIds:m,isLoading:h,setMigrateAbleCourses:u})),"lifter"===o&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("ul",{className:"academy-migration-content__list"},(0,e.createElement)("li",null,(0,W.__)("All Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course lessons","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quizzes","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Quiz Questions & Answers","academy")),(0,e.createElement)("li",null,(0,W.__)("WooCommerce Product that are linked with courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Course Enrollment","academy")),(0,e.createElement)("li",null,(0,W.__)("Student complete Courses","academy")),(0,e.createElement)("li",null,(0,W.__)("Students Enrollments","academy"))),(0,e.createElement)(cM,{handler:()=>b("lifter"),title:(0,W.sprintf)(
// translators: %s: toplevel_menu_title
(0,W.__)("LearnDash LMS to %s Migration","academy"),qa),migrateAbleCourses:c,openModal:p,setOpenModal:f,courseIds:d,setCourseIds:m,isLoading:h,setMigrateAbleCourses:u})))))}function mM(){const[a,n]=(0,e.useState)("status"),r=An((e=>e.addons)),i=P(),s=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),o=s.get("page"),l=s.get("path"),[c,u]=(0,e.useState)({tab:"Status",tabIndex:0}),d=ln(r,"migration-tool")?[{icon:"academy-icon academy-icon--migration-multi",title:(0,W.__)("Migration","academy"),name:"migration",slug:"migration",content:(0,e.createElement)(dM,null)}]:[],m=[{icon:"academy-icon academy-icon--status",title:(0,W.__)("Status","academy"),name:"status",slug:"status",content:(0,e.createElement)(iM,null)},{icon:"academy-icon academy-icon--page",
// translators: %s: BrandingName
title:(0,W.sprintf)((0,W.__)("%s Pages","academy"),qa),name:"pages",slug:"pages",content:(0,e.createElement)(JP,null)},{icon:"academy-icon academy-icon--shortcodes",title:(0,W.__)("Shortcodes","academy"),name:"shortcodes",slug:"shortcodes",content:(0,e.createElement)(lM,null)},...d,{icon:"academy-icon academy-icon--import-export",title:(0,W.__)("Export/Import","academy"),name:"export_import",slug:"export_import",content:(0,e.createElement)(GP,null)},{title:(0,W.__)("Setup Wizard","academy"),icon:"academy-icon academy-icon--setup-wizard",name:"setup",slug:"setup",link:`${va}admin.php?page=academy-setup`}];(0,e.useEffect)((()=>{const e=m&&m?.findIndex((e=>e?.name===l)),t=m&&m[e]?.subTabs?.findIndex((e=>e?.name===c.subTab));u(-1!==t&&void 0!==t?{tab:l,tabIndex:e}:{tab:null!=l?l:"status",tabIndex:-1!==e?e:0})}),[l,o]);const p="status"===a?["status"]:[],f="pages"===a?["pages"]:[],h="shortcodes"===a?["shortcode"]:[],y="export_import"===a?["export","import"]:[],_="migration"===a?["migration"]:[];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Tools","academy")),(0,e.createElement)(nm,{filterText:[...p,...f,...h,...y,..._]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Tools","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--tools"},(0,e.createElement)(DP,{tabs:m,activeTab:c,handleTabSelect:(e="",t)=>{u({tab:e,tabIndex:t}),i(`${_a}admin.php?page=${o}&path=${e}`,{replace:!0})},hasSubTab:!1}),(0,e.createElement)("div",{className:"academy-page-content--tools__content"},m[c?.tabIndex]?.content)))}mM.propTypes={},mM.defaultProps={};const pM="update_withdraw",fM="fetch_all_withdraw",hM=(e="approved",t=1,a=10)=>async n=>{try{await nn({action:"academy_multi_instructor/get_all_withdraw_request",status:"all"===e?"any":e,page:t,per_page:a}).then((t=>{n({type:fM,payload:{data:t.data.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}})}))}catch(e){var r;n(sr(null!==(r=e?.response?.data?.message)&&void 0!==r?r:e?.message,!0,"error"))}},yM=e=>async t=>{try{await nn({action:"academy_multi_instructor/update_withdraw_status",...e}).then((e=>{e.data.success&&t({type:pM,payload:e.data.data})}))}catch(e){t(sr(e?.message,!0,"error"))}},_M=[{value:"all",label:(0,W.__)("All","academy")},{value:"approved",label:(0,W.__)("Approved","academy")},{value:"pending",label:(0,W.__)("Pending","academy")},{value:"rejected",label:(0,W.__)("Rejected","academy")}];function gM(){const a=An((e=>e.withdraw)),n=zn(),[r,i]=(0,e.useState)(a.status?a.status:"all"),[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)({}),[m,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1),y=[..."trash"!==r?[{suffix:"draft",label:(0,W.__)("Pending","academy"),onClick:()=>d({value:"pending",message:(0,W.__)("Are you sure, you want to pending these items?","academy")})},{suffix:"publish",label:(0,W.__)("Approve","academy"),onClick:()=>d({value:"approve",message:(0,W.__)("Are you sure, you want to approve these items?","academy")})},{suffix:"delete",label:(0,W.__)("Remove","academy"),onClick:()=>d({value:"remove",message:(0,W.__)("Are you sure, you want to remove these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!a.data||a.data&&a.data.length<=1)&&(o(!0),n(hM(r)).then((()=>{o(!1)})))}),[]);const _=()=>{c([]),d({}),h(!0),p(!1)};t().useMemo((()=>{var e;m?(e=u.value,l.forEach((t=>{n(yM({ID:t.ID,statusTo:e})),n(sr(`Withdraw Request ${e?.charAt(0).toUpperCase()+e?.slice(1)}`,"approved"===e?"success":"warning"))})),_()):_()}),[m]);const g=(e,t)=>{n(yM({ID:e.ID,statusTo:t})).then((()=>{n(sr(`Withdraw Request ${t.charAt(0).toUpperCase()+t.slice(1)}`,!0,"approved"===t?"success":"warning"))}))},b=(e=1,t=10)=>{o(!0),n(hM("any",e,t)).then((()=>{o(!1)}))},v=[{name:(0,W.__)("Requested By","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("h5",null,t.user_login),(0,e.createElement)("p",{className:"academy-table-email"},t.user_email))},{name:(0,W.__)("Amount","academy"),cell:e=>e.amount},{name:(0,W.__)("Details","academy"),cell:t=>{const a=JSON.parse(t.method_data);return(0,e.createElement)("div",null,"bank"===a?.withdraw_method_type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Account Name:","academy"))," ",(0,e.createElement)("span",null,a?.bank_account_name)),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Account Number:","academy"))," ",(0,e.createElement)("span",null,a?.bank_account_number)),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Bank Name:","academy"))," ",(0,e.createElement)("span",null,a?.bank_name)),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Bank IBAN:","academy"))," ",(0,e.createElement)("span",null,a?.bank_IBAN)),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Bank SWIFT Code:","academy"))," ",(0,e.createElement)("span",null,a?.bank_IBAN)),(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Withdraw Method:","academy"))," ",(0,e.createElement)("span",null,a.withdraw_method_type))),"paypal"===a?.withdraw_method_type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Email Address:","academy"))," ",(0,e.createElement)("span",null,a?.paypal_email_address))),"echeck"===a?.withdraw_method_type&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)("strong",null,(0,W.__)("Physical Address:","academy"))," ",(0,e.createElement)("span",null,a?.echeckAddress))))}},{name:(0,W.__)("Requested Time","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.created_at).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.created_at).format("h:mm A")))},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)("div",{className:`academy-${t.status}`},(0,e.createElement)("span",null,t.status)),(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Approve","academy"),onClick:()=>g(t,"approved")},{type:"button",label:(0,W.__)("Rejected","academy"),onClick:()=>g(t,"rejected")}]}))}],E=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},_M.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===r?"is-active":""} `,key:a,onClick:()=>i(t.value)},t.label))))))),[r]);return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(Bd,{columns:v,data:a?.data?a?.data:[],showSubHeader:!0,subHeaderComponent:E,isRowSelectable:!0,noDataText:(0,W.__)("No Withdraw data was found to see the available list here."),showColumnFilter:!0,getSelectRowValue:e=>{c(e),h(!1)},showPagination:!0,onChangePage:e=>{b(e)},onChangeItemsPerPage:(e,t)=>{b(t,e)},totalItems:a?.totalItems,totalRows:a?.data?.length,dataFetchingStatus:s,resetSelected:f,suffix:"withdraw"}),l.length>0&&(0,e.createElement)(Pf,{actionButtons:y,itemsLength:l?.length,confirmHandler:p,isActionSelected:u,resetHandler:_}))}const bM=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Withdraw Requests","academy")),(0,e.createElement)(nm,{filterText:["withdraw"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Withdraw Requests","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--withdraw"},(0,e.createElement)(gM,null))),vM=a=>{const{meetingFormOpenHandler:n}=a,[r,i]=(0,e.useState)(!1),s=An((e=>e.meetings)),[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)([]),[p,f]=(0,e.useState)(!1),h=P(),y=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),_=y.get("perPage"),g=y.get("search"),b=(e="")=>{let t=Ca?`${_a}admin.php?page=academy-meeting`:"/dashboard/meeting?";if(""!==e&&null!==e&&"null"!==e){const a="?"===t[t.length-1]&&t.split(t.length-1);t=`${t}${a?"":"&"}search=${e}`}h(t)},v=zn(),E=[..."trash"!==s?.status?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>l({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!s?.data||s?.data&&s?.data.length<=1)&&(i(!0),v(Nx()).then((()=>{i(!1)})))}),[]),(0,e.useEffect)((()=>{b(g)}),[_,g]);const w=()=>{m([]),l({}),f(!0),u(!1)},x=(e=1,t=10)=>{i(!0),v(Nx("",e,t)).then((()=>{i(!1)}))},N=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("span",{onClick:()=>n(t.meta.academy_meeting_type,t),role:"presentation"},t.title?.rendered)))},{name:(0,W.__)("Meeting Time","academy"),cell:t=>{const{academy_meeting_response:a}=t.meta,n=JSON.parse(a);return"zoom"===t?.meta.academy_meeting_type?(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(n?.start_time).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",null,iu()(n?.start_time).format("h:mm A"))):(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(n?.meetingDate).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",null,iu()(n?.meetingDate).format("h:mm A")))}},{name:(0,W.__)("Meeting Token","academy"),cell:t=>{const a=JSON.parse(t?.meta.academy_meeting_response);return(0,e.createElement)("div",null,"zoom"===t?.meta.academy_meeting_type?a?.id:a?.meetingId)}},{name:(0,W.__)("Password","academy"),cell:t=>{const a=JSON.parse(t?.meta.academy_meeting_response),n="zoom"===t?.meta.academy_meeting_type?a?.h323_password:"-";return(0,e.createElement)("div",null,n)}},{name:(0,W.__)("Status","academy"),cell:t=>{const a=JSON.parse(t?.meta.academy_meeting_request);if("zoom"===t?.meta.academy_meeting_type){if(!a)return null;const{start_time:t,duration:n,timezone:r}=a,[i,s]=t.split("T"),o=iu()(i+" "+s).tz(r).unix(),l=iu()(i+" "+s).add(n,"minutes").tz(r).unix(),c=iu()().tz(iu().tz.guess()).unix();let u="Active";o<c&&l>c?u="Running":l<c&&(u="Expired");let d="publish";return"Active"===u?d="publish":"Running"===u?d="pending":"Expired"===u&&(d="rejected"),(0,e.createElement)("div",{className:`academy-${d}`},(0,e.createElement)("span",null,pn(u)))}const{meetingStatus:n}=a;let r="publish",i="publish";return"confirmed"===n?(r="publish",i="Active"):"Running"===n?(r="pending",i="Running"):"Expired"===n&&(r="rejected",i="Expired"),(0,e.createElement)("div",{className:`academy-${r}`},(0,e.createElement)("span",null,i))}},{name:(0,W.__)("Action","academy"),cell:t=>{const{academy_zoom_response:a}=t.meta;return(0,e.createElement)("div",{className:"academy-table-item-control"},a?.start_url&&(0,e.createElement)(lu,{type:"link",link:a?.start_url,preset:"purple",suffix:"start-meeting",label:(0,W.__)("Start Meeting","academy"),target:"_blank"}),(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t.meta.academy_meeting_type,t)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash"}),onClick:()=>(e=>{const t=JSON.parse(e.meta.academy_meeting_response);window.confirm((0,W.__)("Are you sure you want to permanently delete selected meeting?","academy"))&&v(xx({post_id:e.id,meeting_type:e.meta.academy_meeting_type,meeting_id:t?.id?t?.id:t?.meetingId,user_id:e.author}))})(t)}]}))}}];t().useMemo((()=>{c?d.forEach((e=>{const t=JSON.parse(e.meta.academy_meeting_response);v(xx({post_id:e.id,meeting_type:e.meta.academy_meeting_type,meeting_id:t?.id?t?.id:t?.meetingId,user_id:e.author}))})):w()}),[c]);const k=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Meeting","academy"),onSearchHandler:e=>{i(!0),v(Nx("",1,10,e)).then((()=>{i(!1),b(e)}))},defaultValue:g||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[g]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:N,data:s?.data,showSubHeader:!0,subHeaderComponent:k,isRowSelectable:!0,noDataText:(0,W.__)("Please, create meeting to see the available list here."),showColumnFilter:!0,getSelectRowValue:e=>{m(e),f(!1)},showPagination:!0,onChangePage:e=>{x(e)},onChangeItemsPerPage:(e,t)=>{x(t,e)},totalItems:s?.totalItems,totalRows:s?.data?.length,dataFetchingStatus:r,resetSelected:p,rowsPerPage:_,suffix:"meeting"}),d.length>0&&(0,e.createElement)(Pf,{actionButtons:E,itemsLength:d?.length,confirmHandler:u,isActionSelected:o,resetHandler:w}))},EM=({title:t,setData:a,data:n})=>{const[r,i]=(0,e.useState)(!1),s=[{label:(0,W.__)("Zoom","academy"),subTitle:(0,W.__)("To setup Zoom for video conferencing","academy"),value:"zoom",icon:"video",image:"assets/images/zoom.svg",content:(0,e.createElement)(Ix,{data:n,setData:a})},{label:(0,W.__)("Google Meet","academy"),subTitle:(0,W.__)("To setup Google Meet for video conferencing","academy"),value:"meet",image:"assets/images/google-meet.svg",icon:"video",content:(0,e.createElement)(Sx,null)}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{preset:"transparent",border:"purple",label:(0,W.__)("Setup","academy"),onClick:()=>i(!0)}),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>i(!1),contentLabel:(0,W.__)("Setup","academy"),title:(0,W.__)("Setup","academy"),suffix:"setup-modal",size:"small"},(0,e.createElement)("div",{className:"academy-meeting-content"},(0,e.createElement)("h4",{className:"academy-meeting-content__title"},t),s.map(((t,a)=>(0,e.createElement)("div",{className:"academy-meeting-content__option",key:a},(0,e.createElement)("div",{className:"academy-meeting-option-title"},(0,e.createElement)("img",{src:`${fa}${t.image}`,alt:t.label}),(0,e.createElement)("p",{className:"academy-meeting-option-title__label"},(0,e.createElement)("span",{className:"academy-meeting-option-title__label--title"},t.label),(0,e.createElement)("span",{className:"academy-meeting-option-title__label--subTitle"},t.subTitle))),(0,e.createElement)("div",{className:"academy-meeting-option-title"},t.content)))))))},wM=function(){const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)({google_meet:!1,zoom:{account_id:"",client_id:"",client_secret:""}}),m=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}().get("code");(0,e.useEffect)((()=>{nn({action:"academy_pro_meeting/get_meeting_credentials"}).then((({data:e})=>{e.data.google_meet&&e.data.zoom?d(e.data):e.data.zoom&&!e.data.google_meet?d({...u,zoom:e?.data.zoom}):e.data.google_meet&&!e.data.zoom&&d({...u,google_meet:e?.data.google_meet})}))}),[]),(0,e.useEffect)((()=>{m&&nn({action:"academy_pro_meeting/get_auth_code",authCode:m}).then((()=>{window.location.href=`${_a}admin.php?page=academy-meeting`}))}),[m]);const p=(e="",t=null)=>{t&&(i(t),o(t?.meta?.academy_response?.host_email)),n(!0),c(e)};return(0,e.createElement)("div",null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-topbar__meeting"},(0,e.createElement)("div",{className:"academy-topbar__meeting-entry-left"},(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,W.__)("Meeting","academy")))),(0,e.createElement)(nm,{filterText:["meeting"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Meeting","academy")},(0,e.createElement)(lu,{label:"Add New Meeting",onClick:()=>n(!a)}),(0,e.createElement)(EM,{title:(0,W.__)("Setup","academy"),data:u,setData:d})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--meeting"},(0,e.createElement)(vM,{meetingFormOpenHandler:p}),(0,e.createElement)(Hx,{onRequestClose:()=>{i(!1),n(!1),c(!1)},openMeetingModal:a,formData:r,hostEmail:s||u?.zoom?.host_email,config:u,setConfig:d,meetingType:l,setMeetingType:c,modalOpenHandler:p})))},xM={data:Zc().array},NM=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}];function kM(){const a=An((e=>e.bookings)),n=An((e=>e.bookings.categories)),r=zn(),[i,s]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)({}),[d,m]=(0,e.useState)([]),[p,f]=(0,e.useState)({}),[h,y]=(0,e.useState)(!1),[_,g]=(0,e.useState)(!1),b=P(),v=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),E=v.get("status"),w=v.get("perPage"),x=v.get("search"),[N,k]=(0,e.useState)(E||"all"),S=(e="",t="")=>{let a=Ca?`${_a}admin.php?page=academy-tutor-booking`:"/dashboard/tutor-booking?";if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}b(a)},C=[..."trash"!==N?[{suffix:"trash",label:(0,W.__)("Trash","academy"),onClick:()=>f({value:"trash",message:(0,W.__)("Are you sure, you want to move these item to trash!","academy")})}]:[],..."trash"===N?[{suffix:"restore",label:(0,W.__)("Restore","academy"),onClick:()=>f({value:"restore",message:(0,W.__)("Are you sure, you want to restore these items?","academy")})},{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>f({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!a.data||a.data&&a.data.length<=1)&&(l(!0),r(Ef(N)).then((()=>{l(!1)}))),n.length||r(kf())}),[]),(0,e.useEffect)((()=>{S(E,x)}),[E,w,x]);const O=()=>{m([]),f({}),g(!0),y(!1)};t().useMemo((()=>{var e;h?(e=p.value,"trash"!==N&&"trash"===e?(d.forEach((e=>{r(Nf({ID:e.id?e.id:e.ID}))})),O()):"restore"===e?(d.forEach((e=>{r(wf(e))})),O()):(d.forEach((e=>{r(xf(e?.id))})),O())):O()}),[h]);const I=(e=1,t=10)=>{l(!0),r(Ef("any",e,t)).then((()=>{l(!1)}))},T=(e=null)=>{e&&u(e),s(!0)},M=e=>{"trash"!==e.status?r(Nf({ID:e.id?e.id:e.ID})):window.confirm((0,W.__)("Are you sure wnat to delete booking?","academy"))&&r(xf(e?.id))},D=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},NM.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===N?"is-active":""} `,key:a,onClick:()=>{var e;k(t.value),e=t.value,l(!0),S(e),r(Ef(e,1,w)).then((()=>{l(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Booking","academy"),onSearchHandler:e=>{l(!0),r(Ef(N,1,10,e)).then((()=>{l(!1),S(E,e)}))},defaultValue:x}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[N,x]),F=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("span",{onClick:()=>T(t),role:"presentation"},t.title?.rendered),(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}))))},{name:(0,W.__)("Category","academy"),cell:t=>{if(!n)return"...";const a=n.filter((e=>t.academy_booking_category.includes(e.id)));return(0,e.createElement)("span",{className:"academy-list-wrap__term-lists"},a.length?a.map(((t,n)=>(0,e.createElement)("span",{key:n},(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer",className:"academy-category-items"},cn(t.name,15,"")),a.length-1>n?", ":""))):"...")}},{name:(0,W.__)("Scheduled","academy"),cell:t=>(0,e.createElement)("div",null,(a=>{switch(a){case"repeated":return(0,e.createElement)("div",null,t?.meta?._academy_booking_schedule_repeated_times.map((t=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,`${t.day.charAt(0).toUpperCase()+t.day.slice(1)} - `,(0,e.createElement)("span",null,t.scheduleTimes.map(((a,n)=>(0,e.createElement)(e.Fragment,null,iu()(a.start_time,"hh:mm A").format("h:mm A"),t.scheduleTimes.length-1>n?", ":"")))))))));case(0,W.__)("single","academy"):return(0,e.createElement)("div",null,(0,e.createElement)("p",null,`${iu()(t.meta._academy_booking_schedule_time.date).format("dddd")} - ${iu()(t.meta._academy_booking_schedule_time.start_time,"hh:mm A").format("h:mm A")}`))}})(t?.meta?._academy_booking_schedule_type))},{name:(0,W.__)("Price","academy"),cell:t=>{let a=t?.meta?._academy_booking_type;return a=t?.payment&&"paid"===t?.meta?._academy_booking_type?t?.payment:mn(a),(0,e.createElement)("span",{className:`academy-table-course-${t?.meta?._academy_booking_type}`},a)}},{name:(0,W.__)("Author","academy"),cell:t=>(0,e.createElement)("span",null,t.author_name)},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.status,options:{items:[{label:(0,W.__)("Published","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}]},onChangeHandler:e=>{const a={...t,status:e};var n;r("trash"===e?Nf({ID:t.id?t.id:t.ID}):(n=a,async e=>{try{return await Za.post(`${pa}academy_booking/${parseInt(n.id)}`,n).then((t=>(e({type:gf,payload:t.data}),e(sr((0,W.__)("Status Updated","academy"),!0,"success")),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}))}})},{name:(0,W.__)("Action","academy"),cell:t=>{const a="trash"!==t.status?[{type:"button",label:(0,W.__)("Trash","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>M(t)}]:[],n="trash"===t.status?[{type:"button",label:(0,W.__)("Restore","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>{r(wf(t))}},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>M(t)}]:[];return(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>T(t)},{type:"link",label:(0,W.__)("Preview","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--eye"}),link:t?.link,target:"_blank"},...a,...n]}))}}];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Tutor Booking","academy")),(0,e.createElement)(nm,{filterText:["tutor","booking"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Tutor Booking","academy")},(0,e.createElement)(lu,{label:"Add Booking",onClick:()=>T()})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--tutor-booking"},(0,e.createElement)(Bd,{columns:F,data:a?.data?a?.data:[],showSubHeader:!0,subHeaderComponent:D,noDataText:(0,W.__)("Please, create booking to see the available list here."),isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{m(e),g(!1)},showPagination:!0,onChangePage:e=>{r((e=>t=>{t({type:bf,payload:e})})(e)),I(e,a?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{var a;r((a=e,e=>{e({type:vf,payload:a})})),I(t,e),S(E)},totalItems:a?.totalItems,totalRows:a?.data?.length,dataFetchingStatus:o,resetSelected:_,rowsPerPage:a?.rowsPerPage?a?.rowsPerPage:w,suffix:"all-booking"}),d.length>0&&(0,e.createElement)(Pf,{actionButtons:C,itemsLength:d?.length,confirmHandler:y,isActionSelected:p,resetHandler:O}),(0,e.createElement)(Rv,{onRequestClose:()=>{u({}),s(!1)},isOpen:i,formData:c})))}kM.propTypes=xM,kM.defaultProps={data:[]};const SM={data:Zc().object},CM=({data:t})=>{const[a,n]=(0,e.useState)({}),[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(!1),[l,c,u]=t?.meta._academy_booked_schedule_time.split(" "),d=iu()(l).format("MMMM Do YYYY"),m=iu()(`${c} ${u}`,"hh:mm A").format("h:mm A");return(0,e.useEffect)((()=>{r&&(o(!0),nn({action:"academy_pro/booking/admin/get_booked_schedule_details",user_id:t?.post_author,booking_id:t?.ID}).then((e=>{o(!1),n(e.data.data)})))}),[r]),(0,e.createElement)("div",null,(0,e.createElement)(lu,{onClick:()=>i(!r),label:(0,W.__)("Details","academy"),suffix:"details",size:"sm",style:{background:"rgba(123, 104, 238, 0.1)",color:"var(--academy-primary-color)"}}),(0,e.createElement)(fd,{isOpen:r,onRequestClose:()=>{i(!1)},title:(0,W.__)("Booking Details","academy"),suffix:"booking-details",size:"medium"},s?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)("div",{className:"academy-booked-item"},(0,e.createElement)("div",{className:"academy-booked-item__details"},(0,e.createElement)("div",{className:"academy-booked-item-details__left"},(0,e.createElement)("div",{className:"academy-booked-details"},(0,e.createElement)("div",{className:"academy-booked-details__basic"},(0,e.createElement)("h4",null,(0,W.__)("Basic Details","academy")),(0,e.createElement)("div",{className:"academy-booked-basic-details"},(0,e.createElement)("div",{className:"academy-basic-item"},(0,e.createElement)("p",{className:"academy-basic-item__label"},(0,W.__)("Date","academy")),(0,e.createElement)("p",{className:"academy-basic-item__data"},d," ")),(0,e.createElement)("div",{className:"academy-basic-item"},(0,e.createElement)("p",{className:"academy-basic-item__label"},(0,W.__)("Time","academy")),(0,e.createElement)("p",{className:"academy-basic-item__data"},m," ")))),(0,e.createElement)("div",{className:"academy-booked-details__customer"},(0,e.createElement)("h4",null,(0,W.__)("Customer Details","academy")),(0,e.createElement)("div",{className:"academy-booked-basic-details"},(0,e.createElement)("div",{className:"academy-basic-item"},(0,e.createElement)("p",{className:"academy-basic-item__label"},(0,W.__)("Full Name","academy")),(0,e.createElement)("p",{className:"academy-basic-item__data"},a.full_name)),(0,e.createElement)("div",{className:"academy-basic-item"},(0,e.createElement)("p",{className:"academy-basic-item__label"},(0,W.__)("First Name","academy")),(0,e.createElement)("p",{className:"academy-basic-item__data"},a.first_name)),(0,e.createElement)("div",{className:"academy-basic-item"},(0,e.createElement)("p",{className:"academy-basic-item__label"},(0,W.__)("Last Name","academy")),(0,e.createElement)("p",{className:"academy-basic-item__data"},a.last_name)),(0,e.createElement)("div",{className:"academy-basic-item"},(0,e.createElement)("p",{className:"academy-basic-item__label"},(0,W.__)("Email","academy")),(0,e.createElement)("p",{className:"academy-basic-item__data"},a.email_address)))))),"paid"===t?.parent?.meta?._academy_booking_type&&(0,e.createElement)("div",{className:"academy-booked-item-details__right"},(0,e.createElement)("h4",null,(0,W.__)("Payment Details")),(0,e.createElement)("div",{className:"academy-booked-item-payment"},(0,e.createElement)("div",{className:"academy-booked-item-payment-details"},(0,e.createElement)("p",{className:"academy-booked-item-payment-details__label"},(0,W.__)("Payment Method","academy")),(0,e.createElement)("p",{className:"academy-booked-item-payment-details__data"},a?.payment_method)),(0,e.createElement)("div",{className:"academy-booked-item-payment-details"},(0,e.createElement)("p",{className:"academy-booked-item-payment-details__label"},(0,W.__)("Status","academy")),(0,e.createElement)("p",{className:"academy-booked-item-payment-details__data"},a?.payment_status))),(0,e.createElement)("div",{className:"academy-booked-item-payment__amount"},(0,e.createElement)("p",{className:"academy-booked-item-payment-details__label"},(0,W.__)("Total Amount","academy")),(0,e.createElement)("p",{className:"academy-booked-item-payment-details__data"},t?.payment)))))))};CM.propTypes=SM,CM.defaultProps={data:{}};const OM=CM;function IM(){const[a,n]=(0,e.useState)(!1),r=An((e=>e?.bookings.schedules)),i=An((e=>e?.bookings.totalSchedules)),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)({}),[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),f=zn(),h=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}().get("perPage"),y=[..."trash"!==r.status?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>c({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!r||r&&r.length<=1)&&(n(!0),f(If()).then((()=>{n(!1)})))}),[]);const _=()=>{o([]),c({}),p(!0),d(!1)};t().useMemo((()=>{u?(l.value,s.forEach((e=>{var t;f((t=e?.ID,async e=>{try{return nn({action:"academy_pro/booking/admin/delete_booked_schedule",booked_id:t,force:!0}).then((t=>t.data.success?(e({type:hf,payload:{ID:t.data.data}}),e(sr("Booking Deleted",!0,"success")),t):(e(sr(t.data.data,!0,"error")),t)))}catch(t){var a;e(sr(null!==(a=t?.response?.data?.message)&&void 0!==a?a:t?.message,!0,"error"))}}))})),_()):_()}),[u]);const g=(e=1,t=10)=>{n(!0),f(If(e)).then((()=>{n(!1)}))},b=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"}))),[]),v=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap",role:"presentation"},(0,e.createElement)("span",{className:"academy-table-title"},cn(t?.parent.post_title)))},{name:(0,W.__)("Scheduled","academy"),cell:t=>{const a=t?.meta._academy_booked_schedule_time.split(" "),n=`${a[0]} ${a[1]} ${a[2]}`;return(0,e.createElement)("div",null,(0,e.createElement)("span",{className:"academy-d-block"},iu()(n,"YYYY-MM-DD hh:mm A").format("MMMM Do YYYY")," "),(0,e.createElement)("span",{className:"academy-d-block"},iu()(n,"YYYY-MM-DD hh:mm A").format("h:mm A")))}},{name:(0,W.__)("Duration","academy"),cell:t=>(0,e.createElement)("div",null,t?.parent?.meta?._academy_booking_duration," ",(0,W.__)("Minutes","academy"))},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.post_status,options:{items:[{label:(0,W.__)("Approved","academy"),value:"completed"},{label:(0,W.__)("Processing","academy"),value:"processing"},{label:(0,W.__)("Cancel","academy"),value:"cancel"}]},onChangeHandler:e=>{f(((e,t)=>async a=>{try{return nn({action:"academy/change_post_status",post_id:e,status:t}).then((e=>e.data.success?(a({type:ff,payload:{id:e.data.data,status:t}}),a(sr("Booking Updated",!0,"success")),e):(a(sr(e.data.data,!0,"error")),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}})(t.ID,e))}})},{name:(0,W.__)("Payment","academy"),cell:t=>{const a="paid"===t?.parent?.meta?._academy_booking_type?t?.payment:t?.parent?.meta?._academy_booking_type;return(0,e.createElement)("span",{className:`academy-table-course-${a}`},a)}},{name:(0,W.__)("Created At","academy"),cell:t=>{const a=t?.post_date.split(" ");return(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(a[0]).format("MMMM Do YYYY")," ",iu()(a[1],"HH:mm").format("h:mm A")))}},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(OM,{data:t}))}];return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Booked Schedules","academy")),(0,e.createElement)(nm,{filterText:["booking","tutor"]}))}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--tutor-booking"},(0,e.createElement)("div",{className:"academy-sub-top-header"},(0,e.createElement)("h3",{className:"academy-sub-top-header__title"},(0,W.__)("Booked Schedules","academy")),(0,e.createElement)("div",{className:"academy-sub-top-header__content"})),(0,e.createElement)(Bd,{columns:v,data:r||[],showSubHeader:!0,subHeaderComponent:b,isRowSelectable:!0,showColumnFilter:!0,noDataText:(0,W.__)("No booked data was found to see the available list here."),getSelectRowValue:e=>{o(e),p(!1)},showPagination:!0,onChangePage:e=>{g(e)},onChangeItemsPerPage:(e,t)=>{g(t,e)},totalItems:i,totalRows:r?.length,dataFetchingStatus:a,resetSelected:m,rowsPerPage:h,suffix:"booked-schedule"}),s.length>0&&(0,e.createElement)(Pf,{actionButtons:y,itemsLength:s?.length,confirmHandler:d,isActionSelected:l,resetHandler:_})))}const AM=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}],TM=a=>{const{assignmentFormOpenHandler:n}=a,[r,i]=(0,e.useState)(!1),s=An((e=>e.assignments)),o=P(),l=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),c=l.get("status"),u=l.get("perPage"),d=l.get("search"),[m,p]=(0,e.useState)(c||"all"),f=(e="",t="")=>{let a=Ca?`${_a}admin.php?page=academy-assignments`:"/dashboard/assignments?";if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}o(a)},[h,y]=(0,e.useState)([]),[_,g]=(0,e.useState)({}),[b,v]=(0,e.useState)(!1),[E,w]=(0,e.useState)(!1),x=zn(),N=[..."trash"!==m?[{suffix:"trash",label:(0,W.__)("Trash","academy"),onClick:()=>g({value:"trash",message:(0,W.__)("Are you sure, you want to move these item to trash!","academy")})}]:[],..."trash"===m?[{suffix:"restore",label:(0,W.__)("Restore","academy"),onClick:()=>g({value:"restore",message:(0,W.__)("Are you sure, you want to restore these items?","academy")})},{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>g({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!s.data||s.data&&s.data.length<=1)&&(i(!0),x(tE(m)).then((()=>{i(!1)})))}),[]),(0,e.useEffect)((()=>{f(c,d)}),[c,u,d]);const k=()=>{y([]),g({}),w(!0),v(!1)};t().useMemo((()=>{var e;b?(e=_.value,"trash"!==m&&"trash"===e?(h.forEach((e=>{x(eE(e))})),k()):"restore"===e?(h.forEach((e=>{x(Xv(e))})),k()):h.forEach((e=>{x(Jv({ID:e.id?e.id:e.ID})),k()}))):k()}),[b]);const S=(e=1,t=10)=>{i(!0),x(tE("any",e,t)).then((()=>{i(!1)}))},C=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},AM.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===m?"is-active":""} `,key:a,onClick:()=>{var e;p(t.value),e=t.value,i(!0),f(e),x(tE(e,1,u)).then((()=>{i(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Assignments","academy"),onSearchHandler:e=>{i(!0),x(tE(m,1,10,e)).then((()=>{i(!1),f(c,e)}))},defaultValue:d||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[m,d]),O=[{name:(0,W.__)("Assignment Name","academy"),isLabelWidth:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{onClick:()=>n(t),className:"academy-table-title",role:"presentation"},t?.title?.rendered))},{name:(0,W.__)("Info","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("p",{className:"academy-assignment-details-column"},(0,e.createElement)("span",null,(0,W.__)("Total Points:","academy"))," ",(0,e.createElement)("span",null,t?.meta?.academy_assignment_settings?.total_points)),(0,e.createElement)("p",{className:"academy-assignment-details-column"},(0,e.createElement)("span",null,(0,W.__)("Passing Points:","academy"))," ",(0,e.createElement)("span",null,t?.meta?.academy_assignment_settings?.minimum_passing_points)),(0,e.createElement)("p",{className:"academy-assignment-details-column"},(0,e.createElement)("span",null,(0,W.__)("Duration:","academy"))," ",(0,e.createElement)("span",null,t?.meta?.academy_assignment_settings?.submission_time," ",t?.meta?.academy_assignment_settings?.submission_time_unit)))},{name:(0,W.__)("Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.date).format("h:mm A")))},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.status,options:{items:[{label:(0,W.__)("Published","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}]},onChangeHandler:e=>{const a={...t,status:e};var n;x("trash"===e?eE(t):(n=a,async e=>{try{return await Za.post(`${pa}academy_assignments/${parseInt(n.id)}`,n).then((t=>(e({type:Kv,payload:t.data}),e(sr((0,W.__)("Assignment Updated","academy"),!0,"success")),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}))}})},{name:(0,W.__)("Author","academy"),cell:t=>(0,e.createElement)("span",null,t.author_name)},{name:(0,W.__)("Actions","academy"),cell:t=>{const a="trash"!==t.status?[{type:"button",label:(0,W.__)("Trash","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>x(eE(t))}]:[],r="trash"===t.status?[{type:"button",label:(0,W.__)("Restore","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>{x(Xv(t))}},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure?","academy"))&&x(Jv({ID:e.id?e.id:e.ID})));var e}}]:[];return(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t),hasBorder:!0},...a,...r],data:t}))}}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:O,data:s?.data?s?.data:[],showSubHeader:!0,subHeaderComponent:C,isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{y(e),w(!1)},showPagination:!0,noDataText:(0,W.__)("Please, create Assignment to see the available list here."),onChangePage:(e=1)=>{x(rE(e)),S(e,s?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{x(iE(e)),S(t,e),f(c)},totalItems:s?.totalItems,totalRows:s?.data?.length,dataFetchingStatus:r,resetSelected:E,rowsPerPage:s?.itemPerPage?s?.itemPerPage:u,suffix:"assignment"}),h.length>0&&(0,e.createElement)(Pf,{actionButtons:N,itemsLength:h?.length,confirmHandler:v,isActionSelected:_,resetHandler:k}))},PM=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("All Assignments","academy")),(0,e.createElement)(nm,{filterText:["assignment"]})),label:(0,W.__)("All Assignments","academy")}),(0,e.createElement)(bm,{heading:(0,W.__)("Assignments","academy")},(0,e.createElement)(lu,{type:"button",onClick:()=>{r(!1),a(!0)},label:(0,W.__)("Add New Assignment","academy")})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--assignment"},(0,e.createElement)(TM,{assignmentFormOpenHandler:(e=null)=>{e&&r(e),a(!0)}}),t&&(0,e.createElement)(pE,{isOpenModal:t,onRequestClose:()=>{r(!1),a(!1)},formData:n})))},MM=t=>{const a=(0,e.useRef)(null),n=zn();return(0,e.createElement)("div",{className:"academy-offer"},(0,e.createElement)("div",{className:"academy-offer--content"},(0,e.createElement)("div",{className:"academy-offer-field"},(0,e.createElement)("div",{className:"academy-offer-field--container"},(0,e.createElement)("div",{className:"academy-offer-field--container__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--enroll"})),(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-offer-title"},(0,W.__)("Upgrade to Academy LMS PRO","academy")),(0,e.createElement)("span",{className:"academy-offer-subtitle"},(0,W.__)("Massive discount","academy"))))),(0,e.createElement)("div",{className:"academy-offer-field__border"}),(0,e.createElement)("div",{className:"academy-offer-field"},(0,e.createElement)("div",{className:"academy-offer-field--container"},(0,e.createElement)("div",{className:"academy-offer-field--container__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--details"})),(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-offer-title"},t?.message),(0,e.createElement)("span",{className:"academy-offer-subtitle"},(0,W.__)("This is limited time offer!","academy"))))),(0,e.createElement)("div",{className:"academy-offer-field__border"}),(0,e.createElement)("div",{className:"academy-offer-field"},(0,e.createElement)("div",{className:"academy-offer-field--container"},(0,e.createElement)("div",{className:"academy-offer-field--container__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--course-enrolled"})),(0,e.createElement)("h3",{className:"academy-title-subtitle"},(0,e.createElement)("span",{className:"academy-offer-title"},(0,W.__)("Grab the deal","academy")),(0,e.createElement)("span",{className:"academy-offer-subtitle"},(0,W.__)("Before it expires!","academy"))))),(0,e.createElement)("div",{className:"academy-offer-field--container"},(0,e.createElement)("div",{className:"academy-offer-field--input academy-mb-2"},(0,e.createElement)("div",{className:"academy-offer-field--input__container"},(0,e.createElement)("h3",{className:"academy-coupon-field"},(0,e.createElement)("span",{className:"academy-coupon-text"},(0,W.__)("Coupon Code:","academy")),(0,e.createElement)("span",{className:"academy-coupon"},t?.coupon_code)),(0,e.createElement)("input",{type:"text",ref:a,value:t?.coupon_code,readOnly:!0,className:"academy-hidden"})),(0,e.createElement)("button",{onClick:()=>{a.current.select(),document.execCommand("copy"),n(sr((0,W.__)("Coupon copied","academy"),!0,"success"))}},(0,e.createElement)("span",{className:"academy-icon academy-icon--copy-two"})))),(0,e.createElement)("div",{className:"academy-offer__control academy-mb-2"},(0,e.createElement)("a",{href:t?.button_action,target:"_blank",className:"academy-btn academy-btn--bg-yellow",rel:"noreferrer"},t?.button_text))),(0,e.createElement)(lu,{link:`/wp-admin/admin.php?page=academy&academy-dismiss-notice=${t?.notice_key}&security=${ua}`,type:"link",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),className:"academy-close-offer"}))},DM=()=>{const[t,a]=(0,e.useState)(Object.keys(Ka).reduce(((e,t)=>({...e,[t]:!0})),{}));return(0,e.createElement)(e.Fragment,null,Object.entries(Ka).map((([n,r])=>"discount_offer"===r?.type?(0,e.createElement)(MM,{...r,key:n}):t[n]&&(0,e.createElement)("div",{key:n,className:`academy-notice academy-notice--${n} notice notice-${r?.type}`},(0,e.createElement)("div",{className:"academy-notice__icon"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"})),(0,e.createElement)("div",{className:"academy-notice__content",dangerouslySetInnerHTML:{__html:r?.message}}),(0,e.createElement)("div",{className:"academy-notice__control"},(0,e.createElement)("a",{className:"academy-btn academy-btn--bg-purple",href:r.button_action.replace(/&#038;/g,"&")},r.button_text),r.dismissible&&(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"}),onClick:()=>(e=>{a({...t,[e]:!1})})(n),suffix:"close"}))))))};function FM(){const t=An((e=>e.upgradeToPro)),a=zn();return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(id(),{isOpen:t?.show_upgrade_modal,style:Xa,contentLabel:(0,W.__)("Upgrade","academy")},(0,e.createElement)("div",{className:"academy-react-modal__update"},(0,e.createElement)("div",{className:"academy-logo"},(0,e.createElement)("img",{src:fa+"/assets/images/logo-full.svg",alt:(0,W.__)("logo","academy")})),(0,e.createElement)(lu,{onClick:()=>{a(au(!1))},className:"academy-btn-close",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--close"})}),(0,e.createElement)("img",{className:"academy-upgrade-image",src:fa+"assets/images/Rocket.svg",alt:(0,W.__)("Upgrade to Pro","academy")}),(0,e.createElement)("p",null,(0,W.__)("You must upgrade to the","academy")," ",(0,e.createElement)("span",null,(0,W.__)("Premium","academy"))," ",(0,e.createElement)("br",null)," ",(0,W.__)("Version to utilize this feature","academy")),(0,e.createElement)(lu,{onClick:()=>window.open("http://academylms.net/pricing","_blank"),label:(0,W.__)("Upgrade to Pro","academy")}))))}FM.propTypes={},FM.defaultProps={};const RM=FM,LM="fetch_all_announcements",qM="create_announcement",jM="DELETE_announcement",zM="update_announcement",BM="update_announcement_status",HM="move_to_trash",$M="restore_announcement",VM=(e="publish",t=1,a=10,n="")=>async r=>{try{let i={status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};return Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n}),await Za.get(`${pa}academy_announcement`,{params:i}).then((t=>(r({type:LM,payload:{data:t.data,totalItems:parseInt(t.headers["x-wp-total"]),status:e}}),t)))}catch(e){var i;r(sr(null!==(i=e?.response?.data?.message)&&void 0!==i?i:e?.message,!0,"error"))}},UM=e=>async t=>{try{return await Za.post(`${pa}academy_announcement/${parseInt(e)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}}).then((e=>(t({type:jM,payload:e.data.previous}),t(sr((0,W.__)("Announcement Deleted!","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},WM=e=>async t=>{try{return await Za.post(`${pa}academy_announcement/${parseInt(e)}`,{force:!1},{headers:{"X-HTTP-Method-Override":"DELETE"}}).then((e=>(t({type:HM,payload:e.data}),t(sr((0,W.__)("Moved To Trash!","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},GM=e=>async t=>{const a={...e,status:"draft"};try{return await Za.post(`${pa}academy_announcement/${parseInt(e.id)}`,a).then((e=>(t({type:$M,payload:e.data}),t(sr((0,W.__)("Announcement Restored!","academy"),!0,"success")),e)))}catch(e){var n;t(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}},YM=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}],KM=a=>{const{announcementFormOpenHandler:n}=a,r=An((e=>e.announcements)),i=zn(),[s,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)({}),[m,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1),y=P(),_=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),g=_.get("status"),b=_.get("perPage"),v=_.get("search"),[E,w]=(0,e.useState)(g||"all"),x=(e="",t="")=>{let a=Ca?`${_a}admin.php?page=academy-announcements`:"/dashboard/announcements?";if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}y(a)},N=[..."trash"!==E?[{suffix:"trash",label:(0,W.__)("Trash","academy"),onClick:()=>d({value:"trash",message:(0,W.__)("Are you sure, you want to move these item to trash!","academy")})}]:[],..."trash"===E?[{suffix:"restore",label:(0,W.__)("Restore","academy"),onClick:()=>d({value:"restore",message:(0,W.__)("Are you sure, you want to restore these items?","academy")})},{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>d({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!r?.data||r?.data&&r?.data.length<=1)&&(o(!0),i(VM(E)).then((()=>{o(!1)})))}),[]),(0,e.useEffect)((()=>{x(g,v)}),[g,v]);const k=()=>{c([]),d({}),h(!0),p(!1)};t().useMemo((()=>{var e;m?(e=u.value,"trash"!==E&&"trash"===e?(l.forEach((e=>{i(WM(e.id))})),k()):"restore"===e?(l.forEach((e=>{i(GM(e))})),k()):l.forEach((e=>{i(UM(e.id)),k()}))):k()}),[m]);const S=(e=1,t=10)=>{o(!0),i(VM("any",e,t)).then((()=>{o(!1)}))},C=e=>{"trash"!==e.status?i(WM(e.id)):window.confirm((0,W.__)("Are you sure want to delete Announcement?","academy"))&&i(UM(e.id))},O=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},YM.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===E?"is-active":""} `,key:a,onClick:()=>{var e;w(t.value),e=t.value,o(!0),x(e),i(VM(e,1,b)).then((()=>{o(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Announcements","academy"),onSearchHandler:e=>{o(!0),i(VM(E,1,10,e)).then((()=>{o(!1),x(g,e)}))},defaultValue:v||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[E,v]),I=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{onClick:()=>n(t),className:"academy-table-title",role:"presentation",dangerouslySetInnerHTML:{__html:cn(t.title.rendered)}}))},{name:(0,W.__)("Description","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{role:"presentation",dangerouslySetInnerHTML:{__html:cn(t.content.rendered)}}))},{name:(0,W.__)("Courses","academy"),cell:t=>{const a=t.meta.academy_announcements_course_ids;return(0,e.createElement)("span",{className:"academy-list-wrap__term-lists"},a?.length?a.map(((t,n)=>(0,e.createElement)("span",{key:n},cn(t.label,12,"..."),a.length-1>n?", ":""))):"...")}},{name:(0,W.__)("Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.date).format("h:mm A")))},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.status,options:{items:[{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"},{label:(0,W.__)("Pending","academy"),value:"pending"},{label:(0,W.__)("Trash","academy"),value:"trash"}]},onChangeHandler:e=>{i("trash"===e?WM(t.id):((e,t)=>async a=>{try{return nn({action:"academy/change_post_status",post_id:e,status:t}).then((e=>e.data.success?(a({type:BM,payload:{id:e.data.data,status:t}}),a(sr("Status Updated",!0,"success")),e):(a(sr(e.data.data,!0,"error")),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}})(t.id,e))}})},{name:(0,W.__)("Action","academy"),cell:t=>{const a="trash"!==t.status?[{type:"button",label:(0,W.__)("Edit","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>n(t)},{type:"button",label:(0,W.__)("Trash","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>C(t)}]:[],r="trash"===t.status?[{type:"button",label:(0,W.__)("Restore","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--reset"}),onClick:()=>{i(GM(t))}},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>C(t)}]:[];return(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[...a,...r]}))}}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:I,data:r?.data?r?.data:[],showSubHeader:!0,subHeaderComponent:O,isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{c(e),h(!1)},showPagination:!0,noDataText:(0,W.__)("Please, create Announcement to see the available list here."),onChangePage:(e=1)=>{i((e=>t=>{t({type:"update_current_page",payload:e})})(e)),S(e,r?.itemPerPage)},onChangeItemsPerPage:(e=10,t=1)=>{S(t,e),x(g)},totalItems:r?.totalItems,totalRows:r?.data?.length,dataFetchingStatus:s,resetSelected:f,rowsPerPage:r?.itemPerPage?r?.itemPerPage:b,suffix:"announcement"}),l.length>0&&(0,e.createElement)(Pf,{actionButtons:N,itemsLength:l?.length,confirmHandler:p,isActionSelected:u,resetHandler:k}))};function ZM(){const{values:a,setFieldValue:n}=ep(),r=a&&0===a?.meta?.academy_announcements_course_ids?.length;return(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-course-announcement-form"},(0,e.createElement)("div",{className:`academy-course-announcement-form__item ${r&&"academy-course-announcement-form__item-disabled"}`},(0,e.createElement)("label",{htmlFor:"title"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Title","academy"))),(0,e.createElement)(bp,{id:"title",name:"title",disabled:r,placeholder:(0,W.__)("Add title here","academy"),className:"academy-input"}),r&&(0,e.createElement)("h4",{className:"academy-warning--label"},(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,e.createElement)("span",{className:"academy-warning"},(0,W.__)("Please select the course first to add title","academy")))),(0,e.createElement)("div",{className:"academy-course-announcement-form__item"},(0,e.createElement)("label",{htmlFor:"description"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Select Course","academy"))),(0,e.createElement)(Av,{name:"meta.academy_announcements_course_ids",placeholder:(0,W.__)("Select your preferred course","academy"),postType:"academy_courses",isMulti:!0}),(0,e.createElement)("label",{htmlFor:"content"},(0,e.createElement)("span",{className:"academy-title"},(0,W.__)("Description","academy"))),(0,e.createElement)(Ry,{name:"content",defaultValue:a.content,saveValueHandler:n}))))}ZM.propTypes={},ZM.defaultProps={};const QM=(e=null,t=[])=>{if(e&&t){const{status:a,title:n,content:r,meta:i}=t,{academy_announcements_course_ids:s}=i;return{ID:e,status:a,title:n.raw,content:r.raw,meta:{academy_announcements_course_ids:s}}}return{status:"publish",title:"",content:"",meta:{academy_announcements_course_ids:[]}}},XM={modalIsOpen:Zc().bool,OpenModal:Zc().func,onRequestClose:Zc().func,formData:Zc().any},JM=({modalIsOpen:t,openModal:a,onRequestClose:n,formData:r})=>{const i=zn(),s=r?r.id:null;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(lu,{type:"button",onClick:a,label:(0,W.__)("Add Announcement","academy")}),(0,e.createElement)(zf,{isOpen:t,title:s?(0,W.__)("Update Announcement","academy"):(0,W.__)("Create Announcement","academy"),submitButtonLabel:s?(0,W.__)("Update Announcement","academy"):(0,W.__)("Create Announcement","academy"),onRequestClose:n,size:"small",suffix:"announcements",formik:{enableReinitialize:!0,initialValues:QM(s,r),onSubmit:(e,t)=>{t.setSubmitting(!0),0===e.meta.academy_announcements_course_ids.length?(t.setSubmitting(!1),i(sr((0,W.__)("No Course Selected","academy"),!0,"error"))):""===e.title?(t.setSubmitting(!1),i(sr((0,W.__)("Title Missing","academy"),!0,"error"))):""===e.content?(t.setSubmitting(!1),i(sr((0,W.__)("Content Missing","academy"),!0,"error"))):r?i((e=>async t=>{try{return await Za.post(`${pa}academy_announcement/${parseInt(e.ID)}`,e).then((e=>(t({type:zM,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((()=>{n(),t.resetForm(),i(sr((0,W.__)("Announcement updated Successfully","academy"),!0,"success")),t.setSubmitting(!1)})):i((e=>async t=>{try{return await Za.post(`${pa}academy_announcement/`,e).then((e=>(t({type:qM,payload:e.data}),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((()=>{n(),t.resetForm(),i(sr((0,W.__)("Announcement Created Successfully","academy"),!0,"success")),t.setSubmitting(!1)}))}}},(0,e.createElement)(ZM,null)))};JM.propTypes=XM,JM.defaultProps={modalIsOpen:!1,OpenModal:()=>{},onRequestClose:()=>{},formData:!1};const eD=JM,tD=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Announcements","academy")),(0,e.createElement)(nm,{filterText:["announcement"]})),label:(0,W.__)("Announcements","academy")}),(0,e.createElement)(bm,{heading:(0,W.__)("Announcements","academy")},(0,e.createElement)(eD,{modalIsOpen:t,openModal:function(){r(null),a(!0)},onRequestClose:function(){r(!1),a(!1)},formData:n})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--announcement"},(0,e.createElement)(KM,{announcementFormOpenHandler:(e=null)=>{e&&r(e),a(!0)}})))},aD="create_new_grade",nD="fetch_all_grade",rD="update_grade",iD="delete_grade",sD="fetch_all_students_grade",oD="fetch_student_grade",lD="delete_student_grade_book",cD="delete_single_student_grade",uD=(e=1,t=10,a="")=>async n=>{try{await nn({action:"academy_pro_grade_book/get_all_grades",page:e,per_page:t,search:a}).then((e=>(n({type:nD,payload:e.data.data}),e)))}catch(e){dn(e)}},dD=e=>async t=>{try{await nn({action:"academy_pro_grade_book/delete_grade",gradebook_id:e}).then((a=>(t({type:iD,payload:e}),t(sr((0,W.__)("Grade Deleted","academy"),!0,"success")),a)))}catch(e){dn(e)}},mD=e=>async t=>{try{await nn({action:"academy_pro_grade_book/get_student_grade",user_id:e.user_id,course_id:e.course_id}).then((e=>(t({type:oD,payload:{data:e.data}}),e)))}catch(e){dn(e)}},pD=(e=1,t=10,a="")=>async n=>{try{return await nn({action:"academy_pro_grade_book/get_all_students_grade",page:e,per_page:t,search:a}).then((e=>(n({type:sD,payload:{data:e.data.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e)))}catch(e){dn(e)}},fD=({ID:e})=>async t=>{try{await nn({action:"academy_pro_grade_book/delete_student_grade",gradebook_result_id:e}).then((a=>(t({type:lD,payload:e}),t(sr((0,W.__)("student Gradebook Deleted","academy"),!0,"success")),a)))}catch(e){dn(e)}},hD=e=>t=>{t({type:"update_current_page",payload:e})},yD=({data:t})=>{const a=zn(),n=An((e=>e.gradeBook.studentGrade)),[r,i]=(0,e.useState)(!1),s=n&&n?.data?.filter((e=>"final"!==e.result_for));(0,e.useEffect)((()=>{(!s||s&&s.length<=1)&&o()}),[]);const o=()=>{i(!0),a(mD(t)).then((()=>{i(!1)}))},l=[{name:(0,W.__)("Student Info","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",role:"presentation"},cn(t.display_name,30)))},{name:(0,W.__)("Course Info","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",role:"presentation"},(0,e.createElement)("span",null,(0,e.createElement)("p",null,cn(t.course_title,30)),(0,e.createElement)("p",null,(0,W.__)("Quizzes:","academy")," ",`${t?.quiz_count}/${t?.course_curriculum?.total_quizzes}`),(0,e.createElement)("p",null,(0,W.__)("Assignments:","academy")," ",`${t?.assignment_count}/${t?.course_curriculum?.total_assignments}`))))},{name:(0,W.__)("Result For","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,t.result_for))},{name:(0,W.__)("Attempt Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.created_at).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.created_at).format("h:mm A")))},{name:(0,W.__)("Percentage","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,t.earned_percentage,"%"))},{name:(0,W.__)("Grade Point","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("div",{className:"academy-grade-color",style:{background:t?.grade_config?.grade_color}}),(0,e.createElement)("span",null,t.grade_name," (",t.user_grade_point,")")))},{name:(0,W.__)("Action","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(lu,{type:"button",preset:"red",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),iconPosition:"left",size:"sm",onClick:()=>{return e=t,void(confirm((0,W.__)("Are you sure delete grade book?","academy"))&&a((({ID:e,course_id:t,user_id:a})=>async n=>{try{await nn({action:"academy_pro_grade_book/delete_single_student_grade",gradebook_result_id:e,course_id:t,user_id:a}).then((t=>(n({type:cD,payload:e}),n(sr((0,W.__)("student Grade Deleted","academy"),!0,"success")),t)))}catch(e){dn(e)}})({ID:e.gradebook_result_id,course_id:e?.course_id,user_id:e?.user_id})).then((()=>{o()})));var e},label:(0,W.__)("Delete","academy")}))}];return(0,e.createElement)(Bd,{columns:l,data:s,showSubHeader:!1,noDataText:(0,W.__)("No data was found to see the available list here."),isRowSelectable:!0,showColumnFilter:!0,progressPending:r,suffix:"grade-book"})},_D=({data:t})=>{const a=zn(),n=An((e=>e.gradeBook.studentGrade)),[r,i]=(0,e.useState)(!1),s=n&&n?.data?.filter((e=>"final"===e.result_for));(0,e.useEffect)((()=>{(!s||s&&s.length<=1)&&(i(!0),a(mD(t)).then((()=>{i(!1)})))}),[]);const o=[{name:(0,W.__)("Student Info","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",role:"presentation"},cn(t.display_name,30)))},{name:(0,W.__)("Course Info","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",role:"presentation"},(0,e.createElement)("span",null,(0,e.createElement)("p",null,cn(t.course_title,30)),(0,e.createElement)("p",null,(0,W.__)("Quizzes:","academy")," ",`${t?.quiz_count}/${t?.course_curriculum?.total_quizzes}`),(0,e.createElement)("p",null,(0,W.__)("Assignments:","academy")," ",`${t?.assignment_count}/${t?.course_curriculum?.total_assignments}`))))},{name:(0,W.__)("Result For","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,t.result_for))},{name:(0,W.__)("Final Percentage","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,t.earned_percentage,"%"))},{name:(0,W.__)("Final Grade Point","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("div",{className:"academy-grade-color",style:{background:t?.grade_config?.grade_color}}),(0,e.createElement)("span",null,t.grade_name," (",t.user_grade_point,")")))}];return(0,e.createElement)(Bd,{title:"",columns:o,data:s,noDataText:(0,W.__)("No data was found to see the available list here."),progressPending:r,suffix:"grade-book",showSubHeader:!1})},gD=({data:t,isOpen:a,onRequestClose:n})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(fd,{isOpen:a,onRequestClose:n,title:(0,W.__)("Grade Details","academy"),suffix:"grade-details",size:"medium",isSmallAvailable:!1},(0,e.createElement)("div",{className:"academy-grade-details"},(0,e.createElement)("h3",{className:"academy-grade-details__entry-title"},(0,W.__)("Final Grade","academy")),(0,e.createElement)(_D,{data:t})),(0,e.createElement)("div",{className:"academy-grade-all-details"},(0,e.createElement)("h3",{className:"academy-grade-all-details__entry-title"},(0,W.__)("All Grade Details","academy")),(0,e.createElement)(yD,{data:t})))),bD=()=>{const a=zn(),n=An((e=>e.gradeBook.studentGrades)),[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)({}),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),[f,h]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(!n||n&&n.length<=1)&&(i(!0),a(pD()).then((()=>{i(!1)})))}),[]);const y=(e=1,t=10)=>{i(!0),a(pD(e,t)).then((()=>{i(!1)}))},_=[..."trash"!==n?.status?[{suffix:"delete",label:(0,W.__)("Trash","academy"),onClick:()=>o({value:"trash",message:(0,W.__)("Are you sure, you want to move these item to trash!","academy")})}]:[],..."trash"===n?.status?[{suffix:"restore",label:(0,W.__)("Restore","academy"),hasBorder:!0,onClick:()=>o({value:"restore",message:(0,W.__)("Are you sure, you want to restore these items?","academy")})},{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>o({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]],g=()=>{c([]),o({}),p(!0),d(!1)};t().useMemo((()=>{u?b(s.value):g()}),[u]);const b=e=>{e.forEach((e=>{a(fD(e.id))}))},v=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"})),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Grade","academy"),onSearchHandler:e=>{i(!0),a(pD(1,10,e)).then((()=>{i(!1)}))}}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[]),E=[{name:(0,W.__)("Student Info","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",role:"presentation"},cn(t.display_name,30),(0,e.createElement)("br",null),`${t?.user_email}`))},{name:(0,W.__)("Course Info","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",role:"presentation"},(0,e.createElement)("span",null,(0,e.createElement)("p",null,cn(t.course_title,30)),(0,e.createElement)("p",null,(0,W.__)("Quizzes:","academy")," ",`${t?.quiz_count}/${t?.course_curriculum?.total_quizzes}`),(0,e.createElement)("p",null,(0,W.__)("Assignments:","academy")," ",`${t?.assignment_count}/${t?.course_curriculum?.total_assignments}`))))},{name:(0,W.__)("Creation Date","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.created_at).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.created_at).format("h:mm A")))},{name:(0,W.__)("Final Percent","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,t.earned_percentage,"%"))},{name:(0,W.__)("Final Grade","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("div",{className:"academy-grade-color",style:{background:t?.grade_config?.grade_color}}),(0,e.createElement)("span",null,t.grade_name," (",t.user_grade_point,")")))},{name:(0,W.__)("Action","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Details","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--details"}),onClick:()=>(e=>{h(e)})(t)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure delete grade book?","academy"))&&a(fD({ID:e.gradebook_result_id})));var e}}],data:t}))}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:E,data:n,showSubHeader:!0,subHeaderComponent:v,isRowSelectable:!0,noDataText:(0,W.__)("No data was found to see the available list here."),showColumnFilter:!0,getSelectRowValue:e=>{c(e),p(!1)},showPagination:!0,onChangePage:(e=1)=>{a(hD(e)),y(e,n?.itemPerPage)},onChangeItemsPerPage:(e=10,t=1)=>{y(t,e)},totalItems:n?.totalItems,totalRows:n?.length,dataFetchingStatus:r,resetSelected:m,suffix:"grade-book-students"}),l.length>0&&(0,e.createElement)(Pf,{actionButtons:_,itemsLength:l?.length,confirmHandler:d,isActionSelected:s,resetHandler:g}),f&&(0,e.createElement)(gD,{data:f,isOpen:f,onRequestClose:()=>h(!1)}))},vD=()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,W.__)("Grade Book","academy"))),label:(0,W.__)("Grade Book","academy")}),(0,e.createElement)(bm,{heading:(0,W.__)("Grade Book","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--grade-book"},(0,e.createElement)(bD,null))),ED=({formOpenHandler:a,dataFetchingStatus:n,setDataFetchingStatus:r})=>{const i=An((e=>e.gradeBook)),s=zn(),[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)([]),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(!i.data||i.data&&i.data.length<=1)&&(r(!0),s(uD()).then((()=>{r(!1)})))}),[]);const h=(e=1,t=10)=>{r(!0),s(uD(e,t)).then((()=>{r(!1)}))},y=[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>l({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}],_=()=>{u([]),l({}),f(!0),m(!1)};t().useMemo((()=>{d?(o.value,c.forEach((e=>{s(dD(e?.gradebook_id))})),_()):_()}),[d]);const g=[{name:(0,W.__)("Name","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{onClick:()=>a(t),className:"academy-table-title",role:"presentation"},(0,e.createElement)("div",{className:"academy-grade-color",style:{background:t?.grade_config?.grade_color}}),t.grade_name))},{name:(0,W.__)("Points","academy"),cell:t=>(0,e.createElement)("div",null,t.grade_point)},{name:(0,W.__)("Range","academy"),cell:t=>(0,e.createElement)("span",null,t.percent_from," - ",t.percent_to," %")},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>a(t)},{type:"button",suffix:"trash",label:(0,W.__)("Delete","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{window.confirm((0,W.__)("Are you sure delete gradebook?","academy"))&&s(dD(t.gradebook_id))}}]})}],b=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"})),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Grade","academy"),onSearchHandler:e=>{r(!0),s(uD(1,10,e)).then((()=>{r(!1)}))}}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:g,data:i.data,showSubHeader:!0,subHeaderComponent:b,isRowSelectable:!0,noDataText:(0,W.__)("No grade data was found to see the available list here."),showColumnFilter:!0,getSelectRowValue:e=>{u(e),f(!1)},showPagination:!0,onChangePage:(e=1)=>{s(hD(e)),h(e,i?.itemPerPage)},onChangeItemsPerPage:(e=10,t=1)=>{h(t,e)},totalItems:i?.totalItems,totalRows:i?.data?.length,dataFetchingStatus:n,resetSelected:p,suffix:"grade-book"}),c.length>0&&(0,e.createElement)(Pf,{actionButtons:y,itemsLength:c?.length,confirmHandler:m,isActionSelected:o,resetHandler:_}))},wD=()=>(0,e.createElement)("div",{className:"academy-grade-form"},(0,e.createElement)(Ox,{name:"grade_name",title:(0,W.__)("Title","academy"),placeholder:(0,W.__)("Add title here","academy")}),(0,e.createElement)("div",{className:"academy-column-items academy-top academy-mb-6"},(0,e.createElement)("label",{className:"academy-title"},(0,W.__)("Points","academy")),(0,e.createElement)(bp,{name:"grade_point",type:"number",placeholder:(0,W.__)("Add grade points here","academy"),className:"academy-input"})),(0,e.createElement)("div",{className:"academy-column-items academy-grade-form__color academy-mb-6"},(0,e.createElement)("div",{className:"academy-title"},(0,W.__)("Color","academy")),(0,e.createElement)("div",{className:"academy-grade-form__color--fields"},(0,e.createElement)(bp,{className:"academy-field-color",name:"grade_config.grade_color",type:"color"}),(0,e.createElement)(bp,{name:"grade_config.grade_color",type:"text",className:"academy-input"}))),(0,e.createElement)("div",{className:"academy-flex"},(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("label",{className:"academy-title"},(0,W.__)("Percent From","academy")),(0,e.createElement)(bp,{name:"percent_from",type:"number",className:"academy-input"})),(0,e.createElement)("div",{className:"academy-column-items"},(0,e.createElement)("label",{className:"academy-title"},(0,W.__)("Percent To","academy")),(0,e.createElement)(bp,{name:"percent_to",type:"number",className:"academy-input"})))),xD=(e=null,t={})=>{if(e&&t){const{grade_name:a,grade_point:n,percent_from:r,percent_to:i,grade_config:s}=t,{grade_color:o}=s;return{gradebook_id:e,grade_name:a,grade_point:n,percent_from:r,percent_to:i,grade_config:{grade_color:o||"#000000"}}}return{grade_name:"",grade_point:"0",percent_from:"",percent_to:"",grade_config:{grade_color:"#000000"}}},ND=({onRequestClose:t,isOpenModal:a,formData:n})=>{const r=n.gradebook_id,i=zn();return(0,e.createElement)(zf,{title:(0,W.__)("Grade","academy"),isOpen:a,onRequestClose:t,submitButtonLabel:n?(0,W.__)("Update Grade","academy"):(0,W.__)("Add Grade","academy"),suffix:"grade-form",size:"small",formik:{enableReinitialize:!0,initialValues:xD(r,n),onSubmit:(e,a)=>{a.setSubmitting(!0),""===e?.grade_name?(i(sr((0,W.__)("Title Missing","academy"),!0,"error")),a.setSubmitting(!1)):""===e?.grade_point?(i(sr((0,W.__)("Grade Points Missing","academy"),!0,"error")),a.setSubmitting(!1)):""===e?.percent_to||""===e?.percent_from?(i(sr((0,W.__)("Grade Percent Missing","academy"),!0,"error")),a.setSubmitting(!1)):r?i(((e,t)=>async a=>{try{return await nn({action:"academy_pro_grade_book/update_grade",gradebook_id:e,grade_name:t.grade_name,grade_point:t.grade_point,percent_from:t.percent_from,percent_to:t.percent_to,grade_color:t.grade_config.grade_color}).then((e=>(e.data.success?(a({type:rD,payload:e.data.data}),a(sr((0,W.__)("Grade Books Updated","academy"),!0,"success"))):a(sr(e.data.data.message,!0,"success")),e)))}catch(e){dn(e)}})(r,e)).then((()=>{a.setSubmitting(!1),t()})):i((e=>async t=>{try{return await nn({action:"academy_pro_grade_book/add_new_grade",grade_name:e.grade_name,grade_point:e.grade_point,percent_from:e.percent_from,percent_to:e.percent_to,grade_color:e.grade_config.grade_color}).then((e=>(e.data.success?(t({type:aD,payload:e.data}),t(sr((0,W.__)("Grade Book Created","academy"),!0,"success"))):t(sr(e.data.data.message,!0,"success")),e)))}catch(e){dn(e)}})(e)).then((()=>{a.setSubmitting(!1),t()}))}}},(0,e.createElement)(wD,null))},kD=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(!1),o=An((e=>e.gradeBook)),l=zn(),c=(e=null)=>{r(e||!1),a(!0)};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,W.__)("Grade Builder","academy")),0===o?.data?.length&&(0,e.createElement)(lu,{type:"button",onClick:()=>{s(!0),nn({action:"academy_pro_grade_book/generate_grade_builder_sample_data"}).then((()=>{l(uD()).then((()=>{s(!1)}))}))},label:(0,W.__)("Generate Grade","academy")}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Grade Builder","academy")},(0,e.createElement)(lu,{type:"button",onClick:()=>c(),label:(0,W.__)("Add New Grade","academy")})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--grade-book"},(0,e.createElement)(ED,{data:o,formOpenHandler:c,dataFetchingStatus:i,setDataFetchingStatus:s}),(0,e.createElement)(ND,{onRequestClose:()=>{a(!1)},isOpenModal:t,formData:n})))},SD="fetch_all_hooks",CD="update_hooks",OD="cerate_hooks",ID="delete_hooks",AD="update_hooks_status",TD=e=>async t=>{try{const a=await Za.post(`${pa}academy_webhook/${parseInt(e.ID)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:ID,payload:a.data.previous}),t(sr((0,W.__)("WebHook Deleted","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},PD=(e="publish",t=1,a=10,n="")=>async r=>{let i={status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n});try{return await Za.get(pa+"academy_webhook",{params:i}).then((e=>(r({type:SD,payload:{data:e.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e)))}catch(e){var s;r(sr(null!==(s=e?.response?.data?.message)&&void 0!==s?s:e?.message,!0,"error"))}},MD=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Private","academy"),value:"private"}],DD=({modalOpenHandler:a})=>{const[n,r]=(0,e.useState)(!1),i=An((e=>e.hooks)),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)({}),[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),f=zn(),h=P(),y=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),_=y.get("status"),g=y.get("perPage"),b=y.get("search"),[v,E]=(0,e.useState)(_||"all"),w=(e="",t="")=>{let a=`${_a}admin.php?page=academy-webhooks`;if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}h(a)},x=[..."trash"!==v?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>c({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!i?.data||i?.data&&i?.data.length<=1)&&(r(!0),f(PD(v)).then((()=>{r(!1)})))}),[]),(0,e.useEffect)((()=>{w(_,b)}),[_,b]);const N=()=>{o([]),c({}),p(!0),d(!1)};t().useMemo((()=>{u?(s.forEach((e=>{f(TD({ID:e.id?e.id:e.ID}))})),N()):N()}),[u]);const k=(e=1,t=10)=>{r(!0),f(PD("any",e,t)).then((()=>{r(!1)}))},S=[{name:(0,W.__)("Title","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title",onClick:()=>a(t),role:"presentation"},(0,e.createElement)("span",{className:"academy-table-title",dangerouslySetInnerHTML:{__html:cn(t.title.raw)}})))},{name:(0,W.__)("Events","academy"),cell:t=>(0,e.createElement)("div",null,t?.meta?._academy_webhook_events.map(((a,n)=>(0,e.createElement)("span",{className:"academy-web-hooks-events",key:n},a.label,t?.meta?._academy_webhook_events.length!==n+1&&","))))},{name:(0,W.__)("Delivery URL","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",{className:""},cn(t?.meta?._academy_webhook_delivery_url,30)))},{name:(0,W.__)("Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.date).format("h:mm A")))},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.status,options:{items:[{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Private","academy"),value:"private"}]},onChangeHandler:e=>{const a={...t,status:e};var n;f((n=a,async e=>{try{return await Za.post(`${pa}academy_webhook/${parseInt(n.id)}`,n).then((t=>(e({type:AD,payload:t.data}),e(sr((0,W.__)("WebHook Status Updated","academy"),!0,"success")),t)))}catch(a){var t;e(sr(null!==(t=a?.response?.data?.message)&&void 0!==t?t:a?.message,!0,"error"))}}))}})},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>a(t)},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure you want to delete this hook?","academy"))&&f(TD({ID:e.id?e.id:e.ID})));var e}}]}))}],C=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},MD.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===v?"is-active":""} `,key:a,onClick:()=>{var e;E(t.value),e=t.value,r(!0),w(e),f(PD(e,1,g)).then((()=>{r(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Webhooks","academy"),onSearchHandler:e=>{r(!0),f(PD(v,1,10,e)).then((()=>{r(!1),w(_,e)}))},defaultValue:b||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[v,b]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:S,data:i?.data?i?.data:[],showSubHeader:!0,subHeaderComponent:C,isRowSelectable:!0,showColumnFilter:!0,noDataText:(0,W.__)("Please, create Webhooks to see the available list here."),getSelectRowValue:e=>{o(e),p(!1)},showPagination:!0,onChangePage:(e=1)=>{f((e=>t=>{t({type:"update_current_page",payload:e})})(e)),k(e,i?.itemPerPage)},onChangeItemsPerPage:(e=10,t=1)=>{k(t,e),w(_)},totalItems:i?.totalItems,totalRows:i?.data?.length,dataFetchingStatus:n,resetSelected:m,rowsPerPage:g,suffix:"webhooks"}),s.length>0&&(0,e.createElement)(Pf,{actionButtons:x,itemsLength:s?.length,confirmHandler:d,isActionSelected:l,resetHandler:N}))},FD=[{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Private","academy"),value:"private"}],RD=(e=null)=>{if(e){const{status:t,title:a,slug:n,meta:r}=e;return{title:a?.raw,slug:n,author:ka,status:t,meta:{_academy_webhook_delivery_url:r?._academy_webhook_delivery_url,_academy_webhook_secret:r?._academy_webhook_secret,_academy_webhook_events:r?._academy_webhook_events}}}return{title:"",slug:"",author:ka,status:"private",meta:{_academy_webhook_delivery_url:"",_academy_webhook_secret:"",_academy_webhook_events:[]}}},LD=()=>{const{values:t,setFieldValue:a}=ep(),n=An((e=>e.addons)),r=!Sa||ln(n,"assignments",!1)?[{label:Sa?(0,W.__)("Assignment Publish","academy"):(0,W.__)("Assignment Publish [PRO]","academy"),value:"assignment_publish",isDisabled:!Sa},{label:Sa?(0,W.__)("Submitted Assignment ","academy"):(0,W.__)("Submitted Assignment [PRO]","academy"),value:"submitted_assignment",isDisabled:!Sa},{label:Sa?(0,W.__)("Assignment Completed","academy"):(0,W.__)("Assignment Completed [PRO]","academy"),value:"assignment_completed",isDisabled:!Sa},{label:Sa?(0,W.__)("Evaluate Submitted Assignment","academy"):(0,W.__)("Evaluate Submitted Assignment [PRO]","academy"),value:"evaluate_submitted_assignment",isDisabled:!Sa}]:[],i=!Sa||ln(n,"meeting",!0)?[{label:Sa?(0,W.__)("Zoom Publish","academy"):(0,W.__)("Zoom Publish [PRO]","academy"),value:"zoom_publish",isDisabled:!Sa},{label:Sa?(0,W.__)("Zoom Complete","academy"):(0,W.__)("Zoom Complete [PRO]","academy"),value:"zoom_complete",isDisabled:!Sa}]:[],s=!Sa||ln(n,"course-bundle",!0)?[{label:Sa?(0,W.__)("Course Bundle Publish","academy"):(0,W.__)("Course Bundle Publish [PRO]","academy"),value:"course-bundle_publish",isDisabled:!Sa}]:[],o=!Sa||ln(n,"tutor-booking",!0)?[{label:Sa?(0,W.__)("Tutor Booking Publish","academy"):(0,W.__)("Tutor Booking Publish [PRO]","academy"),value:"tutor_booking_publish",isDisabled:!Sa},{label:Sa?(0,W.__)("Tutor Booking Booked","academy"):(0,W.__)("Tutor Booking Booked [PRO]","academy"),value:"tutor_booking_booked",isDisabled:!Sa},{label:Sa?(0,W.__)("Tutor Booking Completed","academy"):(0,W.__)("Tutor Booking Completed [PRO]","academy"),value:"tutor_booking_completed",isDisabled:!Sa},{label:Sa?(0,W.__)("Tutor Booking Review","academy"):(0,W.__)("Tutor Booking Review [PRO]","academy"),value:"tutor_booking_review",isDisabled:!Sa}]:[],l=ln(n,"quizzes")?[{label:(0,W.__)("Quiz Publish","academy"),value:"quiz_publish"},{label:(0,W.__)("Quiz Completed","academy"),value:"quiz_completed"},{label:(0,W.__)("Quiz Attempt Status Passed","academy"),value:"quiz_attempt_status_passed"},{label:(0,W.__)("Quiz Attempt Status Pending","academy"),value:"quiz_attempt_status_pending"},{label:(0,W.__)("Quiz Attempt Status Failed","academy"),value:"quiz_attempt_status_failed"}]:[],c=[{label:(0,W.__)("Course Publish","academy"),value:"course_publish"},{label:(0,W.__)("Course Completed","academy"),value:"course_completed"},{label:(0,W.__)("New Course Review","academy"),value:"new_course_review"},{label:(0,W.__)("New Question in a Course","academy"),value:"new_question_in_course"},{label:(0,W.__)("New Reply to a question in a Course","academy"),value:"new_Reply_to_question"},{label:(0,W.__)("Lesson Publish","academy"),value:"lesson_publish"},{label:(0,W.__)("Lesson Completed","academy"),value:"lesson_completed"},...l,{label:(0,W.__)("New Student Registration","academy"),value:"new_student_registration"},{label:(0,W.__)("New instructor Registration","academy"),value:"new_instructor_registration"},{label:(0,W.__)("Announcement Publish","academy"),value:"announcement_publish"},{label:(0,W.__)("New Enroll","academy"),value:"new_enroll"},...r,...i,...s,...o];return(0,e.createElement)("div",{className:"academy-hook-form"},(0,e.createElement)("div",{className:"academy-hook-form__title"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Webhook Title","academy")),(0,e.createElement)(cE,{name:"title",label:(0,W.__)("Add hooks title here","academy"),defaultValue:t.title,saveValueHandler:a})),(0,e.createElement)("div",{className:"academy-hook-form--event"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Events Type","academy")),(0,e.createElement)(Pd,{suffix:"hooks-select-event",placeholder:(0,W.__)("Select Event","academy"),isClearable:!0,options:c,value:t.meta._academy_webhook_events,isMulti:!0,onChangeHandler:e=>(e=>{const t=e.reduce(((e,t)=>{const{isDisabled:a,...n}=t;return e.push(n),e}),[]);a("meta._academy_webhook_events",t)})(e)})),(0,e.createElement)("div",{className:"academy-hook-form--delivery"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Delivery URL","academy")),(0,e.createElement)(Ox,{name:"meta._academy_webhook_delivery_url",placeholder:(0,W.__)("Add url here","academy"),defaultValue:t?.meta?._academy_webhook_delivery_url,saveValueHandler:a})),(0,e.createElement)("div",{className:"academy-hook-form__flex-item"},(0,e.createElement)("div",{className:"academy-title-subtitle"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Status","academy")),(0,e.createElement)("span",{className:"academy-sub-title"},(0,W.__)("Only publish webhooks will trigger selected events.","academy"))),(0,e.createElement)("div",{className:"form-body"},(0,e.createElement)(Pd,{suffix:"hooks-status",options:FD,value:FD.find((e=>e.value===t?.status)),isMulti:!1,onChangeHandler:e=>a("status",e)}))),(0,e.createElement)("div",{className:"academy-hook-form__secret"},(0,e.createElement)("h3",{className:"academy-title"},(0,W.__)("Secret (optional)","academy")),(0,e.createElement)(Ox,{name:"meta._academy_webhook_secret",placeholder:(0,W.__)("Add secret here","academy"),defaultValue:t?.meta?._academy_webhook_secret,saveValueHandler:a})))},qD=({isOpenModal:t,onRequestClose:a,formData:n,isModalLoading:r=!1})=>{const i=zn();return(0,e.createElement)(zf,{title:(0,W.__)("Webhooks","academy"),isOpen:t,onRequestClose:a,submitButtonLabel:n?(0,W.__)("Update Webhook","academy"):(0,W.__)("Add Webhook","academy"),suffix:"hooks-form",size:"small",formik:{enableReinitialize:!0,initialValues:RD(n),onSubmit:(e,t)=>{t.setSubmitting(!0),""===e?.title?(i(sr((0,W.__)("Title Missing","academy"),!0,"error")),t.setSubmitting(!1)):0===e.meta._academy_webhook_events.length?(i(sr((0,W.__)("Event Not Selected","academy"),!0,"error")),t.setSubmitting(!1)):""===e.meta._academy_webhook_delivery_url?(i(sr((0,W.__)("Delivery URL Missing","academy"),!0,"error")),t.setSubmitting(!1)):n.id?(i(((e,t)=>async a=>{try{return await Za.post(`${pa}academy_webhook/${parseInt(e)}`,t).then((e=>(a({type:CD,payload:e.data}),a(sr((0,W.__)("WebHook Updated","academy"),!0,"success")),e)))}catch(e){var n;a(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}})(n.id,e)),t.setSubmitting(!0),setTimeout((()=>{a()}),500)):(i((e=>async t=>{try{return await Za.post(pa+"academy_webhook",e).then((e=>(t({type:OD,payload:e.data}),t(sr((0,W.__)("WebHook Created","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)),t.setSubmitting(!0),setTimeout((()=>{a()}),500))}}},r?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)(LD,null))},jD=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Webhooks","academy")))}),(0,e.createElement)(bm,{heading:(0,W.__)("Webhooks","academy")},(0,e.createElement)(lu,{onClick:()=>{r(!1),a(!0)},type:"button",label:(0,W.__)("Add New Webhook","academy"),preset:"purple"})),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--web-hooks"},(0,e.createElement)(DD,{modalOpenHandler:(e=null)=>{e&&r(e),a(!0)}}),t&&(0,e.createElement)(qD,{isOpenModal:t,onRequestClose:()=>{r(!1),a(!1)},formData:n})))},zD=({id:t})=>{const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{t&&(i(!0),Za.get(`wp/v2/media/${t}`).then((e=>{n({title:e?.data?.title.rendered,url:e?.data?.source_url}),i(!1)})))}),[t]),(0,e.createElement)("a",{href:a?.url,className:"academy-download-attachment",target:"_blank",download:!0,rel:"noreferrer"},r?(0,e.createElement)("div",{className:"academy-preloader"},(0,e.createElement)(wd,null)):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",{className:"academy-download-attachment__name"},a?.title),(0,e.createElement)("img",{src:`${fa}assets/images/downloadAttachment.png`,alt:""})))},BD=({data:t})=>(0,e.createElement)("div",{className:"academy-assignment-evaluate-form"},(0,e.createElement)("div",{className:"academy-assignment-evaluate-form__header"},(0,e.createElement)("h2",null,(0,W.__)("Submission Evaluation","academy")),(0,e.createElement)("div",{className:"academy-submission-details"},(0,e.createElement)("p",{className:"academy-submission-details__item"},(0,W.__)("Student:","academy")," ",(0,e.createElement)("span",null,t?.comment_author)," "),(0,e.createElement)("p",{className:"academy-submission-details__item"},(0,W.__)("Submitted Date:","academy")," ",(0,e.createElement)("span",null,iu()(t?.comment_date).format("MMMM DD, YYYY"))," "))),(0,e.createElement)("div",{className:"academy-assignment-evaluate-form__body"},(0,e.createElement)("div",{className:"academy-evaluate-form__left"},(0,e.createElement)("div",{className:"academy-submission"},(0,e.createElement)("h5",{className:"academy-submission__title"},t?.post_title),(0,e.createElement)("p",{className:"academy-submission__content",dangerouslySetInnerHTML:{__html:t?.comment_content}}),(0,e.createElement)(zD,{id:t.meta?.academy_pro_assignment_attachment}))),(0,e.createElement)("div",{className:"academy-evaluate-form__right"},(0,e.createElement)("h5",{className:"academy-evaluation__title"},(0,W.__)("Evaluation","academy")),(0,e.createElement)("div",{className:"academy-evaluation__field"},(0,e.createElement)("div",{className:"academy-field__label"},(0,W.__)("Your Points","academy")),(0,e.createElement)("div",{className:"academy-field__body"},(0,e.createElement)(bp,{name:"evaluate_point",type:"number",min:"0"}),(0,e.createElement)("span",null,(0,W.__)("Evaluate this assignment out of 10","academy")))),(0,e.createElement)("div",{className:"academy-evaluation__field academy-evaluation__text-area"},(0,e.createElement)("div",{className:"academy-field__label"},(0,W.__)("Write a feedback","academy")),(0,e.createElement)("div",{className:"academy-field__body"},(0,e.createElement)(bp,{name:"evaluate_feedback",component:"textarea",cols:"80"})))))),HD=({isOpenModal:t,data:a,onRequestClose:n,setFormOpen:r})=>{const i=zn(),s={evaluate_point:a?.meta?.academy_pro_assignment_evaluate_point,evaluate_feedback:a?.meta?.academy_pro_assignment_evaluate_feedback,minimum_passing_points:a?.academy_assignment_settings?.minimum_passing_points};return(0,e.createElement)(zf,{title:(0,W.__)("Evaluate Assignment","academy"),isOpen:t,onRequestClose:n,submitButtonLabel:(0,W.__)("Submit","academy"),suffix:"assignment-evaluate-form",size:"medium",isSmallAvailable:!1,formik:{enableReinitialize:!0,initialValues:s,onSubmit:(e,t)=>{t.setSubmitting(!0),i((e=>async t=>{try{return await nn({action:"academy_pro_assignments/evaluate_submitted_assignment",...e}).then((e=>(t({type:Uv,payload:e.data.data}),e.data?.success&&t(sr((0,W.__)("Assignment Evaluated",!0,"success"))),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})({comment_id:a?.comment_ID,...e})).then((()=>{t.setSubmitting(!1),r(!1)}))}}},(0,e.createElement)(BD,{data:a}))},$D=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Pass","academy"),value:"pass"},{label:(0,W.__)("Failed","academy"),value:"failed"},{label:(0,W.__)("Submitted","academy"),value:"submitted"}],VD=()=>{const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),[s,o]=(0,e.useState)(!1),l=An((e=>e.assignments)),c=P(),u=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),d=u.get("status"),m=u.get("perPage"),p=u.get("search"),[f,h]=(0,e.useState)(d||"all"),y=(e="",t="")=>{let a=`${_a}admin.php?page=academy-assignments&path=submitted-assignments`;if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}c(a)},[_,g]=(0,e.useState)([]),[b,v]=(0,e.useState)({}),[E,w]=(0,e.useState)(!1),[x,N]=(0,e.useState)(!1),k=zn(),S=[..."trash"!==f?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>v({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!l?.submittedAssignments||l?.submittedAssignments&&l?.submittedAssignments.length<=1)&&(n(!0),k(nE(f)).then((()=>{n(!1)})))}),[]),(0,e.useEffect)((()=>{y(d,p)}),[d,m,p]);const C=()=>{g([]),v({}),N(!0),w(!1)};t().useMemo((()=>{E?(b.value,_.forEach((e=>{k(aE(e.comment_ID))})),C()):C()}),[E]);const O=(e=1,t=10)=>{n(!0),k(nE("any",e,t)).then((()=>{n(!1)}))},I=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},$D.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===f?"is-active":""} `,key:a,onClick:()=>{var e;h(t.value),e=t.value,n(!0),y(e),k(nE(e,1,m)).then((()=>{n(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Submitted Assignments","academy"),onSearchHandler:e=>{n(!0),k(nE(f,1,10,e)).then((()=>{n(!1),y(d,e)}))},defaultValue:p||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[f,p]),T=[{name:(0,W.__)("Assignment Name","academy"),isLabelWidth:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},t.post_title))},{name:(0,W.__)("Students","academy"),cell:t=>(0,e.createElement)("span",null,t?.comment_author)},{name:(0,W.__)("Info","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("p",{className:"academy-assignment-details-column"},(0,e.createElement)("span",null,(0,W.__)("Total Points:","academy"))," ",(0,e.createElement)("span",null,t?.academy_assignment_settings?.total_points)),(0,e.createElement)("p",{className:"academy-assignment-details-column"},(0,e.createElement)("span",null,(0,W.__)("Passing Points:","academy"))," ",(0,e.createElement)("span",null,t?.academy_assignment_settings?.minimum_passing_points)),(0,e.createElement)("p",{className:"academy-assignment-details-column"},(0,e.createElement)("span",null,(0,W.__)("Duration:","academy"))," ",(0,e.createElement)("span",null,t?.academy_assignment_settings?.submission_time," ",t?.academy_assignment_settings?.submission_time_unit)))},{name:(0,W.__)("Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t?.comment_date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t?.comment_date).format("h:mm A")))},{name:(0,W.__)("Final Grade Point","academy"),sortable:!0,cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{className:"academy-table-title"},(0,e.createElement)("div",{className:"academy-grade-color",style:{background:t?.gradebook_result?.grade_config?.grade_color}}),(0,e.createElement)("span",null,t?.gradebook_result?.grade_name," (",t?.gradebook_result?.user_grade_point,")")))},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-assignment"},(0,e.createElement)("span",{className:`academy-${t?.comment_approved}`},pn(t?.comment_approved)))},{name:(0,W.__)("Actions","academy"),cell:t=>{const a=!!t.meta?.academy_pro_assignment_evaluate_feedback||!!t.meta?.academy_pro_assignment_evaluate_point;return(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:a?(0,W.__)("Details","academy"):(0,W.__)("Evaluate","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>(o(t),void i(!0))},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure want to delete Assignment?","academy"))&&k(aE(e.comment_ID)));var e}}]}))}}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("Submitted Assignments","academy")),(0,e.createElement)(nm,{filterText:["assignment"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Submitted Assignments","academy")}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--assignment"},(0,e.createElement)(Bd,{columns:T,data:l?.submittedAssignments?l?.submittedAssignments:[],showSubHeader:!0,subHeaderComponent:I,isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{g(e),N(!1)},showPagination:!0,noDataText:(0,W.__)("No Assignment was submitted to see the available list here."),onChangePage:(e=1)=>{k(rE(e)),O(e,l?.submittedAssignments?.itemPerPage)},onChangeItemsPerPage:(e,t)=>{k(iE(e)),O(t,e),y(d)},totalItems:l?.totalItems,totalRows:l?.totalSubmittedAssignments?.length,dataFetchingStatus:a,resetSelected:x,rowsPerPage:l?.rowsPerPage?l?.rowsPerPage:m,suffix:"submitted-assignments"}),_.length>0&&(0,e.createElement)(Pf,{actionButtons:S,itemsLength:_?.length,confirmHandler:w,isActionSelected:b,resetHandler:C}),(0,e.createElement)(HD,{isOpenModal:r,setFormOpen:i,data:s,onRequestClose:()=>i(!1)})))},UD="create_new_course_bundle",WD="update_course_bundle",GD="delete_course_bundle",YD="fetch_all_courses_bundle",KD="update_current_page_bundle",ZD=e=>async t=>{try{return await Za.post(`${pa}alms_course_bundle/${parseInt(e.id)}`,e).then((e=>(t({type:WD,payload:e.data}),t(sr((0,W.__)("Course Bundle Updated!","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},QD=e=>async t=>{try{const a=await Za.post(`${pa}alms_course_bundle/${parseInt(e.ID)}`,{force:!0},{headers:{"X-HTTP-Method-Override":"DELETE"}});t({type:GD,payload:a.data.previous}),t(sr((0,W.__)("Course Bundle Deleted!","academy"),!0,"success"))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},XD=(e="publish",t=1,a=10,n="")=>async r=>{let i={status:"all"===e?"any":e,page:t,per_page:a,context:"edit"};return Ca&&!1!==Aa.manage_options||(i={...i,author:ka}),n&&(i={...i,search:n}),await Za.get(pa+"alms_course_bundle",{params:i}).then((e=>(r({type:YD,payload:{data:e.data,totalItems:parseInt(e.headers["x-wp-total"])}}),e)),(e=>{var t;r(sr(null!==(t=e?.response?.data?.message)&&void 0!==t?t:e?.message,!0,"error"))}))},JD=e=>t=>{t({type:KD,payload:e})},eF=({setRegularPrice:a})=>{const n=An((e=>e.addons)),{values:r,setFieldValue:i}=ep(),{meta:s}=r,{academy_course_bundle_courses_ids:o}=s,[l,c]=t().useState([]),[u,d]=t().useState(0),[m,p]=t().useState(0),[f,h]=t().useState(0),[y,_]=t().useState(0),[g,b]=t().useState(0);return t().useEffect((()=>{o?.length>0?o.forEach((e=>{const t=parseInt(e.value);if(l.find((e=>parseInt(e.ID)===t))){const e=l.filter((e=>o.some((t=>parseInt(t.value)===parseInt(e.ID)))));c(e)}else nn({action:"academy_pro_course_bundle/admin/get_courses",course_id:t}).then((e=>{const t=e?.data?.data;c((e=>[...e.filter((e=>e.ID!==t.ID)),t]))}))})):0===o?.length&&l.length>0&&(c([]),d(0),p(0),h(0),b(0),_(0))}),[o]),t().useEffect((()=>{if(l?.length>0){const e=l?.reduce(((e,t)=>e+parseInt(t.regular_price)),0);a(e)}}),[l]),t().useMemo((()=>{const e=l?.length>0&&l?.reduce(((e,t)=>[...e,...t?.meta?.academy_course_curriculum]),[]),t=e.length>0&&e.reduce(((e,t)=>[...e,...t?.topics]),[]),a=t?.length>0&&t?.reduce(((e,t)=>("lesson"===t?.type?e.lessons=[...e.lessons,t]:"quiz"===t?.type?e.quiz=[...e.quiz,t]:"assignment"===t?.type?e.assignment=[...e.assignment,t]:"meeting"===t?.type?e.meeting=[...e.meeting,t]:"booking"===t?.type&&(e.booking=[...e.booking,t]),{...e})),{lessons:[],quiz:[],assignment:[],meeting:[],booking:[]});a&&a?.lessons.length>0&&d(a?.lessons?.length),a?.quiz?.length>0&&p(a?.quiz?.length),a?.assignment?.length>0&&h(a?.assignment?.length),a?.meeting?.length>0&&b(a?.meeting?.length),a?.booking?.length>0&&_(a?.booking?.length)}),[l,u,m,f,g,y,o?.length]),(0,e.createElement)("div",{className:"academy-course-bundle"},(0,e.createElement)("div",{className:"academy-course-bundle__details"},(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("Course Bundle Details","academy"))),0!==u&&(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("Total Lessons - ","academy")),(0,e.createElement)("span",{className:"academy-course-lesson-count"},u)),ln(n,"quizzes")&&0!==m&&(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("Total Quizzes - ","academy")),(0,e.createElement)("span",{className:"academy-course-lesson-count"},m)),ln(n,"assignments")&&0!==f&&(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("Total Assignments - ","academy")),(0,e.createElement)("span",{className:"academy-course-lesson-count"},f)),ln(n,"meeting",!0)&&0!==g&&(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("Total Meetings - ","academy")),(0,e.createElement)("span",{className:"academy-course-lesson-count"},g)),ln(n,"tutor-booking")&&0!==y&&(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("Total Bookings - ","academy")),(0,e.createElement)("span",{className:"academy-course-lesson-count"},y))),(0,e.createElement)("div",{className:"academy-course-bundle__cards"},l.length>0?(0,e.createElement)(e.Fragment,null,l.map(((t,a)=>(0,e.createElement)("div",{className:"academy-course-bundle-card",key:a},(0,e.createElement)("div",{className:"academy-course-bundle-card__top"},(0,e.createElement)("img",{src:t?.image_src?t?.image_src:`${fa}/assets/images/thumbnail-placeholder.png`,alt:""})),(0,e.createElement)("div",{className:"academy-course-bundle-card__body"},(0,e.createElement)("p",{className:"academy-course__date"},iu()(t?.post_date).format("MMMM Do YYYY")),(0,e.createElement)("h5",{className:"academy-course__title"},t?.post_title)),(0,e.createElement)("div",{className:"academy-course-bundle-card__footer"},(0,e.createElement)("p",null,(0,e.createElement)("span",null,(0,W.__)("Price","academy"),":"),(0,e.createElement)("span",null,"$",t?.regular_price))),(0,e.createElement)("div",{className:"academy-course-bundle-card__hover"},(0,e.createElement)(lu,{icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--delete"}),preset:"red",onClick:()=>(e=>{const t=o.filter((t=>parseInt(t.value)!==parseInt(e)));i("meta.academy_course_bundle_courses_ids",t);const a=l.filter((t=>t.ID!==e));c(a),0===a.length&&(d(0),p(0),h(0),b(0),_(0))})(t.ID)})))))):(0,e.createElement)(vd,{title:(0,W.__)("No course selected","academy")})))},tF={label:Zc().string};function aF({label:a,values:n,name:r,saveValueHandler:i}){const[s,o]=(0,e.useState)({});return(0,e.useEffect)((()=>{n?Za.get(`wp/v2/media/${n}`).then((e=>{o({url:e.data.source_url})})):o({})}),[n]),(0,e.createElement)(t().Fragment,null,(0,e.createElement)("div",{className:"academy-widget academy-widget--featured-image"},(0,e.createElement)("h4",{className:"academy-widget__label"},a),(0,e.createElement)("div",{className:"academy-widget__body"},Object.keys(s).length>0&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:s.url,width:"200",height:"auto",alt:(0,W.__)("Featured Image","academy"),"aria-hidden":"true"}),(0,e.createElement)(lu,{type:"button",onClick:()=>{i(r,0),o({})},label:(0,W.__)("Remove Featured Image","academy"),size:"sm",preset:"light-red",style:{margin:"10px 0",padding:"9px 16px",fontSize:"14px"}})),(0,e.createElement)("p",null,(0,e.createElement)(lu,{type:"button",onClick:e=>(e=>{e.preventDefault(),rn().then((e=>{i(r,e.id),o(e)}))})(e),label:Object.keys(s).length>0?(0,W.__)("Replace Featured Image","academy"):(0,W.__)("Set Featured Image","academy"),preset:"purple",style:{marginBottom:"10px",padding:"10px 16px",fontSize:"14px"}})))))}aF.propTypes=tF,aF.defaultProps={label:""};const nF=[{label:"None",value:""},{label:"Percent (%)",value:"percent"},{label:"Amount ($)",value:"amount"}],rF=()=>{const{values:t,setFieldValue:a}=ep(),[n,r]=(0,e.useState)(0);return(0,e.createElement)("div",{className:"academy-bundle__form"},(0,e.createElement)("h3",{className:"academy-bundle-form-label"},(0,W.__)("Title","academy")),(0,e.createElement)(cE,{name:"title",label:(0,W.__)("Add bundle title here","academy"),defaultValue:t.title,saveValueHandler:a}),(0,e.createElement)("h3",{className:"academy-bundle-form-label"},(0,W.__)("Content","academy")),(0,e.createElement)("div",{className:"academy-editor-tinymce-wrapper"},(0,e.createElement)(Ry,{name:"content",defaultValue:t.content,saveValueHandler:a})),(0,e.createElement)(aF,{label:(0,W.__)("Feature Image","academy"),values:t.featured_media,name:"featured_media",saveValueHandler:a}),(0,e.createElement)(Av,{name:"meta.academy_course_bundle_courses_ids",title:(0,W.__)("Select Course","academy"),subtitle:(0,W.__)("(Only paid courses)","academy"),action:"academy_pro_course_bundle/get_paid_courses",placeholder:(0,W.__)("Search and select a course","academy"),isMulti:!0,desc:(0,e.createElement)(e.Fragment,null,(0,W.__)("Only paid courses are listed here.","academy"))}),(0,e.createElement)(eF,{setRegularPrice:r}),t.meta.academy_course_bundle_courses_ids.length>0&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Av,{name:"meta.academy_course_bundle_product_id",action:"academy_woo/fetch_products",productType:"paid_only",placeholder:(0,W.__)("Search and select a product","academy"),title:(0,W.__)("Select product","academy"),subtitle:(0,W.__)("(When selling the course)","academy"),postType:"product",desc:(0,e.createElement)(e.Fragment,null,(0,W.__)("Sell your product, process by WooCommerce","academy"))}),(0,e.createElement)("div",{className:"meta-field meta-field--woocommerce-wrapper"},(0,e.createElement)(zy,{productId:t?.meta?.academy_course_bundle_product_id,name:"meta.academy_course_bundle_product_id",setFieldValue:a,regularPrice:0!==n&&n,description:!1,showDiscountField:!0,isForceProductCreation:!t?.meta?.academy_course_bundle_product_id,isRegularFieldDisabled:!0,title:t?.title?t?.title:""}),(0,e.createElement)("div",{className:"meta-field--discount"},(0,e.createElement)("label",{className:"meta-field__label",htmlFor:"discount_badge"},(0,W.__)("Discount Badge","academy")),(0,e.createElement)(Pd,{name:"discount_option",id:"discount_badge",suffix:"discount-badge",options:nF,value:nF.find((e=>e.value===t?.meta?.academy_course_bundle_discount_badge)),onChangeHandler:e=>a("meta.academy_course_bundle_discount_badge",e),positionTop:"-100px"})))))},iF=(e=null)=>{if(e){const{academy_course_bundle_courses_ids:t,academy_course_bundle_product_id:a,academy_course_bundle_discount_badge:n}=e.meta;return{id:e?.id,status:e?.status,title:e?.title?.raw,content:e?.content?.raw,featured_media:e?.featured_media,meta:{academy_course_bundle_courses_ids:t||[],academy_course_bundle_product_id:a,academy_course_bundle_discount_badge:n}}}return{title:"",content:"",status:"publish",featured_media:0,meta:{academy_course_bundle_courses_ids:[],academy_course_bundle_product_id:0,academy_course_bundle_discount_badge:""}}},sF=({formData:a,onRequestClose:n,isOpenBundleModal:r})=>{const i=a?.ID?a?.ID:a?.id,s=zn();return(0,e.createElement)(t().Fragment,null,(0,e.createElement)(zf,{title:(0,W.__)("Course Bundle","academy"),isOpen:r,onRequestClose:n,submitButtonLabel:a?"Update Bundle":"Add Bundle",suffix:"course-bundle-form",size:"medium",formik:{enableReinitialize:!1,initialValues:iF(a),onSubmit:(e,t)=>{t.setSubmitting(!0),""===e?.title?(t.setSubmitting(!1),s(sr((0,W.__)("Title Missing","academy"),!0,"error"))):0===e?.meta?.academy_course_bundle_courses_ids.length?(t.setSubmitting(!1),s(sr((0,W.__)("Please select a course","academy"),!0,"error"))):0===e?.meta?.academy_course_bundle_product_id?(t.setSubmitting(!1),s(sr((0,W.__)("Please select a product","academy"),!0,"error"))):i?s(ZD(e)).then((e=>{e.data&&(t.setSubmitting(!1),t.setValues(iF(e.data)),t.setSubmitting(!1),setTimeout((()=>{n()}),500))})):s((e=>async t=>{try{return await Za.post(pa+"alms_course_bundle",e).then((e=>(t({type:UD,payload:e.data}),t(sr((0,W.__)("Course Bundle Created!","academy"),!0,"success")),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e)).then((e=>{t.setSubmitting(!1),t.setValues(iF(e.data)),t.setSubmitting(!1),setTimeout((()=>{n()}),500)}))}}},(0,e.createElement)(rF,null)))},oF=[{label:(0,W.__)("All","academy"),value:"all"},{label:(0,W.__)("Publish","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"}],lF=()=>{const[a,n]=(0,e.useState)(!1),r=An((e=>e.courseBundle)),[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)({}),[c,u]=(0,e.useState)(!1),[d,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[h,y]=(0,e.useState)(null),_=zn(),g=P(),b=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}(),v=b.get("status"),E=b.get("perPage"),w=b.get("search"),[x,N]=(0,e.useState)(v||"all"),k=(e="",t="")=>{let a=`${_a}admin.php?page=academy-course-bundle`;if(""!==e&&null!==e&&"null"!==e&&"all"!==e){const t="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${t?"":"&"}status=${e}`}if(""!==t&&null!==t&&"null"!==t){const e="?"===a[a.length-1]&&a.split(a.length-1);a=`${a}${e?"":"&"}search=${t}`}g(a)},S=e=>{y(e),f(!0)},C=[..."trash"!==x?[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>l({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}]:[]];(0,e.useEffect)((()=>{(!r.data||r.data&&r.data.length<=1)&&(n(!0),_(XD(x)).then((()=>{n(!1)})))}),[x]),(0,e.useEffect)((()=>{k(v,w)}),[v,w]);const O=()=>{s([]),l({}),m(!0),u(!1)};t().useMemo((()=>{c?(o.value,i.forEach((e=>{_(QD({ID:e.id?e.id:e.ID}))})),O()):O()}),[c]);const I=(e=1,t=10)=>{n(!0),_(XD("all",e,t)).then((()=>{n(!1)}))},T=[{name:"Title",cell:t=>(0,e.createElement)("div",{className:"academy-table-title-wrap"},(0,e.createElement)("div",{role:"presentation",className:"academy-table-title",onClick:()=>S(t)},(0,e.createElement)("span",{className:"academy-table-title",dangerouslySetInnerHTML:{__html:cn(t.title.rendered)}}),(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noreferrer"},(0,e.createElement)("span",{className:"academy-icon academy-icon--go-on"}))))},{name:"Date",cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.date).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.date).format("h:mm A")))},{name:(0,W.__)("Status","academy"),cell:t=>(0,e.createElement)(Vf,{value:t?.status,options:{items:[{label:(0,W.__)("Published","academy"),value:"publish"},{label:(0,W.__)("Draft","academy"),value:"draft"}]},onChangeHandler:e=>{const a={...t,status:e};_(ZD(a))}})},{name:(0,W.__)("Action","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-item-control"},(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>S(t)},{type:"link",label:(0,W.__)("View","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--eye"}),link:t.link,target:"_blank"},{type:"link",label:(0,W.__)("WordPress Editor","academy"),hasBorder:!0,icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--wp-editor"}),link:`${va}post.php?post=${t.id}&action=edit`,target:"_self"},{type:"button",label:(0,W.__)("Delete","academy"),suffix:"trash",icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>{return e=t,void(window.confirm((0,W.__)("Are you sure you want to permanently delete selected courses?","academy"))&&_(QD({ID:e.id?e.id:e.ID})));var e}}]}))}],M=t().useMemo((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"},oF.map(((t,a)=>(0,e.createElement)("span",{role:"presentation",className:`tab ${t?.value===x?"is-active":""} `,key:a,onClick:()=>{var e;N(t.value),e=t.value,n(!0),k(e),_(XD(e,1,E)).then((()=>{n(!1)}))}},t.label))))),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Course Bundle","academy"),onSearchHandler:e=>{n(!0),_(XD(x,1,10,e)).then((()=>{n(!1),k(v,e)}))},defaultValue:w||""}),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right--border"})))),[x,w]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:T,data:r?.data?r?.data:[],showSubHeader:!0,subHeaderComponent:M,noDataText:(0,W.__)("Please, create bundle to see the available list here."),isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{s(e),m(!1)},showPagination:!0,onChangePage:(e=1)=>{_(JD(e)),I(e)},onChangeItemsPerPage:(e,t)=>{_(JD(t)),I(t,e),k(v)},totalItems:r?.totalItems,totalRows:r?.data?.length,dataFetchingStatus:a,resetSelected:d,rowsPerPage:E,suffix:"course-bundle"}),i.length>0&&(0,e.createElement)(Pf,{actionButtons:C,itemsLength:i?.length,confirmHandler:u,isActionSelected:o,resetHandler:O}),p&&(0,e.createElement)(sF,{isOpenBundleModal:p,onRequestClose:()=>f(!1),formData:h}))},cF=()=>{const[t,a]=(0,e.useState)(!1),[n,r]=(0,e.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,e.createElement)("span",{className:"academy-icon academy-icon--angle-right"}),(0,W.__)("All Course Bundle","academy")))}),(0,e.createElement)("div",{className:"academy-page-content academy-page-content--course-bundle"},(0,e.createElement)("div",{className:"academy-sub-top-header"},(0,e.createElement)("h3",{className:"academy-sub-top-header__title"},(0,W.__)("All Course Bundle","academy")),(0,e.createElement)("div",{className:"academy-sub-top-header__content"},(0,e.createElement)(lu,{type:"button",label:(0,W.__)("Add New Bundle","academy"),preset:"purple",onClick:()=>(r(!1),void a(!0))}))),(0,e.createElement)("div",{className:"academy-list-wrap academy-dashboard__content"},(0,e.createElement)(lF,{bundleFormOpenHandler:(e=null)=>{e&&r(e),a(!0)}})),(0,e.createElement)(sF,{onRequestClose:()=>{r(!1),a(!1)},isOpenBundleModal:t,formData:n})))},uF=({isOpen:t,onClose:a})=>{const[n,r]=(0,e.useState)(!1),[i,s]=(0,e.useState)(""),o=(0,e.useRef)(null);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(fd,{isOpen:t,onRequestClose:a,contentLabel:(0,W.__)("Classroom Setup","academy"),title:(0,W.__)("Classroom Setup","academy"),suffix:"google-setup-modal"},(0,e.createElement)("div",{className:"academy-google-setup-modal"},n?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,e.createElement)("span",{className:"academy-icon academy-icon--information"}),(0,W.__)("Click on redirect to continue Google classroom setup!","academy")),(0,e.createElement)(lu,{type:"link",link:n,label:(0,W.__)("Redirect","academy")})):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-google-setup-modal__details"},(0,e.createElement)("div",{className:"academy-google-setup-modal__details__image"},(0,e.createElement)("img",{src:fa+"assets/images/upload.svg",alt:""})),i?(0,e.createElement)("h3",{className:"academy-google-setup-modal__details__file-name"},i):(0,e.createElement)(e.Fragment,null,(0,e.createElement)("span",{className:"academy-google-setup-modal__details__title"},(0,W.__)("Drag & drop your file here or","academy")),(0,e.createElement)("span",{className:"academy-google-setup-modal__details__sub-title"},(0,W.__)("Support: JSON","academy")))),(0,e.createElement)("input",{type:"file",className:"academy-import__file",onChange:e=>{return t=e.target.files[0],s(t.name),void nn({action:"academy_pro_google_classroom/upload_classroom_credentials",upload_file:t},!0).then((e=>{e.data.success&&nn({action:"academy_pro_google_classroom/save_classroom_credentials"},!0).then((e=>{r(e.data.data)}))}));var t},ref:o}),(0,e.createElement)(lu,{label:i?"Change File":"Browse File",onClick:()=>{o.current.click()},border:"gray",preset:"transparent"})))))},dF="create_new_google_classroom",mF="fetch_all_google_classroom",pF="import_google_classroom",fF="delete_google_classroom",hF="publish_google_classroom",yF=e=>async t=>{try{return await nn({action:"academy_pro_google_classroom/delete_course",course_id:e}).then((a=>(a.data.success?(t({type:fF,payload:e}),t(sr("Classroom Deleted",!0,"success"))):t(sr(a.data.data,!0,"warning")),a)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}},_F=(e=1,t=10,a="")=>async n=>{try{return await nn({action:"academy_pro_google_classroom/fetch_all_google_classroom",class:"all",page:e,per_page:t,search:a}).then((e=>(n({type:mF,payload:{data:e.data.data}}),e)))}catch(e){var r;n(sr(null!==(r=e?.response?.data?.message)&&void 0!==r?r:e?.message,!0,"error"))}},gF=({credentials:a})=>{const[n,r]=(0,e.useState)(!1),i=An((e=>e.googleClassroom)),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)({}),[u,d]=(0,e.useState)(!1),[m,p]=(0,e.useState)(!1),f=zn(),h=P(),y=[{suffix:"delete",label:(0,W.__)("Delete Permanently","academy"),onClick:()=>c({value:"delete",message:(0,W.__)("Are you sure, you want to delete these items?","academy")})}];(0,e.useEffect)((()=>{a&&(!i.data||i.data&&i.data.length<=1)&&(r(!0),f(_F(1,10)).then((()=>{r(!1)})))}),[a]);const _=()=>{o([]),c({}),p(!0),d(!1)},g=(e=1,t=10)=>{r(!0),f(_F(e,t,"")).then((()=>{r(!1)}))};t().useMemo((()=>{u?(l.value,s.forEach((e=>{f(yF(e.id))}))):_()}),[u]);const b=[{name:(0,W.__)("Class Name","academy"),cell:t=>(0,e.createElement)("div",{className:"academy-table-title",role:"presentation",onClick:()=>{window.open(t.alternateLink,"_blank")}},t.name)},{name:(0,W.__)("Publish Date","academy"),cell:t=>(0,e.createElement)("div",null,(0,e.createElement)("span",null,iu()(t.updateTime).format("MMMM DD, YYYY")),(0,e.createElement)("br",null),(0,e.createElement)("span",{className:"academy-table-time"},iu()(t.updateTime).format("h:mm A")))},{name:(0,W.__)("Class Code","academy"),cell:t=>(0,e.createElement)("span",{className:"academy-enroll-code"},t.enrollmentCode,t.enrollmentCode?(0,e.createElement)("span",{role:"presentation",className:"academy-icon academy-icon--copy-two",onClick:()=>{navigator.clipboard.writeText(t.enrollmentCode),f(sr((0,W.__)("Code Copied ","academy"),!0,"success"))}}):"-")},{name:(0,W.__)("Status","academy"),cell:t=>{var a;return(0,e.createElement)("div",{className:`academy-${null!==(a=t?.actionlink?.status)&&void 0!==a?a:"draft"}`},null===t?.actionlink?(0,e.createElement)("span",null,(0,W.__)("Not Imported","academy")):pn(t?.actionlink?.status))}},{name:(0,W.__)("Action","academy"),cell:t=>{const a="publish"===t?.actionlink?.status?[{type:"button",label:(0,W.__)("Import Student","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--duplicate"}),onClick:()=>{return f((e=t.id,async t=>{try{return await nn({action:"academy_pro_google_classroom/import_students_from_google_classroom",course_id:e}).then((a=>(a.data.success&&(t({type:"import_student_from_google_classroom",payload:{id:e,data:a.data.data}}),t(sr("Students Data Imported",!0,"success"))),a)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}}));var e}}]:[{type:"button",label:(0,W.__)("Publish","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--duplicate"}),onClick:()=>{return f((e=t.id,async t=>{try{return await nn({action:"academy_pro_google_classroom/publish_course",course_id:e}).then((a=>(a.data.success&&(t({type:hF,payload:e}),t(sr("Classroom Published",!0,"success"))),a)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}}));var e}}];return(0,e.createElement)("div",{className:"academy-table-item-control"},null===t?.actionlink?(0,e.createElement)(lu,{label:(0,W.__)("Import","academy"),onClick:()=>{return f((e=t.id,async t=>{try{return await nn({action:"academy_pro_google_classroom/import_google_classroom",course_id:e}).then((a=>(a.data.success&&(t({type:pF,payload:{data:a.data.data,id:e}}),t(sr("Successfully Imported",!0,"success"))),a)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}}));var e}}):(0,e.createElement)(ld,{options:[{type:"button",label:(0,W.__)("Edit","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--edit-two"}),onClick:()=>{f((async e=>{e({type:th,payload:!0})})),h(`${_a}admin.php?page=academy-courses&id=${t?.actionlink?.post_id}&action=edit`)}},...a,{type:"button",label:(0,W.__)("Preview","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--duplicate"}),hasBorder:!0,onClick:()=>{window.open(t.actionlink.preview_link,"_blank")}},{type:"button",suffix:"trash",label:(0,W.__)("Delete","academy"),icon:(0,e.createElement)("span",{className:"academy-icon academy-icon--trash-delete"}),onClick:()=>f(yF(t.id))}]}))}}],v=(0,e.useMemo)((()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"kzui-list-table__sub-header-actions-left"},(0,e.createElement)("div",{className:"kzui-list-table-sub-header-tabs"})),(0,e.createElement)("div",{className:"kzui-list-table-sub-header-actions-right"},(0,e.createElement)(Jd,{placeholder:(0,W.__)("Search Lesson","academy"),onSearchHandler:e=>{a&&f(_F(1,10,e)).then((()=>{r(!1)}))}})))),[]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bd,{columns:b,data:i.data,showSubHeader:!0,subHeaderComponent:v,isRowSelectable:!0,showColumnFilter:!0,getSelectRowValue:e=>{o(e),p(!1)},showPagination:!1,onChangePage:e=>{g(e)},onChangeItemsPerPage:(e,t)=>{g(t,e)},dataFetchingStatus:n,resetSelected:m,suffix:"google-classroom"}),s.length>0&&(0,e.createElement)(Pf,{actionButtons:y,itemsLength:s?.length,confirmHandler:d,isActionSelected:l,resetHandler:_}))},bF=(e=null,t={})=>{if(e&&t){const{class_name:a,section:n,subject:r,room:i}=t;return{classRoom_id:e,class_name:a,section:n,subject:r,room:i}}return{class_name:"",section:"",subject:"",room:""}},vF=()=>(0,e.createElement)("div",{className:"academy-google-form"},(0,e.createElement)(Ox,{name:"class_name",title:(0,W.__)("Class Name","academy"),placeholder:(0,W.__)("Add class name here","academy")}),(0,e.createElement)(Ox,{name:"section",title:(0,W.__)("Section","academy"),placeholder:(0,W.__)("Add section here","academy")}),(0,e.createElement)(Ox,{name:"subject",title:(0,W.__)("Subject","academy"),placeholder:(0,W.__)("Add subject here","academy")}),(0,e.createElement)(Ox,{name:"room",title:(0,W.__)("Room","academy"),placeholder:(0,W.__)("Add room here","academy")})),EF=({onRequestClose:t,isOpenModal:a,formData:n})=>{const r=zn();return(0,e.createElement)(zf,{title:(0,W.__)("Create Classroom","academy"),isOpen:a,onRequestClose:t,submitButtonLabel:(0,W.__)("Create","academy"),suffix:"classroom-form",size:"small",formik:{enableReinitialize:!0,initialValues:bF(n),onSubmit:async(e,a)=>{if(a.setSubmitting(!0),e?.class_name)if(e?.section)if(e?.subject)if(e?.room)try{const n=await r((e=>async t=>{try{return await nn({action:"academy_pro_google_classroom/create_new_google_classroom",class_name:e.class_name,section:e.section,subject:e.subject,room:e.room}).then((e=>(e.data.success&&(t({type:dF,payload:e.data}),t(sr((0,W.__)("Classroom Created","academy"),!0,"success"))),e)))}catch(e){var a;t(sr(null!==(a=e?.response?.data?.message)&&void 0!==a?a:e?.message,!0,"error"))}})(e));a.setSubmitting(!1),t(),n?.data?.success&&n?.data?.data&&(window.location.href=n.data.data)}catch(e){var n;a.setSubmitting(!1),r(sr(null!==(n=e?.response?.data?.message)&&void 0!==n?n:e?.message,!0,"error"))}else r(sr((0,W.__)("Room Missing","academy"),!0,"error")),a.setSubmitting(!1);else r(sr((0,W.__)("Subject Missing","academy"),!0,"error")),a.setSubmitting(!1);else r(sr((0,W.__)("Section Missing","academy"),!0,"error")),a.setSubmitting(!1);else r(sr((0,W.__)("ClassName Missing","academy"),!0,"error")),a.setSubmitting(!1)}}},(0,e.createElement)(vF,null))},wF=()=>{const[a,n]=(0,e.useState)(!1),[r,i]=(0,e.useState)(!1),s=function(){const{search:e}=A();return t().useMemo((()=>new URLSearchParams(e)),[e])}().get("code"),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),d=()=>{n(!a)};return(0,e.useEffect)((()=>{s&&nn({action:"academy_pro_google_classroom/get_auth_code",authCode:s}).then((()=>{window.location.href=`${_a}admin.php?page=academy-google-classroom`}))}),[s]),(0,e.useEffect)((()=>{nn({action:"academy_pro_google_classroom/get_classroom_credential"}).then((e=>{""===e.data.data.google_classroom?d():i(e.data.data.google_classroom)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(gm,{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"academy-topbar__classroom"},(0,e.createElement)("div",{className:"academy-topbar__classroom-entry-left"},(0,e.createElement)("h3",{className:"academy-topbar-heading"},(0,W.__)("Google Classroom","academy")))),(0,e.createElement)(nm,{filterText:["classroom"]}))}),(0,e.createElement)(bm,{heading:(0,W.__)("Google Classroom","academy")},r&&(0,e.createElement)(lu,{type:"button",label:"Create Classroom",onClick:()=>((e=null)=>{u(e||!1),l(!0)})()}),(0,e.createElement)(lu,{label:"Classroom Setup",onClick:d,border:"purple",preset:"transparent"})),(0,e.createElement)("div",{className:"academy-page-content"},(0,e.createElement)(EF,{onRequestClose:()=>{l(!1)},isOpenModal:o,formData:c}),a&&(0,e.createElement)(uF,{isOpen:a,onClose:d}),(0,e.createElement)(gF,{credentials:r})))};function xF(){const t=new URLSearchParams(A().search);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(DM,null),(0,e.createElement)(RM,null),(0,e.createElement)(WP,{icon:!1,hideProgressBar:!0}),((t,a,n,r)=>{switch(t){case"academy":return Aa.manage_options?(0,e.createElement)(Am,null):(0,e.createElement)(VN,null);case"academy-courses":return a||n?(0,e.createElement)(HN,{id:a}):"category"===r?(0,e.createElement)(Bf,{viewFrom:"course"}):"tags"===r?(0,e.createElement)(UP,{viewFrom:"course"}):(0,e.createElement)(VN,null);case"academy-category":return(0,e.createElement)(Bf,null);case"academy-tag":return(0,e.createElement)(UP,null);case"academy-lessons":return(0,e.createElement)(gk,null);case"academy-quizzes":return"attempts"===r?(0,e.createElement)(zk,null):(0,e.createElement)($k,null);case"academy-assignments":return"submitted-assignments"===r?(0,e.createElement)(VD,null):(0,e.createElement)(PM,null);case"academy-meeting":return(0,e.createElement)(wM,null);case"academy-tutor-booking":return"category"===r?(0,e.createElement)(Bf,{viewFrom:"booking"}):"tags"===r?(0,e.createElement)(UP,{viewFrom:"booking"}):"booked"===r?(0,e.createElement)(IM,null):(0,e.createElement)(kM,null);case"academy-announcements":return(0,e.createElement)(tD,null);case"academy-question_answer":return(0,e.createElement)(Ck,null);case"academy-grade-book":return"builder"===r?(0,e.createElement)(kD,null):(0,e.createElement)(vD,null);case"academy-course-bundle":return(0,e.createElement)(cF,null);case"academy-withdraw":return(0,e.createElement)(bM,null);case"academy-webhooks":return(0,e.createElement)(jD,null);case"academy-google-classroom":return(0,e.createElement)(wF,null);case"academy-instructors":return(0,e.createElement)(hk,null);case"academy-students":return(0,e.createElement)(BP,null);case"academy-addons":return(0,e.createElement)($p,null);case"academy-tools":return(0,e.createElement)(mM,null);case"academy-settings":return(0,e.createElement)(FP,null)}})(t.get("page"),parseInt(t.get("id")),t.get("action"),t.get("path")))}var NF=a(8500);function kF(e){return function(t){var a=t.dispatch,n=t.getState;return function(t){return function(r){return"function"==typeof r?r(a,n,e):t(r)}}}}a(4500);var SF=kF();SF.withExtraArgument=kF;const CF=SF,OF={topics:[],isTopicsAccessible:!1,courseID:null,courseTitle:"",coursePermalink:"",exitPermalink:"",courseType:"",isCompletedCourse:!1,isEnabledCourseQA:!1,isEnabledCourseAnnouncements:!1,autoLoadNextLesson:!1,autoComplete:!1,isFavorite:!1,topbarLogo:"",isEnabledAcademyPlayer:!1,announcements:[],isTopicsDataFetching:!0,currentPlayTopicID:0,currentPlayTopicIndex:0,topicNavigateAction:"",autoNavigateNext:!1,isSidebarOpen:!localStorage.getItem("isSidebarOpen")||JSON.parse(localStorage.getItem("isSidebarOpen")),allTopicsItems:[]},IF=(0,Xk.UY)({adminmenu:function(e=JSON.parse(ba),t){const a=t.payload;return t.type===Pp?{...a}:e},addons:function(e=Ia,t){const a=t.payload;return t.type===Op?{...a}:e},analytics:function(e={courses:!1,students:!1,popular_courses:!1,enrolled_info:!1,total_assignments:0,total_completed_course:0,total_courses:0,total_enrolled_courses:0,total_instructors:0,total_lessons:0,total_questions:0,total_reviews:0,total_students:0,total_quizzes:0},t){const a=t.payload;switch(t.type){case Wn:return{...e,enrolled_info:a?.enrolled_info,total_assignments:a?.total_assignments,total_completed_course:a?.total_completed_course,total_courses:a?.total_courses,total_enrolled_courses:a?.total_enrolled_courses,total_instructors:a?.total_instructors,total_lessons:a?.total_lessons,total_questions:a?.total_questions,total_reviews:a?.total_reviews,total_students:a?.total_students,total_quizzes:a?.total_quizzes};case Gn:return{...e,total_earnings:a};case Yn:return{...e,total_refunds:a};case Kn:return{...e,total_discounts:a};case Zn:return{...e,popular_courses:a};case Qn:return{...e,enrolled_courses:a};case Xn:return{...e,recent_reviews:a};case Jn:return{...e,students:a};case er:return{...e,instructors:a};case tr:return{...e,courses:a.data,total_courses:a.total_courses};case ar:const t=e.courses.map((e=>e.ID===a.courseId?{...e,analytics_students:{data:a.data,totalItems:a.totalItems}}:e));return{...e,courses:t};case nr:const n=e.courses.map((e=>e.ID===a.courseId?{...e,analytics_instructors:{data:a.data,totalItems:a.totalItems}}:e));return{...e,courses:n};case rr:return{...e,students:a.data,total_students:a.total_students};default:return e}},courses:function(e={data:!1,totalItems:0,currentPage:1,itemPerPage:10},t){const a=t.payload;switch(t.type){case Kf:return{...e,data:a.data,totalItems:a.totalItems,status:a.status};case Yf:return{...e,data:[a]};case th:return{...e,data:!1};case Uf:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case Wf:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case Jf:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case Zf:return{...e,currentPage:a};case eh:return{...e,itemPerPage:a};case Gf:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};case Qf:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case Xf:return e.data?{...e,data:[...e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e))]}:{...e,data:[a]};default:return e}},categories:function(e={},t){const a=t.payload;switch(t.type){case Gp:return{...e,data:a.data};case Vp:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case Up:const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t};case"status_category_update":const n=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:n};case"restore_category":const r=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:r};case Wp:const i=e.data.reduce(((e,t)=>(parseInt(t.parent)===parseInt(a.id)&&(t.parent=0),e.push(t),e)),[]);return{...e,data:[...i.filter((e=>parseInt(e.id)!==parseInt(a.id)))]};case"move_category_to_trash":const s=e.data.reduce(((e,t)=>(parseInt(t.parent)===parseInt(a.id)&&(t.parent=0),e.push(t),e)),[]);return{...e,data:[...s.filter((e=>parseInt(e.id)!==parseInt(a.id)))]};default:return e}},tags:function(e={},t){const a=t.payload;switch(t.type){case Qp:return{...e,data:a.data};case Kp:const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t};case Zp:return{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]};case Yp:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};default:return e}},lessons:function(e={data:!1,totalItems:0,currentPage:1,itemPerPage:10},t){const a=t.payload;switch(t.type){case vE:return{...e,data:a.data,totalItems:a.totalItems,status:a.status};case"fetch_lesson":if(e.data){const t=e.data.map((e=>parseInt(e.ID)===parseInt(a.ID)?{...a}:e));return{...e,data:t}}return{...e,data:[a]};case _E:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case gE:if(e.data){const t=e.data.map((e=>parseInt(e.ID)===parseInt(a.ID)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case wE:return{...e,currentPage:a};case xE:return{...e,itemPerPage:a};case bE:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.ID)!==parseInt(a)))]}:{...e,data:[a]};case"move_to_trash":return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.ID)===parseInt(a.ID)?{...e,...a}:e))]}:{...e,data:[a]};case EE:return e.data?{...e,data:[...e.data.map((e=>parseInt(e.ID)===parseInt(a.ID)?{...e,...a}:e))]}:{...e,data:[a]};default:return e}},announcements:function(e={},t){const a=t.payload;switch(t.type){case qM:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case LM:return{...e,data:a.data,totalItems:a.totalItems};case"fetch_announcement":return{...e,data:a};case zM:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...a}:e));return{...e,data:t}}return{...e,data:[a]};case BM:{const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}case jM:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};case HM:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case $M:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};default:return e}},products:function(e={},t){const a=t.payload;switch(t.type){case"fetch_all_product":case"fetch_product":return{...e,data:a};default:return e}},students:function(e={data:!1,totalItems:0,current_page:1},t){const a=t.payload;switch(t.type){case rk:return{...e,data:a.data,totalItems:a.totalItems};case"fetch_all_enrolled_students":return{...e,analytics:a};case ik:return{...e,data:[a,...e.data]};case sk:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.ID)!==parseInt(a)))]}:{...e,data:[a]};case ok:return{...e,current_page:a};default:return e}},qa:function(e={},t){const a=t.payload;switch(t.type){case Ek:return{...e,data:a.data,totalItems:a.totalItems};case"fetch_course_qa":case"fetch_qa":return{...e,data:a};case"create_new_qa":return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case bk:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case vk:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.previous.id)))]}:{...e,data:[a]};default:return e}},user:function(e={is_frontend_collapsible_menu:!1,is_frontend_responsive_menu:!1},t){const a=t.payload;switch(t.type){case"fetch_user":return{...e,data:a};case"update_user":if(e.data){const t={...e.data.academy_meta,cover_photo:a.academy_cover_photo,facebook_url:a.academy_facebook_url,github_url:a.academy_github_url,linkedin_url:a.academy_linkedin_url,phone_number:a.academy_phone_number,bio:a.academy_profile_bio,designation:a.academy_profile_designation,profile_photo:a.academy_profile_photo,twitter_url:a.academy_twitter_url,website_url:a.academy_website_url,first_name:a.first_name,last_name:a.last_name};return{...e,data:{...e.data,academy_meta:t}}}return{...e,data:[a]};case"fetch_order":return{...e,order:a.data};case pm:return{...e,is_frontend_collapsible_menu:a};case fm:return{...e,is_frontend_responsive_menu:a};default:return e}},reviews:function(e={},t){const a=t.payload;switch(t.type){case"fetch_given_reviews":return{...e,given:a.given};case"fetch_received_reviews":return{...e,received:a.received};default:return e}},instructors:function(e={data:!1,totalItems:0,current_page:1},t){const a=t.payload;switch(t.type){case UN:return{...e,data:a.data,totalItems:a.totalItems,status:a.status};case WN:if(e.data){const t=e.data.map((e=>parseInt(e.ID)===parseInt(a.ID)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case YN:if(e.data){const t=e.data.filter((e=>parseInt(e.ID)!==parseInt(a.ID)));return{...e,data:t}}return{...e,data:[a]};case GN:return{...e,data:[{...a,instructor_status:"approved",total_courses:0},...e.data]};case KN:return{...e,current_page:a};default:return e}},withdraw:function(e={},t){const a=t.payload;switch(t.type){case fM:return{...e,data:a.data,totalItems:a.totalItems,status:a.status};case"fetch_user_withdraw":return{...e,data:a};case"create_withdraw":return{...e,data:{...e.data,balance:e?.data?.balance-a?.amount,withdrowHistory:[a,...e.data.withdrowHistory]}};case pM:const t=e.data.map((e=>parseInt(e.ID)===parseInt(a.ID)?{...e,...a}:e));return{...e,data:t};default:return e}},tools:function(e={},t){const a=t.payload;switch(t.type){case ZP:return{...e,status:a};case QP:return{...e,pages:a};default:return e}},quizzes:function(e={data:!1,totalItems:0,currentPage:1,itemPerPage:10},t){const a=t.payload;switch(t.type){case KE:return{...e,data:a.data,totalItems:a.totalItems,status:a.status};case"fetch_quiz":return{...e,data:[a]};case WE:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case GE:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case YE:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};case ZE:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case XE:return e.data?{...e,data:[...e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e))]}:{...e,data:[a]};case QE:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case JE:return{...e,currentPage:a};case ew:return{...e,itemPerPage:a};default:return e}},quiz_questions:function(e={},t){const a=t.payload;switch(t.type){case"fetch_all_quiz_questions":return{...e,data:a};case"fetch_quiz_question":return{...e,data:[a]};case vw:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case Ew:return e.data?{...e,data:[a,...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};case"delete_quiz_question":return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};default:return e}},quiz_attempts:function(e={},t){const a=t.payload;switch(t.type){case Ak:return{...e,data:a.data,totalItems:a.totalItems};case"fetch_quiz_attempt":return{...e,data:[a]};case"create_quiz_attempt":return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case Ok:if(e.data){const t=e.data.map((e=>parseInt(e.attempt_id)===parseInt(a.attempt_id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case Ik:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.attempt_id)!==parseInt(a)))]}:{...e,data:[a]};default:return e}},assignments:function(e={data:!1,totalItems:0,currentPage:1,itemPerPage:10},t){const a=t.payload;switch(t.type){case $v:return{...e,data:a.data,totalItems:a.totalItems,status:a.status};case Vv:return{...e,submittedAssignments:a.data,totalSubmittedAssignments:a.totalItems};case Uv:return{...e,submittedAssignments:e.submittedAssignments.map((e=>parseInt(e.comment_ID)===parseInt(a.comment_ID)?{...a}:e))};case"fetch_assignment":return{...e,data:[a,...e.data.filter((e=>parseInt(e.ID)!==parseInt(a.ID)))]};case zv:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case Bv:return e.data?{...e,data:e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e))}:{...e,data:[a]};case Yv:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};case Kv:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case Hv:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};case Gv:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case Wv:return e.submittedAssignments?{...e,submittedAssignments:[...e.submittedAssignments.filter((e=>parseInt(e.comment_ID)!==parseInt(a.id)))]}:{...e,submittedAssignments:[a]};case Zv:return{...e,currentPage:a};case Qv:return{...e,itemPerPage:a};default:return e}},upgradeToPro:function(e={show_upgrade_modal:!1},t){return t.type===tu?{...e,show_upgrade_modal:t.payload}:e},bookings:function(e={categories:[],tags:[],schedules:[],itemPerPage:10},t){const a=t.payload;switch(t.type){case ef:return{...e,data:a.data,totalItems:a.totalItems,bookingStatus:a.bookingStatus};case tf:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case af:case gf:return e.data?{...e,data:e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e))}:{...e,data:[a]};case nf:const t=e.data.reduce(((e,t)=>(parseInt(t.parent)===parseInt(a.id)&&(t.parent=0),e.push(t),e)),[]);return{...e,data:[...t.filter((e=>parseInt(e.id)!==parseInt(a.id)))]};case yf:const n=e.data.reduce(((e,t)=>(parseInt(t.parent)===parseInt(a.id)&&(t.parent=0),e.push(t),e)),[]);return{...e,data:[...n.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e))]};case _f:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};case cf:return{...e,tags:a.data};case uf:return e.tags?{...e,tags:[a,...e.tags]}:{...e,tags:[a]};case df:const r=e.tags.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,tags:r};case mf:const i=e.tags.reduce(((e,t)=>(parseInt(t.parent)===parseInt(a.id)&&(t.parent=0),e.push(t),e)),[]);return{...e,tags:[...i.filter((e=>parseInt(e.id)!==parseInt(a.id)))]};case rf:return{...e,categories:a.data};case sf:return e.categories?{...e,categories:[a,...e.categories]}:{...e,categories:[a]};case of:const s=e.categories.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,categories:s};case lf:const o=e.categories.reduce(((e,t)=>(parseInt(t.parent)===parseInt(a.id)&&(t.parent=0),e.push(t),e)),[]);return{...e,categories:[...o.filter((e=>parseInt(e.id)!==parseInt(a.id)))]};case pf:return{...e,schedules:a.data,totalSchedules:a.totalItems,bookedStatus:a.bookedStatus};case ff:const l={...e.schedules.filter((e=>parseInt(e.ID)===parseInt(a.id)))[0],post_status:a.status},c=e.schedules.map((e=>parseInt(e.ID)===parseInt(a.id)?{...l}:e));return{...e,schedules:c};case hf:case"move_booking_schedule_to_trash":return{...e,schedules:[...e.schedules.filter((e=>parseInt(e.ID)!==parseInt(a.ID)))]};case"fetch_my_bookings":return{...e,myBooking:a};case"fetch_single_my_booking":return{...e,mySingleBooking:a};case"cancel_single_my_booking":const u={...e.mySingleBooking.find((e=>parseInt(e.ID)===parseInt(a))),post_status:"cancel"};return{...e,mySingleBooking:[...e.mySingleBooking.filter((e=>parseInt(e.ID)!==parseInt(u.ID))),u]};case"cancel_my_booking":const d={...e.myBooking.find((e=>parseInt(e.ID)===parseInt(a))),post_status:"cancel"};return{...e,myBooking:[...e.myBooking.filter((e=>parseInt(e.ID)!==parseInt(a))),d]};case bf:return{...e,currentPage:a};case vf:return{...e,itemPerPage:a};default:return e}},settings:function(e={},t){const a=t.payload;switch(t.type){case Mp:return{...e,data:a};case Dp:return{...e,data:{...e.data,...a}};case Fp:return{...e,data:{...e.data,form_builder:a}};default:return e}},frontendCurriculums:function(e=OF,t){const a=t.payload;switch(t.type){case"fetch_topics":const t=a?a.flatMap(((e,t)=>e.topics.map(((e,a)=>"sub-curriculum"===e.type?e.topics.map((e=>({...e,tabIndex:t,subTabIndex:a}))):{...e,tabIndex:t})))).flat():[];return{...e,topics:a,allTopicsItems:t,isTopicsDataFetching:!0};case"initial_data":return{...e,courseID:parseInt(a.courseID),courseTitle:a.courseTitle,coursePermalink:a.coursePermalink,exitPermalink:a.exitPermalink,courseType:a.courseType,isCompletedCourse:a.isCompletedCourse,isEnabledCourseQA:a.isEnabledCourseQA,isEnabledCourseAnnouncements:a.isEnabledCourseAnnouncements,autoLoadNextLesson:a.autoLoadNextLesson,isFavorite:a.isFavorite,topbarLogo:a.topbarLogo,isTopicsAccessible:a.isTopicsAccessible,autoComplete:a.autoComplete,isEnabledAcademyPlayer:a.isEnabledAcademyPlayer};case"set_current_play_topic_id":return{...e,currentPlayTopicID:a,currentPlayTopicIndex:e.allTopicsItems.findIndex((e=>e.id===a))};case"toggle_topic_data_fetching_status":return{...e,isTopicDataFetching:a};case"disable_topics_data_fetching_status":return{...e,isTopicsDataFetching:!1};case"hide_sidebar":return localStorage.setItem("isSidebarOpen",a),{...e,isSidebarOpen:a};case"auto_load_next":return{...e,autoNavigateNext:a};case"set_next_prev_action":return{...e,topicNavigateAction:a};case"FETCH_COURSE_ANNOUNCEMENTS":return{...e,announcements:a};case"toggle_topics_complete":return{...e,allTopicsItems:[...e.allTopicsItems.map((e=>e.id===a.data.id?{...e,is_completed:a.isComplete?a.isComplete:""}:e))]};default:return e}},courseBundle:function(e={data:!1,totalItems:0,currentPage:1},t){const a=t.payload;switch(t.type){case YD:return{...e,data:a.data,totalItems:a.totalItems};case"fetch_course_bundle":return{...e,data:[a]};case UD:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case WD:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case KD:return{...e,currentPage:a};case GD:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};default:return e}},hooks:function(e={data:[],status:"all"},t){const a=t.payload;switch(t.type){case SD:return{...e,data:a.data,totalItems:a.totalItems};case"fetch_hooks":if(e.data){const t=e.data.map((e=>parseInt(e.ID)===parseInt(a.ID)?{...a}:e));return{...e,data:t}}return{...e,data:[a]};case OD:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case AD:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case CD:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case ID:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};default:return e}},meetings:function(e={},t){const a=t.payload;switch(t.type){case wx:return{...e,data:a.data,totalItems:a.totalItems};case"fetch_meeting":return{...e,data:[a]};case bx:return e.data?{...e,data:[a,...e.data]}:{...e,data:[a]};case vx:if(e.data){const t=e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,...a}:e));return{...e,data:t}}return{...e,data:[a]};case Ex:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.id)!==parseInt(a.id)))]}:{...e,data:[a]};default:return e}},notification:function(e={message:"",showNotification:!1,type:"success"},t){const a=t.payload;return t.type===ir?{message:a.message,showNotification:a.isShow,type:a.type}:e},notifications:function(e={},t){const a=t.payload;switch(t.type){case rm:return{...e,data:a};case im:case sm:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.notification_id)!==parseInt(a)))]}:{...e,data:[a]};case om:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.gradebook_id)!==parseInt(a)))]}:{...e,data:[a]};default:return e}},gradeBook:function(e={},t){const a=t.payload;switch(t.type){case nD:return{...e,data:a};case"generate_grades":return{...e,data:a.data};case aD:return e.data?{...e,data:[a.data,...e.data]}:{...e,data:[a]};case rD:return e.data?{...e,data:e.data.map((e=>parseInt(e.gradebook_id)===parseInt(a.gradebook_id)?{...e,...a}:e))}:{...e,data:[a]};case iD:return e.data?{...e,data:[...e.data.filter((e=>parseInt(e.gradebook_id)!==parseInt(a)))]}:{...e,data:[a]};case sD:return{...e,studentGrades:a.data,totalItems:a.totalItems};case oD:return{...e,studentGrade:a.data};case lD:return{...e,studentGrades:[...e.studentGrades.filter((e=>parseInt(e.gradebook_result_id)!==parseInt(a)))]};case cD:return{...e,studentGrade:[...e?.studentGrade?.data?.filter((e=>parseInt(e.gradebook_id)!==parseInt(a?.data?.gradebook_result_id)))]};default:return e}},googleClassroom:function(e={},t){const a=t.payload;switch(t.type){case mF:return{...e,data:a.data};case dF:return e.data?{...e,data:[a.data,...e.data]}:{...e,data:[a]};case"update_google_classroom":return e.data?{...e,data:e.data.map((e=>parseInt(e.course_id)===parseInt(a.course_id)?{...e,...a}:e))}:{...e,data:[a]};case pF:return e.data?{...e,data:e.data.map((e=>parseInt(e.id)===parseInt(a.id)?{...e,actionlink:{...e.actionlink,...a.data}}:e))}:{...e,data:[a]};case hF:return e.data?{...e,data:e.data.map((e=>parseInt(e.id)===parseInt(a)?{...e,actionlink:{...e.actionlink,status:"publish"}}:e))}:{...e,data:[a]};case fF:return e.data?{...e,data:[...e.data.map((e=>parseInt(e.id)===parseInt(a)?{...e,actionlink:null}:e))]}:{...e,data:[a]};default:return e}}});let AF=[CF];const TF=(0,Xk.MT)(IF,{},(0,NF.Uo)((0,Xk.md)(...AF)));document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("academywrap");if(t){const a=(0,n.s)(t),i=document.getElementById("toplevel_page_academy");function s({children:e}){return i.innerHTML="",(0,r.createPortal)(e,i)}a.render((0,e.createElement)(Rn,{store:TF},(0,e.createElement)(z,null,(0,e.createElement)(s,null,(0,e.createElement)(Vn,null)),(0,e.createElement)(xF,null))))}}))})()})();